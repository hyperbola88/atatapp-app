!function(t){function e(e){for(var o,c,a=e[0],u=e[1],s=e[2],l=0,p=[];l<a.length;l++)c=a[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);for(f&&f(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={0:0},i=[];function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var a=window.webpackJsonp=window.webpackJsonp||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var s=0;s<a.length;s++)e(a[s]);var f=u;i.push([258,1]),n()}([function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return y}));var o,r=n(3),i=n(2);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.DEFAULT=1]="DEFAULT",t[t.HEROES=2]="HEROES",t[t.GHOST=4]="GHOST",t[t.ENEMIES=8]="ENEMIES",t[t.STAFF=16]="STAFF",t[t.LIGHT=32]="LIGHT",t[t.GAS=64]="GAS",t[t.BOMB=128]="BOMB",t[t.END=256]="END",t[t.DANGER=512]="DANGER",t[t.MAGIC=1024]="MAGIC",t[t.WATER=2048]="WATER",t[t.STAR=4096]="STAR"}(o||(o={}));var f=function(t){return 30*t},l=function(t){return t/30},p=function(){for(var t=0,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i in o)if("number"==typeof o[i]){var c=o[i];-1===n.indexOf(c)&&(t|=c)}return t},y=function(){function t(){c(this,t),s(this,"world",void 0),s(this,"fixedTimeStep",1/60),s(this,"maxSubSteps",10),s(this,"movingSleepBodies",[]),s(this,"movingBodies",[]),s(this,"removeBodies",[]),s(this,"paused",void 0)}return u(t,[{key:"init",value:function(){this.paused=!1,this.world=new r.World({gravity:new r.Vec2(0,20),allowSleep:!0}),this.world.on("begin-contact",(function(t){i.app.runners.beginContact.emit(t)})),this.world.on("end-contact",(function(t){i.app.runners.endContact.emit(t)})),this.world.on("pre-solve",(function(t){}))}},{key:"explode",value:function(t,e,n){for(var o=this,i=0;i<36;i++){var c=i/36*360*(Math.PI/180),a=new r.Vec2(e.x+Math.sin(c)*n,e.y+Math.cos(c)*n);h.reset(),this.world.rayCast(e,a,h.callback),h.hit&&h.bodies.forEach((function(n,r){o.applyBlastImpulse(n,e,h.points[r],t/36)}))}}},{key:"pause",value:function(){this.paused=!0}},{key:"unpause",value:function(){this.paused=!1}},{key:"addBody",value:function(t){return this.world.createBody(t)}},{key:"removeBody",value:function(t){this.removeBodies.push(t)}},{key:"moveBodyAndSleep",value:function(t,e){this.movingSleepBodies.push({body:t,position:e})}},{key:"moveBody",value:function(t,e){this.movingBodies.push({body:t,position:e})}},{key:"loop",value:function(t){if(!this.paused){if(t=Math.min(t,2),this.movingSleepBodies.length>0&&(this.movingSleepBodies.forEach((function(t){t.body.setTransform(t.position,0),t.body.setLinearVelocity(r.Vec2.zero()),t.body.setAwake(!1),t.body.setGravityScale(0)})),this.movingSleepBodies=[]),this.movingBodies.length>0&&(this.movingBodies.forEach((function(t){t.body.setTransform(t.position,0),t.body.setLinearVelocity(r.Vec2.zero());var e=t.body.getUserData();e&&e.isGhost||t.body.setGravityScale(1),t.body.setAwake(!0)})),this.movingBodies=[]),this.removeBodies.length>0)for(var e=this.removeBodies.length-1;e>=0;e--)this.removeBodies[e]&&this.world.destroyBody(this.removeBodies[e]),this.removeBodies.splice(e,1);this.world.step(t*this.fixedTimeStep),this.world.clearForces()}}},{key:"applyBlastImpulse",value:function(t,e,n,o){var i=r.Vec2.sub(n,e),c=i.normalize();if(0!==c){var a=1/c,u=o*a*a,s=r.Vec2.mul(i,u);t.applyLinearImpulse(s,n)}}}]),t}(),h=function(){function t(){c(this,t)}return u(t,null,[{key:"reset",value:function(){t.hit=!1,t.points=[],t.normals=[],t.bodies=[]}}]),t}();s(h,"hit",void 0),s(h,"points",void 0),s(h,"normals",void 0),s(h,"bodies",void 0),s(h,"callback",(function(t,e,n,r){var i=t.getBody();return t.m_filterCategoryBits===o.GHOST||t.m_filterCategoryBits===o.DEFAULT||t.m_filterCategoryBits===o.GAS||t.m_filterCategoryBits===o.MAGIC?-1:(h.hit=!0,h.points.push(e),h.bodies.push(i),h.normals.push(n),1)}))},,function(t,e,n){"use strict";n.r(e),n.d(e,"app",(function(){return o}));var o=new(n(24).a);o.runners.init.run(),o.resize();try{0}catch(t){}document.getElementById("app").appendChild(o.view)},,,,,,function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return l}));var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,o,u=a(l);function l(){var t,e,n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),t=u.call(this),e=s(t),o=void 0,(n="_entity")in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,t}return e=l,(n=[{key:"setEntity",value:function(t){this._entity=t}},{key:"getEntity",value:function(){return this._entity}},{key:"destroy",value:function(){this._entity=null,i(f(l.prototype),"destroy",this).call(this)}}])&&r(e.prototype,n),o&&r(e,o),l}(n(12).Container)},,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var o=n(3),r=n(0),i=n(16),c=n(8);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(y,e);var n,i,a,l=f(y);function y(t,e,n,i,a,u,s){var f,h,d,b;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),f=l.call(this,s||new c.a,n,{position:new o.Vec2(Object(r.e)(t),Object(r.e)(e))}),h=p(f),b=void 0,(d="filterMaskBits")in h?Object.defineProperty(h,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):h[d]=b,f.filterMaskBits=u||Object(r.c)(f.physicsGroup,r.a.GAS),f.createShape(i,a),s||f.createView(i,a),f}return n=y,(i=[{key:"createView",value:function(e,n){var o=new t.Graphics;o.beginFill(0,.5),o.drawRect(-e/2,-n/2,e,n),o.endFill(),this.view.addChild(o)}},{key:"createShape",value:function(t,e){var n=[new o.Vec2(Object(r.e)(-(t-.5)/2),Object(r.e)(-e/2)),new o.Vec2(Object(r.e)((t-.5)/2),Object(r.e)(-e/2)),new o.Vec2(Object(r.e)(0),Object(r.e)(e/2))];this.body.createFixture(new o.Polygon(n),{density:1,friction:1,restitution:0,filterCategoryBits:this.physicsGroup,filterMaskBits:this.filterMaskBits}),n=[new o.Vec2(Object(r.e)(-t/2),Object(r.e)(e/2)),new o.Vec2(Object(r.e)(-t/2),Object(r.e)(-e/2)),new o.Vec2(Object(r.e)(0),Object(r.e)(e/2))],this.body.createFixture(new o.Polygon(n),{density:1,friction:0,restitution:0,filterCategoryBits:this.physicsGroup,filterMaskBits:this.filterMaskBits}),n=[new o.Vec2(Object(r.e)(t/2),Object(r.e)(e/2)),new o.Vec2(Object(r.e)(t/2),Object(r.e)(-e/2)),new o.Vec2(Object(r.e)(0),Object(r.e)(e/2))],this.body.createFixture(new o.Polygon(n),{density:1,friction:0,restitution:0,filterCategoryBits:this.physicsGroup,filterMaskBits:this.filterMaskBits})}}])&&u(n.prototype,i),a&&u(n,a),y}(i.a)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(2);function r(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,c=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=void 0,(n="components")in(e=this)?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,this.components=[]}var e,n,i;return e=t,(n=[{key:"addComponent",value:function(t){this.isView(t)?o.app.gameLayer.addChild(t):this.isPhysics(t),t.setEntity(this),this.components.push(t)}},{key:"removeComponent",value:function(t){this.isPhysics(t)?o.app.physics.removeBody(t.body):this.isView(t)&&o.app.gameLayer.removeChild(t),t.destroy();var e=this.components.indexOf(t);e>=0&&this.components.splice(e,1)}},{key:"getComponent",value:function(t){var e,n=r(this.components);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(o instanceof t)return o}}catch(t){n.e(t)}finally{n.f()}}},{key:"getAllComponents",value:function(t){var e,n=[],o=r(this.components);try{for(o.s();!(e=o.n()).done;){var i=e.value;i instanceof t&&n.push(i)}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"clear",value:function(){for(var t=this.components.length-1;t>=0;t--)this.removeComponent(this.components[t]);this.components=[]}},{key:"isView",value:function(t){return void 0!==t.children&&void 0===t.view}},{key:"isPhysics",value:function(t){return void 0!==t.view}}])&&c(e.prototype,n),i&&c(e,i),t}(),u=function(){return new a}},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(2),r=n(37),i=n(0);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(l,t);var e,n,r,c=f(l);function l(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),h(p(r=c.call(this)),"view",void 0),h(p(r),"body",void 0),h(p(r),"physicsGroup",void 0),r.body=o.app.physics.addBody(n),r.body.setUserData(p(r)),r.physicsGroup=e,r.view=t,o.app.runners.loop.add(p(r)),o.app.runners.beginContact.add(p(r)),o.app.runners.endContact.add(p(r)),r}return e=l,r=[{key:"isContacted",value:function(t,e,n){return t.getFixtureA().getBody()===e&&t.getFixtureB().getBody()===n||t.getFixtureB().getBody()===e&&t.getFixtureA().getBody()===n}},{key:"getAnotherBody",value:function(t,e){return t.getFixtureA().getBody()===e?t.getFixtureB().getBody():t.getFixtureB().getBody()===e?t.getFixtureA().getBody():null}}],(n=[{key:"loop",value:function(){if(this.view){var t=this.body.getPosition();this.view.position.set(Object(i.d)(t.x),Object(i.d)(t.y)),this.view.rotation=this.body.getAngle()}else console.log("no view")}},{key:"beginContact",value:function(t){var e=l.getAnotherBody(t,this.body);e&&this.onBeginContacted(e)}},{key:"endContact",value:function(t){var e=l.getAnotherBody(t,this.body);e&&this.onEndContacted(e)}},{key:"hide",value:function(){this.view.visible=!1,this.body.setActive(!1)}},{key:"show",value:function(){this.view.visible=!0,this.body.setActive(!0)}},{key:"destroy",value:function(){u(y(l.prototype),"destroy",this).call(this),o.app.runners.loop.remove(this),o.app.runners.beginContact.remove(this),o.app.runners.endContact.remove(this),this.view=null}},{key:"setEntity",value:function(t){u(y(l.prototype),"setEntity",this).call(this,t),this._entity&&this._entity.addComponent(this.view)}},{key:"onBeginContacted",value:function(t){}},{key:"onEndContacted",value:function(t){}}])&&a(e.prototype,n),r&&a(e,r),l}(r.a)},,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var o=n(223),r=function(e){var n=new o.a,r=0;return t.Ticker.shared.add((function o(i){(r+=i)/(60*t.Ticker.shared.speed)>=e/1e3&&(t.Ticker.shared.remove(o),n.resolve())})),n}}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return b}));var o,r=n(2),i=n(13),c=n(37);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.ACTION=2]="ACTION",t[t.SUPERACTION=3]="SUPERACTION"}(o||(o={}));var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(p,t);var e,n,c,a=l(p);function p(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d(y(n=a.call(this)),"character",void 0),d(y(n),"movement",void 0),d(y(n),"_enabled",void 0),d(y(n),"_id",void 0),d(y(n),"tween",void 0),n.id=t,n.character=e,n.enabled=!1,n.movement={right:0,left:0,up:0},r.app.runners.loop.add(y(n)),n}return e=p,(n=[{key:"loop",value:function(){if(this.enabled){var t=this.movement.right-this.movement.left;this.character.move(t)}}},{key:"startAction",value:function(t){if(this.enabled)switch(this.tween&&this.tween.seek(this.tween.duration()),t){case o.RIGHT:this.movement.right=1;break;case o.LEFT:this.movement.left=1;break;case o.ACTION:this.movement.up=1,this.character.action();break;case o.SUPERACTION:this.character.superAction()}}},{key:"stopAction",value:function(t){switch(t){case o.RIGHT:this.tween=i.a.to(this.movement,{duration:.2,right:0,ease:"linear"});break;case o.LEFT:this.tween=i.a.to(this.movement,{duration:.2,left:0,ease:"linear"});break;case o.ACTION:this.movement.up=0,this.character.stopAction()}}},{key:"destroy",value:function(){r.app.runners.loop.remove(this),s(h(p.prototype),"destroy",this).call(this),this._enabled=!1}},{key:"id",set:function(t){this._id=t},get:function(){return this._id}},{key:"enabled",set:function(t){this._enabled=t},get:function(){return this._enabled}}])&&u(e.prototype,n),c&&u(e,c),p}(c.a)},,,,,function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return b})),n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return m}));var o=n(216),r=n(219),i=n(220),c=n(221),a=n(222),u=n(51),s=n(251),f=n(256),l=n(0),p=n(131),y=n(257);function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=1280,v=720,m=function(){function e(){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"runners",void 0),d(this,"renderer",void 0),d(this,"gameLayer",void 0),d(this,"guiLayer",void 0),d(this,"ticker",void 0),d(this,"loader",void 0),d(this,"assets",void 0),d(this,"physics",void 0),d(this,"game",void 0),d(this,"characters",void 0),d(this,"enemies",void 0),d(this,"hosts",void 0),d(this,"gui",void 0),d(this,"coins",void 0),d(this,"sounds",void 0),d(this,"stage",void 0),d(this,"controls",void 0),d(this,"splash",void 0);var h={width:b,height:v,backgroundColor:1087931,autoDensity:!0,resolution:window.devicePixelRatio},m=new t.Application(h);this.renderer=m.renderer,this.stage=new t.Container,this.gameLayer=new t.Container,this.guiLayer=new t.Container,this.stage.addChild(this.gameLayer),this.stage.addChild(this.guiLayer),this.ticker=new t.Ticker,this.runners={init:new t.Runner("init"),load:new t.Runner("load"),loop:new t.Runner("loop"),start:new t.Runner("start"),resize:new t.Runner("resize"),entityAdded:new t.Runner("entityAdded"),entityRemoved:new t.Runner("entityRemoved"),beginContact:new t.Runner("beginContact"),endContact:new t.Runner("endContact"),postStep:new t.Runner("postStep"),gameStarted:new t.Runner("gameStarted"),characterSwitched:new t.Runner("characterSwitched")},this.ticker.add((function(t){n.render(),n.runners.loop.emit(t)}),t.UPDATE_PRIORITY.LOW),this.ticker.start(),this.loader=new t.Loader,this.addSystem(this.assets=new o.a),this.addSystem(this.splash=new y.a),this.addSystem(this.physics=new l.b),this.addSystem(this.game=new u.a),this.addSystem(this.characters=new r.a),this.addSystem(this.controls=new c.a),this.addSystem(this.enemies=new a.a),this.addSystem(this.hosts=new f.a),this.addSystem(this.gui=new s.a),this.addSystem(this.coins=new i.a),this.addSystem(this.sounds=new p.a),window.addEventListener("resize",(function(){n.resize()}),!1)}var n,m,w;return n=e,(m=[{key:"render",value:function(){this.renderer.render(this.stage)}},{key:"destroy",value:function(){this.renderer.destroy(),this.ticker.destroy()}},{key:"resize",value:function(){this.renderer.resize(window.innerWidth,window.innerHeight),this.render(),this.runners.resize.emit(window.innerWidth,window.innerHeight)}},{key:"addSystem",value:function(t){for(var e in this.runners)this.runners[e].add(t)}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}])&&h(n.prototype,m),w&&h(n,w),e}()}).call(this,n(12))},,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n(2),r=n(37),i=n(19);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(f,t);var e,n,r,c=s(f);function f(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),y(l(e=c.call(this)),"character",void 0),y(l(e),"controlled",void 0),e.character=t;var n=e.character;return e.controlled=n&&n.getEntity().getComponent(i.b),e}return e=f,(n=[{key:"putHost",value:function(){this.controlled&&o.app.gui.hostButton(this.controlled.id),this.character.putHost()}},{key:"releaseHost",value:function(){this.controlled&&o.app.gui.unhostButton(this.controlled.id),this.character.releaseHost()}},{key:"hasHost",value:function(){return this.character.hosted}}])&&a(e.prototype,n),r&&a(e,r),f}(r.a)},,,,,,,function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}n.d(e,"a",(function(){return r}));var r=function(){function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=void 0,(n="_entity")in(e=this)?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}var e,n,r;return e=t,(n=[{key:"setEntity",value:function(t){this._entity=t}},{key:"getEntity",value:function(){return this._entity}},{key:"disable",value:function(){}},{key:"enable",value:function(){}},{key:"destroy",value:function(){this._entity=null}}])&&o(e.prototype,n),r&&o(e,r),t}()},,,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return g}));var o,r=n(2),i=n(24),c=n(224),a=n(172),u=n(248),s=n(249),f=n(250),l=n(74),p=n(37),y=n(16),h=n(3),d=n(18),b=n(0),v=n(30);function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.LEVEL1_SHOW_TUBE=0]="LEVEL1_SHOW_TUBE",t[t.LEVEL1_HIDE_TUBE=1]="LEVEL1_HIDE_TUBE",t[t.LEVEL1_REMOVE_WATER=2]="LEVEL1_REMOVE_WATER",t[t.LEVEL_FINISHED=3]="LEVEL_FINISHED"}(o||(o={}));var g=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),w(this,"entities",void 0),w(this,"levels",void 0),w(this,"currentLevelId",void 0),w(this,"prevLevel",void 0)}var n,g,O;return n=e,(g=[{key:"init",value:function(){if(this.entities=[],this.levels=[new u.a,new s.a,new f.a,new c.a],this.currentLevelId=0,a.isEnabled&&t.utils.isMobile.any){var e=document.getElementById("splash");e.style.display="block",e.addEventListener("touchend",(function(){e.style.display="none",a.request()}))}}},{key:"start",value:function(t){this.currentLevelId=1===t?3:0,this.level.init()}},{key:"restart",value:function(){this.prevLevel&&(this.prevLevel.destroy(),this.prevLevel=void 0),this.removeAll(),this.level.restart(),r.app.gui.restart()}},{key:"gameOver",value:function(){r.app.gui.gameOver()}},{key:"finishLevel",value:function(){r.app.gui.finishLevel(r.app.coins.levelsCoins),this.level.finishLevel(),this.prevLevel=this.level,this.currentLevelId+1<this.levels.length?this.currentLevelId++:this.currentLevelId=0}},{key:"resize",value:function(t,e){var n=0,o=0,c=1;e/t<i.b/i.c?(n=(o=e)*i.c/i.b,c=o/i.b):(o=(n=t)*i.b/i.c,c=n/i.c),r.app.gameLayer.scale.set(c,c),r.app.gameLayer.position.set(t/2-n/2,e/2-o/2)}},{key:"execute",value:function(t){t===o.LEVEL_FINISHED?(this.finishLevel(),r.app.characters.disableCharacters(),r.app.gui.disableAll()):this.level.execute(t)}},{key:"add",value:function(t){this.entities.push(t),r.app.runners.entityAdded.emit(t)}},{key:"remove",value:function(t,e){var n=this,o=t.getComponent(v.a);o&&o.hasHost()&&(o.releaseHost(),r.app.hosts.host&&r.app.hosts.host.releaseHost());var i=t.getComponent(l.a);if(i&&!e){var c=t.getComponent(y.a);c&&r.app.physics.moveBodyAndSleep(c.body,new h.Vec2(-100,-100));var a=t.getAllComponents(p.a);a.forEach((function(t){t.disable()})),Object(d.a)(i.delay).then((function(){if(c){var t=new h.Vec2(Object(b.e)(i.x),Object(b.e)(i.y));n.level.createExplosion(t,200,0),r.app.physics.moveBody(c.body,t)}a.forEach((function(t){t.enable()}))}))}else{r.app.runners.entityRemoved.emit(t);var u=this.entities.indexOf(t);u>=0&&this.entities.splice(u,1),t.clear()}}},{key:"removeAll",value:function(){for(var t=this.entities.length-1;t>=0;t--)this.entities[t]&&this.remove(this.entities[t],!0),this.entities.splice(t,1)}},{key:"level",get:function(){return this.levels[this.currentLevelId]}}])&&m(n.prototype,g),O&&m(n,O),e}()}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));var o=n(2),r=n(37),i=n(59),c=n(68),a=n(134),u=n(16),s=n(56);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(d,t);var e,n,r,f=h(d);function d(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),m(b(n=f.call(this)),"physicsComponent",void 0),m(b(n),"damageGroups",void 0),n.physicsComponent=t,n.damageGroups=Array.isArray(e)?e:[e],o.app.runners.beginContact.add(b(n)),n}return e=d,(n=[{key:"beginContact",value:function(t){if(this.physicsComponent){var e=u.a.getAnotherBody(t,this.physicsComponent.body);if(e&&this.damageGroups.some((function(t){return e.getFixtureList().m_filterCategoryBits===t}))){var n=this.getEntity().getComponent(i.a),o=this.getEntity().getComponent(c.a),r=e.getUserData(),f=r.getEntity().getComponent(c.a),l=r.getEntity().getComponent(a.a),p=r.getEntity().getComponent(s.a),y=o&&(l||p&&p.active&&!o.hosted);(n&&(f&&!f.hosted||l)||y)&&this.kill()}}}},{key:"kill",value:function(){o.app.game.remove(this._entity)}},{key:"destroy",value:function(){p(v(d.prototype),"destroy",this).call(this),this.physicsComponent=null,o.app.runners.beginContact.remove(this)}}])&&l(e.prototype,n),r&&l(e,r),d}(r.a)},,,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b}));var o=n(13),r=n(3),i=n(0),c=n(225);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(v,e);var n,a,p,b=l(v);function v(e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),d(y(n=b.call(this,new c.a,i.a.DANGER,{type:r.Body.KINEMATIC,position:e.body.getPosition(),angle:0*t.DEG_TO_RAD})),"inAction",void 0),d(y(n),"ninja",void 0),n.ninja=e,n.createShape(),n}return n=v,(a=[{key:"loop",value:function(){if(s(h(v.prototype),"loop",this).call(this),this.body&&this.ninja&&this.ninja.view){var t=this.ninja.view.scale.x;this.body.setPosition(this.ninja.body.getPosition()),this.body.getPosition().x-=Object(i.e)(5*t)}}},{key:"action",value:function(){var e=this;if(!this.inAction){var n=this.ninja.view.scale.x;this.inAction=!0;var r={angle:this.body.getAngle()};o.a.to(r,{duration:.1,angle:90*n*t.DEG_TO_RAD,ease:"linear",onUpdate:function(){e.body.setAngle(r.angle)}}),o.a.to(r,{duration:.1,delay:.1,angle:0*t.DEG_TO_RAD,ease:"linear",onUpdate:function(){e.body.setAngle(r.angle)},onComplete:function(){e.inAction=!1}})}}},{key:"createShape",value:function(){this.body.createFixture(new r.Box(Object(i.e)(6),Object(i.e)(60),new r.Vec2(0,Object(i.e)(-30))),{filterCategoryBits:this.physicsGroup,filterMaskBits:Object(i.c)(this.physicsGroup,i.a.HEROES,i.a.GHOST)})}},{key:"active",get:function(){return this.inAction}}])&&u(n.prototype,a),p&&u(n,p),v}(n(16).a)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var o=n(3),r=n(2),i=n(0),c=n(238);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,n,a,l=f(p);function p(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(e=l.call(this,new c.a,i.a.STAR,{type:o.Body.KINEMATIC,position:new o.Vec2(Object(i.e)(t.x),Object(i.e)(t.y))})).createShape(),e}return e=p,(n=[{key:"createShape",value:function(){this.body.createFixture(new o.Circle(o.Vec2.zero(),Object(i.e)(13)),{isSensor:!0,filterCategoryBits:this.physicsGroup,filterMaskBits:i.a.HEROES|i.a.GHOST})}},{key:"onBeginContacted",value:function(t){r.app.coins.getCoin(),r.app.game.remove(this.getEntity())}}])&&u(e.prototype,n),a&&u(e,a),p}(n(16).a)},,function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var o=n(3),r=n(19),i=n(16),c=n(132);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(p,t);var e,n,i,a=l(p);function p(t,e,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),d(y(o=a.call(this,t,e,n)),"characterSettings",void 0),d(y(o),"hosted",void 0),d(y(o),"characterView",void 0),o.hosted=!1,o.characterView=o.view,o.body.setSleepingAllowed(!1),o}return e=p,(n=[{key:"action",value:function(){this.canAction()&&this.doAction()}},{key:"stopAction",value:function(){}},{key:"superAction",value:function(){this.canSuperAction()&&this.doSuperAction()}},{key:"move",value:function(t){this.canMove()&&this.doMove(t)}},{key:"loop",value:function(){s(h(p.prototype),"loop",this).call(this);var t=this.body.getLinearVelocity().x,e=Math.floor(10*Math.abs(t))/10;this.view&&0!==e&&(this.view.scale.x=Math.abs(t)/t)}},{key:"putHost",value:function(){this.hosted=!0,this.characterView.idle(),this.view.filters=[new c.a]}},{key:"releaseHost",value:function(){this.hosted=!1,this.characterView.idle(),this.view&&(this.view.filters=[])}},{key:"doMove",value:function(t){this.canAction()&&(0!==t?this.characterView.walk():this.characterView.idle()),0!==t&&(this.body.m_linearVelocity.x=this.characterSettings.speed*t)}},{key:"doAction",value:function(){this.characterView.action(),this.body.applyLinearImpulse(new o.Vec2(0,-this.characterSettings.jumpForce),o.Vec2.zero(),!0)}},{key:"canAction",value:function(){return Math.floor(100*Math.abs(this.body.getLinearVelocity().y))/100==0}},{key:"doSuperAction",value:function(){this.characterView.superAction()}},{key:"canSuperAction",value:function(){return!0}},{key:"canMove",value:function(){return!0}},{key:"controlledComponent",get:function(){return this._entity&&this._entity.getComponent(r.b)}},{key:"enabled",set:function(t){this.controlledComponent&&(this.controlledComponent.enabled=t,!t&&this.characterView&&this.characterView.idle())},get:function(){return this.controlledComponent&&this.controlledComponent.enabled}}])&&u(e.prototype,n),i&&u(e,i),p}(i.a)},,,,,,,,function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return l}));var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t);var e,n,o,a=c(s);function s(t,e,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),f(u(o=a.call(this,t,e,n)),"triggered",void 0),f(u(o),"executor",void 0),o.triggered=!1,o}return e=s,(n=[{key:"execute",value:function(t,e){}},{key:"onBeginContacted",value:function(t){this.execute(!0,t)}},{key:"onEndContacted",value:function(t){this.execute(!1,t)}},{key:"createShape",value:function(){}},{key:"createView",value:function(){}}])&&r(e.prototype,n),o&&r(e,o),s}(n(16).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var o=n(3),r=n(0),i=n(18),c=n(133),a=n(16),u=n(132);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(h,t);var e,n,a,s=y(h);function h(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),v(d(n=s.call(this,new c.a,r.a.ENEMIES,{type:o.Body.DYNAMIC,position:new o.Vec2(Object(r.e)(t),Object(r.e)(e))})),"hosted",void 0),v(d(n),"delayPromise",void 0),v(d(n),"direction",void 0),v(d(n),"jumping",void 0),v(d(n),"enemyView",void 0),n.hosted=!1,n.body.setMassData({mass:.1,center:o.Vec2.zero(),I:1}),n.body.setFixedRotation(!0),n.body.setSleepingAllowed(!1),n.createShape(),n.enemyView=n.view,n.thinkAndGo(),n}return e=h,(n=[{key:"pause",value:function(){this.disable()}},{key:"action",value:function(){}},{key:"releaseHost",value:function(){this.hosted=!1,this.view.filters=[],this.thinkAndGo()}},{key:"putHost",value:function(){this.hosted=!0,this.view.filters=[new u.a],this.delayPromise&&this.delayPromise.reject()}},{key:"disable",value:function(){this.delayPromise&&this.delayPromise.reject(),this.enemyView.idle(),this.body.setLinearVelocity(o.Vec2.zero()),this.hosted=!0}},{key:"enable",value:function(){this.hosted=!1}},{key:"onBeginContacted",value:function(t){if(!this.hosted){var e=t.getFixtureList().m_filterCategoryBits;e===r.a.BOMB&&this.canJump()?this.jump():e!==r.a.GAS&&e!==r.a.DEFAULT&&e!==r.a.GHOST&&(this.direction*=-1)}}},{key:"jump",value:function(){this.enemyView.action(),this.body.applyLinearImpulse(new o.Vec2(0,-15),o.Vec2.zero(),!0)}},{key:"canJump",value:function(){return Math.floor(100*Math.abs(this.body.getLinearVelocity().y))/100==0}},{key:"move",value:function(t){0!==t&&Math.abs(this.body.m_linearVelocity.x)<5?(this.enemyView.walk(),this.hosted?this.body.m_linearVelocity.x=3*t:this.body.applyForceToCenter(new o.Vec2(15*t,0))):0===t&&this.enemyView.idle()}},{key:"loop",value:function(){this.hosted||this.move(this.direction);var t=this.body.getLinearVelocity().x,e=Math.floor(10*Math.abs(t))/10;this.view&&0!==e&&(this.view.scale.x=Math.abs(t)/t),l(b(h.prototype),"loop",this).call(this),!this.hosted&&this.body.getPosition().x<=17&&(this.direction*=-1,this.body.applyLinearImpulse(new o.Vec2(3,0),o.Vec2.zero()))}},{key:"thinkAndGo",value:function(){var t=this;this.enemyView.idle(),this.direction=0,this.delayPromise=Object(i.a)(3e3),this.delayPromise.then((function(){t.direction=Math.random()<.5?1:-1}))}},{key:"createShape",value:function(){this.body.createFixture(new o.Circle(Object(r.e)(20)),{density:1,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(r.c)(this.physicsGroup)})}},{key:"destroy",value:function(){this.delayPromise&&this.delayPromise.reject(),l(b(h.prototype),"destroy",this).call(this)}}])&&f(e.prototype,n),a&&f(e,a),h}(a.a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var o=n(2),r=n(8);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(d,e);var n,i,f,h=s(d);function d(t,e,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),y(l(i=h.call(this)),"deltaX",void 0),y(l(i),"deltaY",void 0),y(l(i),"arrowAngle",void 0),y(l(i),"text",void 0),y(l(i),"parentView",void 0),i.deltaX=t,i.deltaY=e,i.arrowAngle=n,i.text=r,o.app.runners.loop.add(l(i)),i}return n=d,(i=[{key:"loop",value:function(){try{this.position.copyFrom(this.parentView),this.visible=this.parentView.visible}catch(t){console.log("tip: no parent")}}},{key:"setEntity",value:function(e){a(p(d.prototype),"setEntity",this).call(this,e),this.parentView=e.getComponent(r.a);var n=t.Sprite.from(t.utils.TextureCache.arrow);n.anchor.set(.5),n.scale.set(.7),n.angle=this.arrowAngle,n.position.set(this.deltaX,this.deltaY),this.addChild(n);var o=n.x-n.width/1.3*Math.cos(n.rotation),i=n.y-n.width/1.3*Math.sin(n.rotation),c=new t.Text(this.text,{fontFamily:"Geometria",fill:"#ffff00",align:"center",fontSize:16});c.anchor.set(0,.5),c.position.set(o,i),this.addChild(c)}},{key:"destroy",value:function(){o.app.runners.loop.remove(this),a(p(d.prototype),"destroy",this).call(this)}}])&&c(n.prototype,i),f&&c(n,f),d}(r.a)}).call(this,n(12))},,,,,function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return f}));var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(n,t);var e=i(n);function n(t,o,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(a(i=e.call(this)),"x",void 0),s(a(i),"y",void 0),s(a(i),"delay",void 0),i.x=t,i.y=o,i.delay=r,i}return n}(n(37).a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var o=n(13);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(y,e);var n,r,s,l=u(y);function y(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(this,y),p(f(o=l.call(this)),"gfx",void 0),p(f(o),"tween",void 0),p(f(o),"walking",void 0),p(f(o),"hasDelay",void 0),p(f(o),"speed",void 0),p(f(o),"actioning",void 0),o.speed=n,o.hasDelay=r,o.gfx=t.Sprite.from(t.utils.TextureCache[e]),o.gfx.anchor.set(.5),o.addChild(o.gfx),o.idle(),o}return n=y,(r=[{key:"idle",value:function(){this.killTweens(),this.walking=!1,this.actioning=!1,this.gfx.angle=0,this.tween=o.a.to(this.gfx.position,{duration:this.speed/3,x:0,y:0,ease:"linear"})}},{key:"walk",value:function(){var t=this;this.actioning=!1,this.walking||(this.killTweens(),this.walking=!0,this.hasDelay?this.tween=o.a.to(this.gfx.position,{y:0,x:-10,duration:this.speed/3,onComplete:function(){t.startWalk()}}):this.startWalk())}},{key:"action",value:function(){this.walking=!1,this.actioning||(this.actioning=!0,this.killTweens(),this.tween=o.a.to(this.gfx.position,{duration:this.speed/3,x:this.hasDelay?-6:0,y:4,ease:"linear"}),o.a.to(this.gfx,{duration:this.speed/3,angle:-30,ease:"linear"}))}},{key:"startWalk",value:function(){var t=this;this.gfx.angle=0;var e=this.speed/3;this.tween=o.a.to(this.gfx.position,{duration:e,x:0,y:-10,ease:"linear",onComplete:function(){t.tween=o.a.to(t.gfx.position,{duration:e,x:10,y:0,ease:"linear",onComplete:function(){t.tween=o.a.to(t.gfx.position,{duration:e,x:0,y:0,ease:"linear",onComplete:function(){t.startWalk()}})}})}})}},{key:"killTweens",value:function(){this.tween&&this.tween.isActive()&&this.tween.kill()}}])&&c(n.prototype,r),s&&c(n,s),y}(t.Container)}).call(this,n(12))},function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return a(t,arguments,f(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),s(o,t)})(t)}function a(t,e,n){return(a=u()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&s(r,n.prototype),r}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return l}));var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,t);var e,n,o=(e=c,n=u(),function(){var t,o=f(e);if(n){var i=f(this).constructor;t=Reflect.construct(o,arguments,i)}else t=o.apply(this,arguments);return r(this,t)});function c(t,e){var n,r,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),n=o.call(this,t),r=i(n),u=void 0,(a="code")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u,n.code=e,n}return c}(c(Event))},,,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O}));var o=n(3),r=n(2),i=n(51),c=n(0),a=n(19),u=n(30),s=n(67),f=n(8);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=w(t);if(e){var r=w(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(O,e);var n,s,l,v=b(O);function O(e,n,r,a){var u,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(p(this,O),g(m(u=v.call(this,new f.a,c.a.END,{position:new o.Vec2(Object(c.e)(e),Object(c.e)(n))})),"size",void 0),O.triggerAmount=0,u.size={width:r,height:a},u.createShape(),s){var l=new t.Graphics;l.beginFill(16776960,.5),l.drawRect(-r/2,-a/2,r,a),l.endFill(),u.view.addChild(l)}return u.executor=i.b.LEVEL_FINISHED,u}return n=O,(s=[{key:"execute",value:function(t,e){var n=0,o=e.getUserData();o&&o.getEntity().getComponent(a.b)&&(n+=1);var i=e.getUserData().getEntity().getComponent(u.a);i&&i.hasHost()&&(n+=1),t?O.triggerAmount+=n:O.triggerAmount-=n,this.triggered||O.triggerAmount!==r.app.characters.characters.length||(this.triggered=!0,r.app.game.execute(this.executor))}},{key:"onBeginContacted",value:function(t){var e=t.getUserData();if(e){var n=e.getEntity().getComponent(a.b);n&&r.app.gui.setOnExit(n.id,!0);var o=e.getEntity().getComponent(u.a);o&&o.hasHost()&&r.app.gui.setOnExit(2,!0)}h(w(O.prototype),"onBeginContacted",this).call(this,t)}},{key:"onEndContacted",value:function(t){var e=t.getUserData();if(e&&e.getEntity()){var n=e.getEntity().getComponent(a.b);n&&r.app.gui.setOnExit(n.id,!1);var o=e.getEntity().getComponent(u.a);o&&o.hasHost()&&r.app.gui.setOnExit(2,!1)}h(w(O.prototype),"onEndContacted",this).call(this,t)}},{key:"createShape",value:function(){this.body.createFixture(new o.Box(Object(c.e)(this.size.width/2),Object(c.e)(this.size.height/2)),{isSensor:!0,filterCategoryBits:this.physicsGroup,filterMaskBits:c.a.HEROES|c.a.GHOST|c.a.ENEMIES})}}])&&y(n.prototype,s),l&&y(n,l),O}(s.a);g(O,"triggerAmount",void 0)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(3),r=n(0),i=n(138),c=n(59),a=n(56);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,t);var e,n,c,u=p(y);function y(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),(n=u.call(this,new i.a,r.a.HEROES,{type:o.Body.DYNAMIC,position:new o.Vec2(Object(r.e)(t),Object(r.e)(e))})).body.setMassData({mass:1,center:o.Vec2.zero(),I:1}),n.characterSettings={jumpForce:15,speed:5},n.body.setFixedRotation(!0),n.createShape(),n}return e=y,(n=[{key:"createShape",value:function(){this.body.createFixture(new o.Box(Object(r.e)(10),Object(r.e)(25)),{density:.5,friction:1,restitution:0,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(r.c)(this.physicsGroup,r.a.END,r.a.WATER)}),this.body.createFixture(new o.Circle(new o.Vec2(0,Object(r.e)(25)),Object(r.e)(10)),{density:.35,friction:1,restitution:0,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(r.c)(this.physicsGroup)}),this.body.createFixture(new o.Circle(new o.Vec2(0,Object(r.e)(-25)),Object(r.e)(10)),{density:.25,friction:1,restitution:0,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(r.c)(this.physicsGroup,r.a.END,r.a.WATER)})}},{key:"doSuperAction",value:function(){f(h(y.prototype),"doSuperAction",this).call(this);var t=this.getEntity().getComponent(a.a);t&&t.action()}}])&&s(e.prototype,n),c&&s(e,c),y}(c.a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var o=n(2),r=n(11),i=n(242),c=n(243),a=n(95),u=n(18);function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var f=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,f,l;return n=e,(f=[{key:"init",value:function(){this.restart(),Object(u.a)(1).then((function(){o.app.runners.gameStarted.run()}))}},{key:"restart",value:function(){this.createBackground(),this.createAll()}},{key:"finishLevel",value:function(){o.app.game.entities.forEach((function(t){var e=t.getComponent(a.a);e&&e.pause()}))}},{key:"createExplosion",value:function(t,e,n){var c=Object(r.a)();c.addComponent(new i.a(t,e,n)),o.app.game.add(c)}},{key:"createMagic",value:function(e,n){for(var i=Object(r.a)(),a=n.x,u=-50,s=0;s<10;s++){var f=n.clone(),l=.2*Math.random()+.8;f.x=Math.cos(t.DEG_TO_RAD*u)*a*l,f.y=Math.sin(t.DEG_TO_RAD*u)*Math.abs(a)*l,i.addComponent(new c.a(e,f)),u+=6}o.app.game.add(i)}}])&&s(n.prototype,f),l&&s(n,l),e}()}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.utils.TextureCache.small_platform,i=t.Sprite.from(r);i.anchor.set(1,0),e.addChild(i),i.position.x=-i.width;var c=t.Sprite.from(r);c.position.x=i.position.x,e.addChild(c);var a=t.Sprite.from(r);a.position.x=c.position.x+c.width,e.addChild(a);var u=t.Sprite.from(r);return u.position.x=a.position.x+a.width,e.addChild(u),i.position.y=c.position.y=a.position.y=u.position.y=-35,e}return o}(n(8).a)}).call(this,n(12))},,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var o=n(37);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,t);var e,n,r,u=a(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),u.call(this)}return e=s,(n=[{key:"pause",value:function(){var t=this;this.getEntity().getAllComponents(o.a).filter((function(e){return e!==t&&t.isPausable(e)})).forEach((function(t){t.pause()}))}},{key:"isPausable",value:function(t){return void 0!==t.pause}}])&&i(e.prototype,n),r&&i(e,r),s}(o.a)},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(e){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),r=n.call(this);var i=new t.Text(e,new t.TextStyle({fontFamily:"Geometria-Bold",align:"center",fontSize:30,fontWeight:"bold",wordWrap:!0,wordWrapWidth:100}));return i.anchor.set(.5),r.addChild(i),r.back.anchor.set(.5),r.back.width=i.width+40,r.back.height=i.height+30,r}return o}(n(106).a)}).call(this,n(12))},,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(13);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function t(e,n,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r(this,t),c(this,"gfx",void 0),c(this,"tween",void 0),c(this,"walking",void 0),c(this,"hasDelay",void 0),c(this,"speed",void 0),c(this,"actioning",void 0),c(this,"superActioning",void 0),c(this,"angles",void 0),this.speed=n,this.hasDelay=i,this.angles=o,this.gfx=e,this.idle()}var e,n,a;return e=t,(n=[{key:"idle",value:function(){this.superActioning||(this.killTweens(),this.walking=!1,this.actioning=!1,this.tween=o.a.to(this.gfx,{duration:this.speed/3,angle:this.angles[0],ease:"linear"}))}},{key:"walk",value:function(){var t=this;this.superActioning||(this.actioning=!1,this.walking||(this.killTweens(),this.walking=!0,this.hasDelay?this.tween=o.a.to(this.gfx,{angle:this.angles[1],duration:this.speed/2,onComplete:function(){t.startWalk()}}):this.startWalk()))}},{key:"action",value:function(){this.walking=!1,this.actioning||(this.actioning=!0,this.killTweens(),this.gfx.angle=this.angles[0])}},{key:"killTweens",value:function(){this.tween&&this.tween.isActive()&&this.tween.kill()}},{key:"startWalk",value:function(){var t=this;this.gfx.angle=this.angles[0];var e=this.speed/2;this.tween=o.a.to(this.gfx,{duration:e,angle:this.angles[1],ease:"linear",onComplete:function(){t.tween=o.a.to(t.gfx,{duration:e,angle:t.angles[0],ease:"linear",onComplete:function(){t.startWalk()}})}})}}])&&i(e.prototype,n),a&&i(e,a),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(3),r=n(2),i=n(0),c=n(139);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(d,t);var e,n,a,p=l(d);function d(t,e){var n,r,a,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),n=p.call(this,new c.a,i.a.HEROES,{type:o.Body.DYNAMIC,position:new o.Vec2(Object(i.e)(t),Object(i.e)(e))}),r=y(n),a="magicVec",u=o.Vec2.zero(),a in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u,n.body.setMassData({mass:1,center:o.Vec2.zero(),I:1}),n.characterSettings={jumpForce:15,speed:4},n.body.setFixedRotation(!0),n.createShape(),n}return e=d,(n=[{key:"createShape",value:function(){this.body.createFixture(new o.Circle(o.Vec2.zero(),Object(i.e)(30)),{density:.5,friction:1,restitution:0,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(i.c)(this.physicsGroup)})}},{key:"doSuperAction",value:function(){s(h(d.prototype),"doSuperAction",this).call(this),this.magicVec.set(20*this.view.scale.x,0),r.app.game.level.createMagic(this.body.getPosition(),this.magicVec)}}])&&u(e.prototype,n),a&&u(e,a),d}(n(59).a)},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.Sprite.from(t.utils.TextureCache.platform);return r.anchor.set(.5),e.addChild(r),e}return o}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return l}));var l=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(l,e);var n,o,a,s=c(l);function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),f(u(t=s.call(this)),"back",void 0),f(u(t),"_id",void 0),t.createBack(),t.interactive=!0,t.on("pointerdown",(function(){t.emit("buttonPressed",t._id)})),t.on("pointerup",(function(){t.emit("buttonReleased",t._id)})),t.on("pointerupoutside",(function(){t.emit("buttonReleased",t._id)})),t}return n=l,(o=[{key:"createBack",value:function(){this.back=t.Sprite.from(t.utils.TextureCache.button),this.addChild(this.back)}},{key:"setEnable",value:function(t){this.back.tint=t?16777215:16711680,this.interactive=t}},{key:"id",set:function(t){this._id=t},get:function(){return this._id}},{key:"enable",set:function(t){this.setEnable(t)},get:function(){return this.interactive}}])&&r(n.prototype,o),a&&r(n,a),l}(t.Container)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var o=n(3),r=n(0),i=n(18),c=n(16),a=n(8);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(w,e);var n,u,h,m=y(w);function w(e,n,i,c,u,f,l){var p,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2e3;if(s(this,w),v(d(p=m.call(this,l||new a.a,r.a.WATER,{position:new o.Vec2(Object(r.e)(e),Object(r.e)(n))})),"moveForce",void 0),v(d(p),"heroes",void 0),v(d(p),"_enabled",void 0),v(d(p),"intId",void 0),v(d(p),"startDelay",void 0),v(d(p),"endDelay",void 0),p.heroes=new Set,p.startDelay=f,p.endDelay=y,p.moveForce=u,p.body.createFixture(new o.Box(Object(r.e)(i/2),Object(r.e)(c/2)),{isSensor:!0,filterCategoryBits:p.physicsGroup,filterMaskBits:Object(r.c)(p.physicsGroup)}),!l){var h=new t.Graphics;h.beginFill(16711935,.5),h.drawRect(-i/2,-c/2,i,c),h.endFill(),p.view.addChild(h)}return p.enabled=!1,p}return n=w,(u=[{key:"stop",value:function(){this.intId&&this.intId.reject(),this.enabled=!1}},{key:"doEnable",value:function(t){var e=this;if(this._enabled=t,t){this.endDelay>-1&&(this.intId=Object(i.a)(this.endDelay),this.intId.then((function(){return e.enabled=!1})));for(var n=this.body.getContactList();null!=n;n=n.next)if(n.contact.isTouching()){var o=c.a.getAnotherBody(n.contact,this.body);o&&this.heroes.add(o);break}}else this.heroes.clear()}},{key:"loop",value:function(){var t=this;this.heroes&&this.heroes.forEach((function(e){e.m_linearVelocity.x+=t.moveForce.x,e.m_linearVelocity.y+=t.moveForce.y})),l(b(w.prototype),"loop",this).call(this)}},{key:"onBeginContacted",value:function(t){this._enabled&&this.heroes.add(t)}},{key:"onEndContacted",value:function(t){this._enabled&&this.heroes.delete(t)}},{key:"enabled",set:function(t){var e=this;t?Object(i.a)(this.startDelay).then((function(){e.doEnable(t)})):this.doEnable(t)}}])&&f(n.prototype,u),h&&f(n,h),w}(c.a)}).call(this,n(12))},,,,,,,function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return s}));var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(u,t);var e,n,o,a=c(u);function u(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),a.call(this)}return e=u,(n=[{key:"setEnable",value:function(t){this.back.tint=t?16777215:16711680,this.interactive=t}},{key:"icon",set:function(t){this.addChild(t)}}])&&r(e.prototype,n),o&&r(e,o),u}(n(106).a)},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n(218);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i,c,a,u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"path",set:function(e){t.assetsPath=e}}],(n=[{key:"add",value:function(e,n){if(!t.assetsPath)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(n){return"".concat(t.assetsPath,"/").concat(e,".").concat(n)}));new o.Howl({src:r,autoplay:null==n?void 0:n.autoplay,loop:null==n?void 0:n.loop,volume:(null==n?void 0:n.volume)||1})}}])&&r(e.prototype,n),i&&r(e,i),t}();a=void 0,(c="assetsPath")in(i=u)?Object.defineProperty(i,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[c]=a},,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var o=n(8),r=n(18),i=n(103),c=n(75);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e,n,o,r,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function c(t){u(i,o,r,c,a,"next",t)}function a(t){u(i,o,r,c,a,"throw",t)}c(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(h,e);var n,o,a,u=y(h);function h(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),v(d(e=u.call(this)),"leg1",void 0),v(d(e),"leg2",void 0),v(d(e),"walking",void 0),v(d(e),"actioning",void 0),v(d(e),"intervalId",void 0),v(d(e),"hand",void 0);var n=[t.utils.TextureCache.enemy_body0,t.utils.TextureCache.enemy_body1,t.utils.TextureCache.enemy_body2,t.utils.TextureCache.enemy_body1,t.utils.TextureCache.enemy_body0],o=t.Sprite.from(n[0]);o.scale.set(.7),o.anchor.set(.4,.5),o.position.set(0,-20),e.addChild(o);var a=t.Sprite.from(t.utils.TextureCache.enemy_hand);return e.hand=new i.a(a,.5,[-20,-50]),a.scale.x=-1,a.anchor.set(0,.1),a.angle=-20,a.position.set(-20,-15),e.addChild(a),e.leg1=new c.a("enemy_leg",.5),e.addChild(e.leg1),e.leg2=new c.a("enemy_leg",.5,!0),e.addChild(e.leg2),e.leg1.position.set(-10,20),e.leg1.scale.set(.7),e.leg2.scale.set(.7),e.leg2.position.set(10,20),e.idle(),e.intervalId=window.setInterval(s(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<n.length)){t.next=8;break}return o.texture=n[e],t.next=5,Object(r.a)(50);case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}}),t)}))),4e3),e}return n=h,(o=[{key:"walk",value:function(){this.walking||(this.walking=!0,this.leg1.walk(),this.leg2.walk(),this.hand.walk())}},{key:"idle",value:function(){(this.walking||this.actioning)&&(this.walking=!1,this.actioning=!1,this.leg1.idle(),this.leg2.idle(),this.hand.idle())}},{key:"action",value:function(){this.actioning||(this.walking=!1,this.actioning=!0,this.leg1.action(),this.leg2.action(),this.hand.action())}},{key:"superAction",value:function(){}},{key:"destroy",value:function(){window.clearInterval(this.intervalId),l(b(h.prototype),"destroy",this).call(this)}}])&&f(n.prototype,o),a&&f(n,a),h}(o.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b}));var o=n(3),r=n(0),i=n(18),c=n(67),a=n(8);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n,o,r,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(v,e);var n,c,u,y,d,b=p(v);function v(t){var e,n,i,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),e=b.call(this,new a.a,r.a.GAS,{position:new o.Vec2(Object(r.e)(1090),Object(r.e)(655))}),n=h(e),c=void 0,(i="fireComponent")in n?Object.defineProperty(n,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[i]=c,e.fireComponent=t,e.createShape(),e.createView(),e}return n=v,(c=[{key:"startFire",value:(y=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.fireComponent.start(),t.next=3,Object(i.a)(1e3);case 3:this.fireComponent.stop();case 4:case"end":return t.stop()}}),t,this)})),d=function(){var t=this,e=arguments;return new Promise((function(n,o){var r=y.apply(t,e);function i(t){s(r,n,o,i,c,"next",t)}function c(t){s(r,n,o,i,c,"throw",t)}i(void 0)}))},function(){return d.apply(this,arguments)})},{key:"createShape",value:function(){this.body.createFixture(new o.Box(Object(r.e)(140),Object(r.e)(5)),{friction:.05,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(r.c)(this.physicsGroup)})}},{key:"createView",value:function(){var e=t.Sprite.from(t.utils.TextureCache.kanistra);e.anchor.set(.5),e.position.set(80,-23),this.view.addChild(e);var n=t.Sprite.from(t.utils.TextureCache.gas);n.alpha=.5,n.anchor.set(.5),n.position.set(4,0),this.view.addChild(n)}}])&&f(n.prototype,c),u&&f(n,u),v}(c.a)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var o=n(3),r=n(2),i=n(0),c=n(136),a=n(59),u=n(16);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(h,t);var e,n,a,s=y(h);function h(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),v(d(n=s.call(this,new c.a,i.a.GHOST,{type:o.Body.DYNAMIC,position:new o.Vec2(Object(i.e)(t),Object(i.e)(e))})),"isGhost",!0),v(d(n),"hostComponent",void 0),v(d(n),"doingAction",void 0),n.doingAction=!1,n.body.setMassData({mass:0,center:o.Vec2.zero(),I:1}),n.characterSettings={jumpForce:0,speed:5},n.body.setFixedRotation(!0),n.createShape(),n.body.setGravityScale(0),r.app.hosts.host=d(n),n}return e=h,(n=[{key:"loop",value:function(){l(b(h.prototype),"loop",this).call(this);var t=this.body.getPosition();if(!this.doingAction){var e=Object(i.e)(620);t.y<e?this.body.m_linearVelocity.y=4:t.y>e&&(this.body.setLinearVelocity(o.Vec2.zero()),r.app.physics.moveBody(this.body,new o.Vec2(t.x,e)))}}},{key:"stopAction",value:function(){this.doingAction=!1,this.body.m_linearVelocity.y=0}},{key:"releaseHost",value:function(){if(l(b(h.prototype),"releaseHost",this).call(this),this.hostComponent&&this.view){var t=this.hostComponent.getEntity().getComponent(u.a);this.body.setPosition(new o.Vec2(t.body.getPosition().x,Object(i.e)(620))),this.hostComponent.releaseHost(),this.hostComponent=void 0,this.view.visible=!0,this.loop()}}},{key:"createShape",value:function(){this.body.createFixture(new o.Circle(o.Vec2.zero(),Object(i.e)(25)),{density:0,isSensor:!0,filterCategoryBits:i.a.GHOST,filterMaskBits:i.a.END|i.a.ENEMIES|i.a.HEROES})}},{key:"doAction",value:function(){var t=this.body.getPosition();if(t.y<0)return this.body.setLinearVelocity(o.Vec2.zero()),void r.app.physics.moveBody(this.body,new o.Vec2(t.x,0));this.doingAction=!0,this.hostComponent?this.hostComponent.character.action():this.body.m_linearVelocity.y=-this.characterSettings.speed}},{key:"doMove",value:function(t){var e=this.body.getPosition();return e.x<0?(this.body.setLinearVelocity(o.Vec2.zero()),void r.app.physics.moveBody(this.body,new o.Vec2(0,e.y))):e.x>Object(i.e)(1280)?(this.body.setLinearVelocity(o.Vec2.zero()),void r.app.physics.moveBody(this.body,new o.Vec2(Object(i.e)(1280),e.y))):void(this.hostComponent?this.hostComponent.character.move(t):(l(b(h.prototype),"doMove",this).call(this,t),this.body.m_linearVelocity.x=this.characterSettings.speed*t))}},{key:"canAction",value:function(){return!0}},{key:"doSuperAction",value:function(){if(l(b(h.prototype),"doSuperAction",this).call(this),this.hostComponent)this.releaseHost();else{var t=r.app.hosts.getHostedByOverlap(this.body);t&&this.becomeImplanted(t)}}},{key:"becomeImplanted",value:function(t){this.hostComponent=t,t.putHost(),this.body.setLinearVelocity(o.Vec2.zero()),this.view.visible=!1}}])&&f(e.prototype,n),a&&f(e,a),h}(a.a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var o=n(13);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n,o,r,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var c=t.apply(e,n);function a(t){i(c,o,r,a,u,"next",t)}function u(t){i(c,o,r,a,u,"throw",t)}a(void 0)}))}}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(d,e);var n,r,i,l=f(d);function d(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),h(p(e=l.call(this)),"tween",void 0),h(p(e),"intervalId",void 0);var n=t.Sprite.from(t.utils.TextureCache.ghost_base);n.alpha=.7,n.anchor.set(.4,.7),e.addChild(n);var r=t.Sprite.from(t.utils.TextureCache.ghost_eye1);r.anchor.set(.5,.5),n.addChild(r);var i=t.Sprite.from(t.utils.TextureCache.ghost_eye2);return i.anchor.set(.5,.5),n.addChild(i),r.position.set(6,-23),i.position.set(25,-25),e.tween=o.a.to(n.position,{duration:3,repeat:-1,y:-10,yoyo:!0,ease:"linear",yoyoEase:"linear"}),e.intervalId=window.setInterval(c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.scale.y=1,i.scale.y=1,o.a.to(r.scale,{duration:.1,y:0,repeat:1,yoyo:!0,ease:"linear",yoyoEase:"linear"}),o.a.to(i.scale,{delay:.05,duration:.1,y:0,repeat:1,yoyo:!0,ease:"linear",yoyoEase:"linear"});case 4:case"end":return t.stop()}}),t)}))),6e3),e}return n=d,(r=[{key:"walk",value:function(){}},{key:"idle",value:function(){}},{key:"action",value:function(){}},{key:"superAction",value:function(){}},{key:"stop",value:function(){window.clearInterval(this.intervalId),this.tween.kill(),this.tween=void 0}},{key:"destroy",value:function(){this.stop(),u(y(d.prototype),"destroy",this).call(this)}}])&&a(n.prototype,r),i&&a(n,i),d}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var o=n(3),r=n(0),i=n(227),c=n(16);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(y,t);var e,n,a,l=f(y);function y(t,e,n,c,a){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),h(p(u=l.call(this,new i.a,r.a.DEFAULT,{position:new o.Vec2(Object(r.e)(800),Object(r.e)(380))})),"ash",void 0),h(p(u),"cigarette",void 0),h(p(u),"gas",void 0),h(p(u),"tnt",void 0),h(p(u),"wall",void 0),h(p(u),"shouldPlaceAsh",void 0),u.shouldPlaceAsh=!1,u.ash=t,u.cigarette=e,u.gas=n,u.tnt=c,u.wall=a,u.view.on("smokeFinished",(function(){u.onSmokeDone()})),u.view.on("smokeCheckAsh",(function(){u.onSmokeCheckAsh()})),u}return e=y,(n=[{key:"pause",value:function(){this.view.pause()}},{key:"endContact",value:function(t){this.tnt.onGas&&c.a.isContacted(t,this.tnt.body,this.gas.body)&&(this.tnt.onGas=!1)}},{key:"beginContact",value:function(t){!this.tnt.onGas&&c.a.isContacted(t,this.tnt.body,this.gas.body)&&(this.tnt.onGas=!0),c.a.isContacted(t,this.cigarette.body,this.gas.body)&&(this.cigarette.goAway(),this.gas.startFire(),this.tnt.onGas&&(this.tnt.explode(),this.shouldPlaceAsh=!0,this.wall&&Math.abs(this.wall.body.getPosition().x-this.tnt.body.getPosition().x)<=5.5&&(this.wall.explode(),this.wall=null)))}},{key:"goAway",value:function(){this.view.goAway()}},{key:"startSmoker",value:function(){this.view.startSmoker()}},{key:"onSmokeDone",value:function(){this.cigarette.drop()}},{key:"onSmokeCheckAsh",value:function(){this.shouldPlaceAsh&&(this.shouldPlaceAsh=!1,this.ash.putBack())}}])&&u(e.prototype,n),a&&u(e,a),y}(c.a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return w}));var o=n(8),r=n(18),i=n(75),c=n(237),a=n(103);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n,o,r,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function c(t){s(i,o,r,c,a,"next",t)}function a(t){s(i,o,r,c,a,"throw",t)}c(void 0)}))}}function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(d,e);var n,o,u,s=h(d);function d(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),m(b(e=s.call(this)),"leg1",void 0),m(b(e),"leg2",void 0),m(b(e),"walking",void 0),m(b(e),"actioning",void 0),m(b(e),"intervalId",void 0),m(b(e),"arm",void 0),m(b(e),"arm0",void 0),m(b(e),"tween",void 0);var n=t.utils.TextureCache.ninja_blink,o=t.utils.TextureCache.ninja_body,u=t.Sprite.from(o);u.scale.set(.8),u.anchor.set(.5),u.position.set(-2,-7);var l=t.Sprite.from(t.utils.TextureCache.ninja_hand2);l.position.set(3,-7),e.addChild(l),e.addChild(u),e.arm0=new a.a(l,.3,[0,-10]);var p=t.Sprite.from(t.utils.TextureCache.stick);p.scale.set(.8),p.angle=-10,p.position.set(0,-48);var y=t.Sprite.from(t.utils.TextureCache.ninja_hand1);y.position.set(-3,0),y.angle=10;var h=new t.Point(-17,-5),v=new t.Container;return v.position=h,v.addChild(p),v.addChild(y),e.addChild(v),e.arm=new c.a(v,.3,[10,20],h),e.leg1=new i.a("ninja_leg",.3),e.addChild(e.leg1),e.leg2=new i.a("ninja_leg",.3,!0),e.addChild(e.leg2),e.leg1.position.set(-8,33),e.leg2.position.set(8,33),e.idle(),e.intervalId=window.setInterval(f(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.texture=n,t.next=3,Object(r.a)(100);case 3:u.texture=o;case 4:case"end":return t.stop()}}),t)}))),3e3),e}return n=d,(o=[{key:"walk",value:function(){this.walking||(this.walking=!0,this.leg1.walk(),this.leg2.walk(),this.arm.walk(),this.arm0.walk())}},{key:"idle",value:function(){(this.walking||this.actioning)&&(this.walking=!1,this.actioning=!1,this.leg1.idle(),this.leg2.idle(),this.arm.idle(),this.arm0.idle())}},{key:"action",value:function(){this.actioning||(this.walking=!1,this.actioning=!0,this.leg1.action(),this.leg2.action(),this.arm0.action(),this.arm.action())}},{key:"superAction",value:function(){this.arm.superAction()}},{key:"stop",value:function(){window.clearInterval(this.intervalId)}},{key:"destroy",value:function(){this.stop(),p(v(d.prototype),"destroy",this).call(this)}}])&&l(n.prototype,o),u&&l(n,u),d}(o.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v}));var o=n(8),r=n(18),i=n(75);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,o,r,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var i=t.apply(e,n);function c(t){a(i,o,r,c,u,"next",t)}function u(t){a(i,o,r,c,u,"throw",t)}c(void 0)}))}}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,e);var n,o,c,a=p(y);function y(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),b(h(e=a.call(this)),"leg1",void 0),b(h(e),"leg2",void 0),b(h(e),"walking",void 0),b(h(e),"intervalId",void 0);var n=t.utils.TextureCache.witcher_blink,o=t.utils.TextureCache.witcher,c=t.Sprite.from(o);c.scale.set(1),c.anchor.set(.5),c.position.set(0,-7);var s=t.Sprite.from(t.utils.TextureCache.witcher_hat);return s.anchor.set(.5),s.position.set(-12,-41),e.addChild(s),e.addChild(c),e.leg1=new i.a("witcher_leg",.5),e.addChild(e.leg1),e.leg2=new i.a("witcher_leg",.5,!0),e.addChild(e.leg2),e.leg1.position.set(-10,28),e.leg2.position.set(10,28),e.idle(),e.intervalId=window.setInterval(u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.texture=n,t.next=3,Object(r.a)(100);case 3:c.texture=o;case 4:case"end":return t.stop()}}),t)}))),5e3),e}return n=y,(o=[{key:"walk",value:function(){this.walking||(this.walking=!0,this.leg1.walk(),this.leg2.walk())}},{key:"idle",value:function(){this.walking=!1,this.leg1.idle(),this.leg2.idle()}},{key:"action",value:function(){this.walking=!1,this.leg1.action(),this.leg2.action()}},{key:"superAction",value:function(){}},{key:"stop",value:function(){window.clearInterval(this.intervalId)}},{key:"destroy",value:function(){this.stop(),f(d(y.prototype),"destroy",this).call(this)}}])&&s(n.prototype,o),c&&s(n,c),y}(o.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return p}));var o=n(3),r=n(0),i=n(16),c=n(8);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,e);var n=s(i);function i(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=n.call(this,new c.a,r.a.BOMB,{type:o.Body.DYNAMIC,position:new o.Vec2(Object(r.e)(600),Object(r.e)(480))})).body.setMassData({mass:1,center:o.Vec2.zero(),I:1}),e.body.createFixture(new o.Box(Object(r.e)(20),Object(r.e)(20)),{density:20,filterCategoryBits:e.physicsGroup,filterMaskBits:Object(r.c)(e.physicsGroup)});var a=t.Sprite.from(t.utils.TextureCache.box);return a.scale.set(.8),a.anchor.set(.5),e.view.addChild(a),e}return i}(i.a)}).call(this,n(12))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(2),r=n(217),i=n(131);function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,(n=[{key:"init",value:function(){var t={crossOrigin:!0},e=o.app.loader;e.baseUrl="assets/",i.a.path="assets/sounds",e.add("atlas","atlas.json",t),e.add("background","background.png",t),e.load((function(){r.load({custom:{families:["Geometria","Geometria-Bold"],urls:["assets/fonts/font.css","assets/fonts/font.css"]},active:function(){o.app.runners.load.run()}})})),o.app.sounds.add("music",{autoplay:!0,loop:!0,volume:1})}}])&&c(e.prototype,n),a&&c(e,a),t}()},,,function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(3),r=n(59);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=void 0,(n="characters")in(e=this)?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,this.characters=[]}var e,n,c;return e=t,(n=[{key:"gameStarted",value:function(){this.characters.length>0&&(this.characters[0].enabled=!0)}},{key:"characterSwitched",value:function(t){this.characters.forEach((function(t){t.enabled=!1}));try{this.characters[t].enabled=!0}catch(e){console.error("no character ".concat(t))}}},{key:"disableCharacters",value:function(){this.characters.forEach((function(t){t.enabled=!1,t.body.setLinearVelocity(o.Vec2.zero())}))}},{key:"entityAdded",value:function(t){var e=t.getComponent(r.a);e&&this.characters.push(e)}},{key:"entityRemoved",value:function(t){var e=t.getComponent(r.a);if(e){var n=this.characters.indexOf(e);n>=0&&this.characters.splice(n,1)}}}])&&i(e.prototype,n),c&&i(e,c),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n(2);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"_levelsCoins",void 0),i(this,"_totalCoins",void 0)}var e,n,c;return e=t,(n=[{key:"gameStarted",value:function(){this._levelsCoins=0,this._totalCoins=0,o.app.gui.updateCoins(this._levelsCoins)}},{key:"newLevel",value:function(){this._levelsCoins=0}},{key:"getCoin",value:function(){this._levelsCoins++,this._totalCoins++,o.app.gui.updateCoins(this._levelsCoins)}},{key:"levelsCoins",get:function(){return this._levelsCoins}}])&&r(e.prototype,n),c&&r(e,c),t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));var o=n(19);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"components",void 0),i(this,"onKeyDown",void 0),i(this,"onKeyUp",void 0),i(this,"superActionStarted",void 0),this.components=[]}var n,c,a;return n=e,(c=[{key:"init",value:function(){var e=this;this.onKeyDown=function(t){e.onKeyPressed(t.code)},this.onKeyUp=function(t){e.onKeyReleased(t.code)},t.utils.isMobile.any?(window.addEventListener("mobilekeydown",this.onKeyDown),window.addEventListener("mobilekeyup",this.onKeyUp)):(document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp))}},{key:"entityAdded",value:function(t){var e=t.getComponent(o.b);e&&this.components.push(e)}},{key:"entityRemoved",value:function(t){var e=t.getComponent(o.b);if(e){var n=this.components.indexOf(e);n>=0&&this.components.splice(n,1)}}},{key:"onKeyReleased",value:function(t){"ArrowRight"===t||"KeyD"===t?this.stopAction(o.a.RIGHT):"ArrowLeft"===t||"KeyA"===t?this.stopAction(o.a.LEFT):"ArrowUp"===t||"KeyW"===t?this.stopAction(o.a.ACTION):"Space"===t&&(this.superActionStarted=!1,this.stopAction(o.a.SUPERACTION))}},{key:"onKeyPressed",value:function(t){"ArrowRight"===t||"KeyD"===t?this.startAction(o.a.RIGHT):"ArrowLeft"===t||"KeyA"===t?this.startAction(o.a.LEFT):"ArrowUp"===t||"KeyW"===t?this.startAction(o.a.ACTION):this.superActionStarted||"Space"!==t||(this.superActionStarted=!0,this.startAction(o.a.SUPERACTION))}},{key:"startAction",value:function(t){this.components.forEach((function(e){e.startAction(t)}))}},{key:"stopAction",value:function(t){this.components.forEach((function(e){e.stopAction(t)}))}}])&&r(n.prototype,c),a&&r(n,a),e}()}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(68);function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function(){function t(){var e,n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=void 0,(n="enemies")in(e=this)?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,this.enemies=[]}var e,n,i;return e=t,(n=[{key:"entityAdded",value:function(t){var e=t.getComponent(o.a);e&&this.enemies.push(e)}},{key:"entityRemoved",value:function(t){var e=t.getComponent(o.a);if(e){var n=this.enemies.indexOf(e);n>=0&&this.enemies.splice(n,1)}}}])&&r(e.prototype,n),i&&r(e,i),t}()},function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}));var i=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"promise",void 0),r(this,"_resolve",(function(){})),r(this,"_reject",(function(){})),this.promise=new Promise((function(t,n){e._reject=n,e._resolve=t}))}var e,n,i;return e=t,i=[{key:"resolve",value:function(e){var n=new t;return n.resolve(e),n}},{key:"reject",value:function(e){var n=new t;return n.reject(e),n}}],(n=[{key:"then",value:function(t,e){return this.promise.then(t,e)}},{key:"resolve",value:function(t){this._resolve(t)}},{key:"reject",value:function(t){this._reject(t)}}])&&o(e.prototype,n),i&&o(e,i),t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Z}));var o=n(2),r=n(11),i=n(19),c=n(52),a=n(80),u=n(135),s=n(30),f=n(226),l=n(137),p=n(68),y=n(134),h=n(229),d=n(230),b=n(231),v=n(232),m=n(233),w=n(235),g=n(236),O=n(81),j=n(10),S=n(104),k=n(51),C=n(0),P=n(18),_=n(107),R=n(3),E=n(57),x=n(56),T=n(8),A=n(105),D=n(239),B=n(240),L=n(241),V=n(82),F=n(244),G=n(245),M=n(246),I=n(83),U=n(74),H=n(95),W=n(247);function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=$(t);if(e){var r=$(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return J(this,n)}}function J(t,e){return!e||"object"!==N(e)&&"function"!=typeof e?q(t):e}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}($,e);var n,V,N,J=X($);function $(){var t;z(this,$);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Q(q(t=J.call.apply(J,[this].concat(n))),"tube",void 0),Q(q(t),"water",void 0),Q(q(t),"additionalGround",void 0),Q(q(t),"bigWater",void 0),Q(q(t),"back",void 0),Q(q(t),"platforms",void 0),t}return n=$,(V=[{key:"execute",value:function(t){switch(t){case k.b.LEVEL1_SHOW_TUBE:this.tube.show();break;case k.b.LEVEL1_HIDE_TUBE:this.tube.hide();break;case k.b.LEVEL1_REMOVE_WATER:this.removeWater()}}},{key:"destroy",value:function(){o.app.gameLayer.removeChild(this.back),this.back=void 0}},{key:"createBackground",value:function(){this.back=new t.Container,o.app.gameLayer.addChild(this.back),this.back.addChild(t.Sprite.from(t.utils.TextureCache.background));var e=t.Sprite.from(t.utils.TextureCache.controls);e.alpha=.5,e.position.set(1e3,100),this.back.addChild(e);var n=t.Sprite.from(t.utils.TextureCache.cave);n.position.set(1150,315),this.back.addChild(n)}},{key:"createAll",value:function(){this.createTube();var e=Object(r.a)(),n=new m.a;e.addComponent(n),o.app.game.add(e);var b=Object(r.a)(),w=new O.a(30,610);b.addComponent(w),b.addComponent(new c.a(w,[C.a.ENEMIES,C.a.DANGER])),b.addComponent(new i.b(0,w)),b.addComponent(new x.a(w)),b.addComponent(new s.a(w)),b.addComponent(new U.a(30,100,0)),o.app.game.add(b);var g=Object(r.a)(),k=new S.a(80,610);g.addComponent(k),g.addComponent(new c.a(k,[C.a.ENEMIES,C.a.DANGER])),g.addComponent(new i.b(1,k)),g.addComponent(new s.a(k)),g.addComponent(new U.a(30,100,0)),o.app.game.add(g);var B=Object(r.a)(),V=new u.a(140,620);B.addComponent(V),B.addComponent(new i.b(2,V)),o.app.game.add(B);var N=Object(r.a)(),z=new j.a(-10,360,C.a.DEFAULT,20,720,void 0,new T.a);N.addComponent(z),o.app.game.add(N),z=new j.a(640,-10,C.a.DEFAULT,1280,20,void 0,new T.a),N.addComponent(z),z=new j.a(1330,605,C.a.DEFAULT,20,130,void 0,new T.a),N.addComponent(z),z=new j.a(1300,550,C.a.DEFAULT,40,20,void 0,new T.a),N.addComponent(z);var K=Object(r.a)();z=new j.a(120,685,C.a.DEFAULT,240,70,void 0,new T.a),K.addComponent(z),o.app.game.add(K),z=new j.a(710,685,C.a.DEFAULT,480,70,void 0,new T.a),K.addComponent(z),z=new j.a(1090,686,C.a.DEFAULT,280,68,void 0,new T.a),K.addComponent(z),z=new j.a(1275,685,C.a.DEFAULT,130,70,void 0,new T.a),K.addComponent(z),e=Object(r.a)(),z=new j.a(200,420,C.a.DEFAULT,70,34,void 0,new A.a),e.addComponent(z),o.app.game.add(e),e=Object(r.a)(),z=new j.a(460,250,C.a.DEFAULT,50,20,void 0,new F.a),e.addComponent(z),o.app.game.add(e),e=Object(r.a)(),z=new j.a(1290,280,C.a.DEFAULT,20,560,void 0,new T.a),e.addComponent(z),o.app.game.add(e),e=Object(r.a)();var Y=new v.a;e.addComponent(Y),o.app.game.add(e),e=Object(r.a)();var X=new f.a;e.addComponent(X);var J=new d.a;e.addComponent(J);var q=new h.a;e.addComponent(q);var $=new L.a;e.addComponent($);var Q=new y.a($);e.addComponent(Q);var Z=new l.a(X,q,Q,J,n);e.addComponent(Z),z=new j.a(800,377,C.a.DEFAULT,130,20,-1,new T.a),e.addComponent(z),z=new j.a(855.5,340,C.a.DEFAULT,20,60,-1,new T.a),e.addComponent(z),z=new j.a(745,340,C.a.DEFAULT,20,60,-1,new T.a),e.addComponent(new H.a),e.addComponent(z),z=new j.a(600,375,C.a.DEFAULT,230,10,-1),e.addComponent(z),z=new j.a(490,305,C.a.DEFAULT,10,130,-1),e.addComponent(z),o.app.game.add(e),e=Object(r.a)();var tt=new a.a(1295,600,50,110,!1);e.addComponent(tt),o.app.game.add(e),e=Object(r.a)();var et=new p.a(760,500);e.addComponent(et),e.addComponent(new c.a(et,[C.a.HEROES,C.a.DANGER])),e.addComponent(new s.a(et)),e.addComponent(new W.a(760,500,5e3)),e.addComponent(new H.a),o.app.game.add(e),K=Object(r.a)(),this.additionalGround=new j.a(360,685,C.a.DEFAULT,240,70,void 0,new I.a),K.addComponent(this.additionalGround),this.additionalGround.hide(),o.app.game.add(K),this.platforms=Object(r.a)(),(z=new j.a(285,690,C.a.DEFAULT,115,10,-1,new G.a)).body.setAngle(35*t.DEG_TO_RAD),this.platforms.addComponent(z),z=new j.a(435,657.5,C.a.DEFAULT,85,10,-1,new M.a),this.platforms.addComponent(z),o.app.game.add(this.platforms),K=Object(r.a)(),this.bigWater=new _.a(355,695,230,50,new R.Vec2(0,.1),0,new D.a,-1),this.bigWater.enabled=!0,K.addComponent(this.bigWater),o.app.game.add(K),e=Object(r.a)(),z=new j.a(355,745,C.a.DEFAULT,230,50,-1),e.addComponent(z),o.app.game.add(e),e=Object(r.a)();var nt=new E.a(new R.Vec2(450,60));e.addComponent(nt),o.app.game.add(e),e=Object(r.a)(),nt=new E.a(new R.Vec2(860,200)),e.addComponent(nt),o.app.game.add(e),e=Object(r.a)(),nt=new E.a(new R.Vec2(1e3,130)),e.addComponent(nt),o.app.game.add(e),Object(P.a)(1).then((function(){o.app.runners.gameStarted.run(),o.app.gui.showCharactersButtons([0,1,2])}))}},{key:"createTube",value:function(){var t=Object(r.a)(),e=new j.a(515,250,C.a.DEFAULT,60,20);t.addComponent(e),e=new j.a(557,150,C.a.DEFAULT,144,20),t.addComponent(e),e=new j.a(535,310,C.a.DEFAULT,20,100),t.addComponent(e),e=new j.a(620,350,C.a.DEFAULT,150,20),t.addComponent(e),e=new j.a(698,195,C.a.DEFAULT,10,330),t.addComponent(e),e=new j.a(495,65,C.a.DEFAULT,20,150),t.addComponent(e),e=new j.a(619,204,C.a.DEFAULT,20,90),t.addComponent(e),e=new j.a(630,40,C.a.DEFAULT,130,20),t.addComponent(e),e=new j.a(575,10,C.a.DEFAULT,20,50),t.addComponent(e),o.app.game.add(t),t=Object(r.a)();var n=new g.a;t.addComponent(n);var i=new B.a;t.addComponent(i),this.water=new w.a(i),t.addComponent(this.water),o.app.game.add(t),this.tube=new b.a,t.addComponent(this.tube),this.tube.init(),o.app.game.add(t)}},{key:"removeWater",value:function(){o.app.game.remove(this.platforms),this.bigWater.enabled=!1,this.water.stop(),this.additionalGround.show()}}])&&K(n.prototype,V),N&&K(n,N),$}(V.a)}).call(this,n(12))},function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return s}));var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(n,t);var e=i(n);function n(){var t,o,r,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t=e.call(this),o=a(t),i=void 0,(r="gfx")in o?Object.defineProperty(o,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[r]=i,t}return n}(n(8).a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var o=n(3),r=n(2),i=n(0),c=n(16),a=n(8);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(y,e);var n,c,u,p=l(y);function y(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),(e=p.call(this,new a.a,i.a.STAFF,{type:o.Body.DYNAMIC,position:new o.Vec2(Object(i.e)(855),Object(i.e)(305))})).body.setMassData({mass:1,center:o.Vec2.zero(),I:1}),e.body.createFixture(new o.Box(Object(i.e)(25),Object(i.e)(5)),{density:1,filterCategoryBits:e.physicsGroup,filterMaskBits:Object(i.c)(e.physicsGroup)});var n=t.Sprite.from(t.utils.TextureCache.ashtray);return n.anchor.set(.5),e.view.addChild(n),e}return n=y,(c=[{key:"putBack",value:function(){r.app.physics.moveBody(this.body,new o.Vec2(Object(i.e)(855),Object(i.e)(305)))}},{key:"isOnPlace",value:function(){var t=this.body.getPosition().y;return t>=Object(i.e)(303)&&t<=Object(i.e)(307)}}])&&s(n.prototype,c),u&&s(n,u),y}(c.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return p}));var o=n(8),r=n(228);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,e);var n,o,i,s=u(l);function l(){var e,n,o,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),e=s.call(this),n=f(e),i=void 0,(o="guy")in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i;var c=t.Sprite.from(t.utils.TextureCache.balcony);return c.scale.set(1,.9),c.anchor.set(.5),c.position.y=-35,e.guy=new r.a,e.guy.position.set(20,-30),e.guy.on("smokeFinished",(function(t){e.emit("smokeFinished")})),e.guy.on("smokeCheckAsh",(function(t){e.emit("smokeCheckAsh")})),e.addChild(e.guy),e.addChild(c),e}return n=l,(o=[{key:"pause",value:function(){this.guy.pause()}},{key:"startSmoker",value:function(){this.guy.smokeAndWait()}},{key:"goAway",value:function(){this.guy.goAway()}},{key:"stop",value:function(){this.guy.stop()}}])&&c(n.prototype,o),i&&c(n,i),l}(o.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var o=n(18),r=n(13);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(y,e);var n,i,s,l=u(y);function y(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),p(f(e=l.call(this)),"enabled",void 0),p(f(e),"gfx",void 0),p(f(e),"delayPromise",void 0),e.enabled=!0,e.gfx=t.Sprite.from(t.utils.TextureCache.smoker),e.gfx.anchor.set(.5),e.gfx.position.set(-10,-55),e.addChild(e.gfx),e.visible=!1,e.smokeAndWait(),e}return n=y,(i=[{key:"goAway",value:function(){var t=this;this.gfx.scale.x=-1,r.a.to(this.gfx.position,{duration:.5,x:-50,ease:"linear",onComplete:function(){t.visible=!1}})}},{key:"pause",value:function(){this.delayPromise&&this.delayPromise.reject()}},{key:"stop",value:function(){this.goAway(),this.enabled=!1}},{key:"smokeAndWait",value:function(){var t=this;this.delayPromise=Object(o.a)(6e3),this.delayPromise.then((function(){t.visible=!0,t.gfx.scale.x=1,r.a.to(t.gfx.position,{duration:.5,x:-10,ease:"linear"}),t.enabled&&t.emit("smokeCheckAsh"),t.delayPromise=Object(o.a)(3e3),t.delayPromise.then((function(){t.enabled&&t.emit("smokeFinished")}))}))}}])&&c(n.prototype,i),s&&c(n,s),y}(t.Container)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var o=n(3),r=n(2),i=n(0),c=n(18),a=n(16),u=n(8),s=n(137);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n,o,r,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}function p(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=b(t);if(e){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(m,e);var n,a,f,d,b,v=h(m);function m(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(t=v.call(this,new u.a,i.a.LIGHT,{type:o.Body.DYNAMIC,position:m.idlePosition.clone()})).body.setMassData({mass:1,center:o.Vec2.zero(),I:1}),t.createShape(),t.createView(),t.body.setAwake(!1),t}return n=m,(a=[{key:"drop",value:(d=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.app.physics.moveBodyAndSleep(this.body,m.startPosition.clone()),t.next=3,Object(c.a)(1);case 3:this.view.alpha=1,this.body.setAwake(!0),this.body.setGravityScale(1),this.body.applyLinearImpulse(new o.Vec2(.1,-.1),o.Vec2.zero());case 7:case"end":return t.stop()}}),t,this)})),b=function(){var t=this,e=arguments;return new Promise((function(n,o){var r=d.apply(t,e);function i(t){l(r,n,o,i,c,"next",t)}function c(t){l(r,n,o,i,c,"throw",t)}i(void 0)}))},function(){return b.apply(this,arguments)})},{key:"stop",value:function(){r.app.physics.moveBodyAndSleep(this.body,m.idlePosition.clone()),this.view.alpha=0}},{key:"goAway",value:function(){r.app.physics.moveBodyAndSleep(this.body,m.idlePosition.clone());var t=this.getEntity().getComponent(s.a);t.goAway(),t.startSmoker(),this.view.alpha=0}},{key:"onBeginContacted",value:function(t){t&&t.getFixtureList().m_filterCategoryBits===i.a.STAFF&&this.goAway()}},{key:"createShape",value:function(){this.body.createFixture(new o.Circle(o.Vec2.zero(),Object(i.e)(5)),{density:1,restitution:.3,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(i.c)(this.physicsGroup)})}},{key:"createView",value:function(){var e=t.Sprite.from(t.utils.TextureCache.light);e.anchor.set(.5),this.view.alpha=0,this.view.addChild(e)}}])&&p(n.prototype,a),f&&p(n,f),m}(a.a);v(m,"idlePosition",new o.Vec2(Object(i.e)(815),Object(i.e)(40))),v(m,"startPosition",new o.Vec2(Object(i.e)(840),Object(i.e)(280)))}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b}));var o=n(3),r=n(2),i=n(0),c=n(16),a=n(8);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(h,e);var n,c,u,p=l(h);function h(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),d(y(e=p.call(this,new a.a,i.a.BOMB,{type:o.Body.DYNAMIC,position:new o.Vec2(Object(i.e)(600),Object(i.e)(480))})),"onGas",void 0),d(y(e),"explosionForce",500),e.body.setMassData({mass:1,center:o.Vec2.zero(),I:1}),e.onGas=!1,e.body.createFixture(new o.Box(Object(i.e)(20),Object(i.e)(20)),{density:20,filterCategoryBits:e.physicsGroup,filterMaskBits:Object(i.c)(e.physicsGroup)});var n=t.Sprite.from(t.utils.TextureCache.tnt);return n.scale.set(.8),n.anchor.set(.5),e.view.addChild(n),e}return n=h,(c=[{key:"explode",value:function(){r.app.game.level.createExplosion(this.body.getPosition(),200,this.explosionForce),r.app.physics.moveBody(this.body,new o.Vec2(Object(i.e)(600),Object(i.e)(480)))}}])&&s(n.prototype,c),u&&s(n,u),h}(c.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return s}));var s=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,e);var n,o,a,u=c(s);function s(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=u.call(this);var n=t.Sprite.from(t.utils.TextureCache.tube_blocker);return n.position.x=487,e.addChild(n),e}return n=s,(o=[{key:"init",value:function(){this.hide()}},{key:"hide",value:function(){this.visible=!0}},{key:"show",value:function(){this.visible=!1}}])&&r(n.prototype,o),a&&r(n,a),s}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b}));var o=n(3),r=n(2),i=n(51),c=n(0),a=n(67),u=n(8);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(d,e);var n,a,s,y=p(d);function d(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),t=y.call(this,new u.a,c.a.DEFAULT,{position:new o.Vec2(Object(c.e)(400),Object(c.e)(220))}),e=h(t),r=void 0,(n="executor2")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t.createShape(),t.executor=i.b.LEVEL1_SHOW_TUBE,t.executor2=i.b.LEVEL1_HIDE_TUBE,t}return n=d,(a=[{key:"execute",value:function(t){t?(this.triggered=!0,r.app.game.execute(this.executor)):t||(this.triggered=!1,r.app.game.execute(this.executor2))}},{key:"createShape",value:function(){var t=[new o.Vec2(-.8,1),new o.Vec2(4,3),new o.Vec2(4,5),new o.Vec2(9.6,5),new o.Vec2(9.6,-7),new o.Vec2(-.8,-7)];this.body.createFixture(new o.Polygon(t),{isSensor:!0,filterCategoryBits:this.physicsGroup,filterMaskBits:c.a.HEROES}),this.drawView(t)}},{key:"drawView",value:function(e){var n=new t.Graphics;n.beginFill(0,1),n.moveTo(Object(c.d)(e[0].x),Object(c.d)(e[0].y));for(var o=1;o<e.length;o++)n.lineTo(Object(c.d)(e[o].x),Object(c.d)(e[o].y));n.endFill(),this.view.alpha=0,this.view.addChild(n)}}])&&f(n.prototype,a),s&&f(n,s),d}(a.a)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o=n(0),r=n(234);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,t);var e,n,i,s=u(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),s.call(this,1260,595,o.a.STAFF,20,110,Object(o.c)(o.a.STAFF),new r.a)}return e=f,(n=[{key:"explode",value:function(){this.getEntity().removeComponent(this.view),this.getEntity().removeComponent(this)}}])&&c(e.prototype,n),i&&c(e,i),f}(n(10).a)},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.Sprite.from(t.utils.TextureCache.trash);return r.scale.set(1),r.anchor.set(.5),r.x=-30,e.addChild(r),e}return o}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var o=n(3),r=n(37),i=n(18),c=n(8),a=n(107);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,t);var e,n,r,u=p(y);function y(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),b(h(e=u.call(this)),"id",void 0),b(h(e),"view",void 0),e.view=t,e}return e=y,(n=[{key:"stop",value:function(){this.id&&this.id.reject(),this._entity.getAllComponents(a.a).forEach((function(t){t.stop()}))}},{key:"setEntity",value:function(t){f(d(y.prototype),"setEntity",this).call(this,t),this.createWaterPart(540,30,50,40,new o.Vec2(0,3),0),this.createWaterPart(570,95,110,80,new o.Vec2(3,0),100),this.createWaterPart(663,155,60,200,new o.Vec2(0,3),200),this.createWaterPart(652,305,80,60,new o.Vec2(-3,0),300),this.createWaterPart(578,290,60,100,new o.Vec2(0,-3),400),this.createWaterPart(510,200,190,70,new o.Vec2(-3,0),500),this.createWaterPart(360,470,120,500,new o.Vec2(0,3),600),this.start()}},{key:"destroy",value:function(){this.stop(),f(d(y.prototype),"destroy",this).call(this)}},{key:"start",value:function(){var t=this;this.id=Object(i.a)(6e3),this.id.then((function(){t.view.start(2500),t._entity.getAllComponents(a.a).forEach((function(t){t.enabled=!0})),t.start()}))}},{key:"createWaterPart",value:function(t,e,n,o,r,i){var u=new a.a(t,e,n,o,r,i,new c.a);this._entity.addComponent(u)}}])&&s(e.prototype,n),r&&s(e,r),y}(r.a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var o=n(3),r=n(2),i=n(51),c=n(0),a=n(67),u=n(8);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(h,e);var n,a,s,y=p(h);function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=y.call(this,new u.a,c.a.DEFAULT,{position:new o.Vec2(Object(c.e)(525),Object(c.e)(30))})).createShape(),t.createView(),t.executor=i.b.LEVEL1_REMOVE_WATER,t}return n=h,(a=[{key:"execute",value:function(){this.triggered||(this.triggered=!0,this.view.scale.y=-1,r.app.game.execute(this.executor))}},{key:"createShape",value:function(){this.body.createFixture(new o.Box(Object(c.e)(20),Object(c.e)(20)),{isSensor:!0,filterCategoryBits:this.physicsGroup,filterMaskBits:c.a.HEROES})}},{key:"createView",value:function(){var e=t.Sprite.from(t.utils.TextureCache.trigger1);e.anchor.set(.5),this.view.addChild(e)}}])&&f(n.prototype,a),s&&f(n,s),h}(a.a)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var o=n(103),r=n(13);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(s,t);var e,n,o,i=u(s);function s(t,e,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),p(f(r=i.call(this,t,e,n,!1)),"idlePos",void 0),p(f(r),"tween0",void 0),r.idlePos=o,r}return e=s,(n=[{key:"superAction",value:function(){var t=this;this.superActioning||(this.superActioning=!0,this.walking=!1,this.actioning=!1,this.killTweens(),this.killThisTween(),this.gfx.position.copyFrom(this.idlePos),this.gfx.angle=this.angles[0],this.tween0=r.a.to(this.gfx,{duration:this.speed/2,angle:100,ease:"linear",onUpdate:function(){t.gfx.position.x+=2},onComplete:function(){t.tween0=r.a.to(t.gfx,{duration:t.speed/2,angle:t.angles[0],ease:"linear",onUpdate:function(){t.gfx.position.x-=2},onComplete:function(){t.gfx.position.copyFrom(t.idlePos),t.superActioning=!1}})}}))}},{key:"killThisTween",value:function(){this.tween0&&this.tween0.isActive()&&this.tween0.kill()}}])&&c(e.prototype,n),o&&c(e,o),s}(o.a)},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.Sprite.from(t.utils.TextureCache.star);return r.scale.set(.8),r.anchor.set(.5),e.addChild(r),e}return o}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.Sprite.from(t.utils.TextureCache.water);return r.alpha=.5,r.anchor.set(.5),r.position.set(2,0),e.addChild(r),e}return o}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var o=n(8),r=n(13),i=n(18);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,o,r,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(o,r)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(b,e);var n,o,c,l,y,d=f(b);function b(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),h(p(e=d.call(this)),"maskPart1",void 0),h(p(e),"maskPart2",void 0),h(p(e),"maskPart3",void 0);var n=new t.Container;e.addChild(n);var o=new t.Graphics;o.beginFill(65535,1),o.drawRect(0,0,60,140),o.drawRect(60,50,130,90),o.drawRect(125,140,65,200),o.drawRect(40,250,85,90),o.drawRect(40,160,65,90),o.moveTo(40,160),o.lineTo(-5,160),o.lineTo(-5,240),o.lineTo(40,240),o.endFill(),o.position.set(505,0),n.addChild(o);var r=t.Sprite.from(t.utils.TextureCache["water-01"]);r.scale.set(1,1),r.position.set(220,159),n.addChild(r);var i=new t.Container;return e.addChild(i),e.maskPart1=new t.Graphics,e.maskPart1.beginFill(0,1),e.maskPart1.drawRect(0,0,200,140),i.addChild(e.maskPart1),e.maskPart1.position.set(505,0),e.maskPart1.scale.y=0,e.maskPart2=new t.Graphics,e.maskPart2.beginFill(0,1),e.maskPart2.drawRect(0,0,65,200),i.addChild(e.maskPart2),e.maskPart2.position.set(630,140),e.maskPart2.scale.y=0,e.maskPart3=new t.Graphics,e.maskPart3.beginFill(0,1),e.maskPart3.drawRect(-200,0,300,500),i.addChild(e.maskPart3),e.maskPart3.position.set(402,220),e.maskPart3.scale.y=0,n.mask=i,e}return n=b,(o=[{key:"start",value:(l=regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.a.to(this.maskPart1.scale,{duration:.2,y:1,ease:"linear",onComplete:function(){r.a.to(n.maskPart2.scale,{duration:.2,y:1,ease:"linear",onComplete:function(){r.a.to(n.maskPart2,{duration:.2,x:350,ease:"linear",onUpdate:function(){n.maskPart2.scale.x+=.4},onComplete:function(){r.a.to(n.maskPart3.scale,{duration:.2,y:1,ease:"linear"})}})}})}}),t.next=3,Object(i.a)(e);case 3:this.maskPart3.position.set(402,220),this.maskPart3.scale.y=0,this.maskPart2.position.set(630,140),this.maskPart2.scale.y=0,this.maskPart2.scale.x=1,this.maskPart1.position.set(505,0),this.maskPart1.scale.y=0;case 10:case"end":return t.stop()}}),t,this)})),y=function(){var t=this,e=arguments;return new Promise((function(n,o){var r=l.apply(t,e);function i(t){a(r,n,o,i,c,"next",t)}function c(t){a(r,n,o,i,c,"throw",t)}i(void 0)}))},function(t){return y.apply(this,arguments)})}])&&u(n.prototype,o),c&&u(n,c),b}(o.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b}));var o=n(3),r=n(0),i=n(67),c=n(8),a=n(13);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(h,e);var n,i,u,p=l(h);function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),d(y(t=p.call(this,new c.a,r.a.DANGER,{position:new o.Vec2(Object(r.e)(1090),Object(r.e)(655))})),"gfx",void 0),d(y(t),"tween",void 0),t.createShape(),t.createView(),t.stop(),t}return n=h,(i=[{key:"start",value:function(){var t=this;this.view.scale.y=0,this.view.visible=!0,a.a.to(this.view.scale,{duration:.2,y:1,ease:"linear",onComplete:function(){t.tween=a.a.to(t.view.scale,{duration:.1,y:.9,ease:"linear",yoyoEase:"linear",repeat:-1,yoyo:!0})}}),this.body.setActive(!0)}},{key:"stop",value:function(){var t=this;this.tween?(this.tween.kill(),this.tween=void 0,a.a.to(this.view.scale,{duration:.3,y:0,ease:"linear",onComplete:function(){t.view.visible=!1}})):this.view.visible=!1,this.body.setActive(!1)}},{key:"createShape",value:function(){this.body.createFixture(new o.Box(Object(r.e)(140),Object(r.e)(30)),{isSensor:!0,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(r.c)(this.physicsGroup)})}},{key:"createView",value:function(){this.gfx=t.Sprite.from(t.utils.TextureCache.fire),this.gfx.anchor.set(.5,1),this.gfx.alpha=.7,this.view.addChild(this.gfx)}}])&&s(n.prototype,i),u&&s(n,u),h}(i.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var o=n(2),r=n(0),i=n(8),c=n(13);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,e);var n,i,a,l=f(p);function p(e,n,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(i=l.call(this)).position.set(Object(r.d)(e.x),Object(r.d)(e.y));var c=new t.Graphics;return c.beginFill(16711680,.5),c.drawCircle(0,0,n),c.endFill(),i.addChild(c),i.explode(e,n,o),i}return n=p,(i=[{key:"explode",value:function(t,e,n){var i=this;this.scale.set(.1,.1),o.app.physics.explode(n,t,Object(r.e)(e));var a=c.a.timeline();a.to(this.scale,{duration:.2,x:1,y:1,ease:"linear"}),a.to(this,{duration:.2,alpha:0,ease:"linear",onComplete:function(){o.app.game.remove(i.getEntity())}})}}])&&u(n.prototype,i),a&&u(n,a),p}(i.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return p}));var o=n(3),r=n(0),i=n(8);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(p,e);var n,c,f,l=s(p);function p(e,n){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(c=l.call(this,new i.a,r.a.MAGIC,{type:o.Body.DYNAMIC,position:e,gravityScale:.5,linearDamping:1,bullet:!0,linearVelocity:n,angularVelocity:Math.random()})).body.setMassData({mass:0,center:o.Vec2.zero(),I:1}),c.createShape();var a=t.Sprite.from(t.utils.TextureCache.star);return a.anchor.set(.5),a.alpha=.8,a.scale.set(.4,.4),c.view.addChild(a),c}return n=p,(c=[{key:"createShape",value:function(){this.body.createFixture(new o.Box(Object(r.e)(5),Object(r.e)(5)),{density:30,friction:0,restitution:.99,filterCategoryBits:this.physicsGroup,filterMaskBits:Object(r.c)(this.physicsGroup,r.a.GHOST,r.a.HEROES,r.a.WATER)})}},{key:"onBeginContacted",value:function(t){this.getEntity().removeComponent(this.view),this.getEntity().removeComponent(this)}}])&&a(n.prototype,c),f&&a(n,f),p}(n(16).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.Sprite.from(t.utils.TextureCache.tube1);return r.anchor.set(.5,.33),e.addChild(r),e}return o}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.utils.TextureCache.small_platform,i=t.Sprite.from(r);i.anchor.set(1,.5),e.addChild(i);var c=t.Sprite.from(r);return c.anchor.set(0,.5),c.position.x=i.position.x,e.addChild(c),e}return o}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return u}));var u=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,e);var n=i(o);function o(){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),e=n.call(this);var r=t.utils.TextureCache.small_platform,i=t.Sprite.from(r);return i.anchor.set(.5,.5),i.scale.x=1.3,e.addChild(i),e}return o}(n(8).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var o=n(2),r=n(133),i=n(74),c=n(13);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(y,e);var n,i,a,l=f(y);function y(e,n,i){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),h(p(c=l.call(this,e,n,i)),"view",void 0),h(p(c),"viewMask",void 0),c.view=new r.a,c.view.position.set(e,n),o.app.gameLayer.addChild(c.view),c.viewMask=new t.Graphics,c.viewMask.beginFill(0,1),c.viewMask.drawRect(0,-90,80,90),c.viewMask.endFill(),o.app.gameLayer.addChild(c.viewMask),c.viewMask.position.set(e-37,n+32),c.viewMask.scale.y=0,c.view.mask=c.viewMask,c}return n=y,(i=[{key:"disable",value:function(){var t=this;c.a.to(this.viewMask.scale,{duration:this.delay/1e3,y:1,ease:"linear",onComplete:function(){t.viewMask.scale.y=0}})}}])&&u(n.prototype,i),a&&u(n,a),y}(i.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return A}));var o=n(3),r=n(2),i=n(11),c=n(57),a=n(19),u=n(52),s=n(80),f=n(30),l=n(68),p=n(81),y=n(95),h=n(74),d=n(10),b=n(69),v=n(8),m=n(56),w=n(0),g=n(18),O=n(83),j=n(105);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=x(t);if(e){var r=x(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return R(this,n)}}function R(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?E(t):e}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(A,e);var n,S,R,x=_(A);function A(){var t;k(this,A);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return T(E(t=x.call.apply(x,[this].concat(n))),"back",void 0),t}return n=A,(S=[{key:"execute",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){r.app.gameLayer.removeChild(this.back),this.back=void 0}},{key:"createAll",value:function(){var t=Object(i.a)(),e=new p.a(65,610);t.addComponent(e),t.addComponent(new u.a(e,[w.a.ENEMIES,w.a.DANGER])),t.addComponent(new a.b(0,e)),t.addComponent(new m.a(e)),t.addComponent(new f.a(e)),t.addComponent(new h.a(30,100,0)),t.addComponent(new b.a(50,-70,150,"Can jump high.\nCan fight.")),r.app.game.add(t);var n=Object(i.a)(),S=new d.a(-10,360,w.a.DEFAULT,20,720,void 0,new v.a);n.addComponent(S),r.app.game.add(n),S=new d.a(640,-10,w.a.DEFAULT,1280,20,void 0,new v.a),n.addComponent(S),S=new d.a(1330,605,w.a.DEFAULT,20,130,void 0,new v.a),n.addComponent(S),S=new d.a(1300,550,w.a.DEFAULT,40,20,void 0,new v.a),n.addComponent(S),S=new d.a(1290,280,w.a.DEFAULT,20,560,void 0,new v.a),n.addComponent(S);var k=Object(i.a)();S=new d.a(640,685,w.a.DEFAULT,1280,70,void 0,new v.a),k.addComponent(S),r.app.game.add(k),S=new d.a(1275,685,w.a.DEFAULT,130,70,void 0,new v.a),k.addComponent(S);var C=Object(i.a)();S=new d.a(270,420,w.a.DEFAULT,70,34,void 0,new j.a),C.addComponent(S),r.app.game.add(C),C=Object(i.a)();var P=new s.a(1275,600,50,110);C.addComponent(P),r.app.game.add(C),C=Object(i.a)();var _=new c.a(new o.Vec2(250,160));C.addComponent(_),C.addComponent(new b.a(50,50,220,"Jump high and\ncollect")),r.app.game.add(C),k=Object(i.a)();var R=new d.a(360,685,w.a.DEFAULT,240,70,void 0,new O.a);k.addComponent(R),r.app.game.add(k),C=Object(i.a)();var E=new l.a(760,500);C.addComponent(E),C.addComponent(new u.a(E,[w.a.DANGER])),C.addComponent(new f.a(E)),C.addComponent(new y.a),r.app.game.add(C),Object(g.a)(1).then((function(){r.app.gui.showCharactersButtons([0])}))}},{key:"createBackground",value:function(){this.back=new t.Container,r.app.gameLayer.addChild(this.back),this.back.addChild(t.Sprite.from(t.utils.TextureCache.background));var e=t.Sprite.from(t.utils.TextureCache.controls);e.alpha=.5,e.position.set(1e3,100),this.back.addChild(e);var n=t.Sprite.from(t.utils.TextureCache.arrow);n.position.set(1150,530),this.back.addChild(n);var o=new t.Text("EXIT",new t.TextStyle({fontFamily:"Geometria",fill:"#ffff00",fontWeight:"bold"}));o.position.set(1080,536),this.back.addChild(o),(o=new t.Text("(move all your\ncharacters there)",{fontFamily:"Geometria",fill:"#ffff00",align:"center",fontSize:14})).anchor.set(.5),o.position.set(1150,585),this.back.addChild(o)}}])&&C(n.prototype,S),R&&C(n,R),A}(n(82).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x}));var o=n(3),r=n(2),i=n(11),c=n(57),a=n(19),u=n(52),s=n(80),f=n(30),l=n(140),p=n(81),y=n(10),h=n(69),d=n(8),b=n(56),v=n(104),m=n(0),w=n(18),g=n(83);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=R(t);if(e){var r=R(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return P(this,n)}}function P(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(x,e);var n,O,P,R=C(x);function x(){var t;j(this,x);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return E(_(t=R.call.apply(R,[this].concat(n))),"back",void 0),t}return n=x,(O=[{key:"execute",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){r.app.gameLayer.removeChild(this.back),this.back=void 0}},{key:"createAll",value:function(){var t=Object(i.a)(),e=new p.a(65,610);t.addComponent(e),t.addComponent(new u.a(e,[m.a.ENEMIES,m.a.DANGER])),t.addComponent(new a.b(0,e)),t.addComponent(new b.a(e)),t.addComponent(new f.a(e)),r.app.game.add(t);var n=Object(i.a)(),O=new v.a(165,610);n.addComponent(O),n.addComponent(new u.a(O,[m.a.ENEMIES,m.a.DANGER])),n.addComponent(new a.b(1,O)),n.addComponent(new f.a(O)),n.addComponent(new h.a(50,-70,150,"Can jump.\nCan do magic.")),r.app.game.add(n);var j=Object(i.a)(),S=new y.a(-10,360,m.a.DEFAULT,20,720,void 0,new d.a);j.addComponent(S),r.app.game.add(j),S=new y.a(640,-10,m.a.DEFAULT,1280,20,void 0,new d.a),j.addComponent(S),S=new y.a(1330,605,m.a.DEFAULT,20,130,void 0,new d.a),j.addComponent(S),S=new y.a(1300,550,m.a.DEFAULT,40,20,void 0,new d.a),j.addComponent(S),S=new y.a(1290,280,m.a.DEFAULT,20,560,void 0,new d.a),j.addComponent(S);var k=Object(i.a)();S=new y.a(640,685,m.a.DEFAULT,1280,70,void 0,new d.a),k.addComponent(S),r.app.game.add(k),S=new y.a(1275,685,m.a.DEFAULT,130,70,void 0,new d.a),k.addComponent(S);var C=Object(i.a)(),P=new s.a(1275,600,50,110);C.addComponent(P),r.app.game.add(C),C=Object(i.a)();var _=new c.a(new o.Vec2(600,630));C.addComponent(_),r.app.game.add(C),k=Object(i.a)();var R=new y.a(360,685,m.a.DEFAULT,240,70,void 0,new g.a);k.addComponent(R),r.app.game.add(k),C=Object(i.a)();var E=new l.a;C.addComponent(E),C.addComponent(new h.a(50,-40,150,"You can move it\nby magic!")),r.app.game.add(C),Object(w.a)(1).then((function(){r.app.gui.showCharactersButtons([0,1])}))}},{key:"createBackground",value:function(){this.back=new t.Container,r.app.gameLayer.addChild(this.back),this.back.addChild(t.Sprite.from(t.utils.TextureCache.background));var e=t.Sprite.from(t.utils.TextureCache.controls);e.alpha=.5,e.position.set(1e3,100),this.back.addChild(e);var n=t.Sprite.from(t.utils.TextureCache.arrow);n.position.set(1150,530),this.back.addChild(n);var o=new t.Text("EXIT",new t.TextStyle({fontFamily:"Geometria",fill:"#ffff00",fontWeight:"bold"}));o.position.set(1080,536),this.back.addChild(o),(o=new t.Text("(move all your\ncharacters there)",{fontFamily:"Geometria",fill:"#ffff00",align:"center",fontSize:14})).anchor.set(.5),o.position.set(1150,585),this.back.addChild(o)}}])&&S(n.prototype,O),P&&S(n,P),x}(n(82).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return A}));var o=n(3),r=n(2),i=n(11),c=n(57),a=n(19),u=n(52),s=n(80),f=n(135),l=n(30),p=n(140),y=n(81),h=n(10),d=n(69),b=n(8),v=n(56),m=n(104),w=n(0),g=n(18),O=n(83),j=n(105);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=x(t);if(e){var r=x(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return R(this,n)}}function R(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?E(t):e}function E(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(A,e);var n,S,R,x=_(A);function A(){var t;k(this,A);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return T(E(t=x.call.apply(x,[this].concat(n))),"back",void 0),t}return n=A,(S=[{key:"execute",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){r.app.gameLayer.removeChild(this.back),this.back=void 0}},{key:"createAll",value:function(){var t=Object(i.a)(),e=new y.a(65,610);t.addComponent(e),t.addComponent(new u.a(e,[w.a.ENEMIES,w.a.DANGER])),t.addComponent(new a.b(0,e)),t.addComponent(new v.a(e)),t.addComponent(new l.a(e)),r.app.game.add(t);var n=Object(i.a)(),S=new m.a(165,610);n.addComponent(S),n.addComponent(new u.a(S,[w.a.ENEMIES,w.a.DANGER])),n.addComponent(new a.b(1,S)),n.addComponent(new l.a(S)),r.app.game.add(n);var k=Object(i.a)(),C=new f.a(285,620);k.addComponent(C),k.addComponent(new a.b(2,C)),k.addComponent(new d.a(70,-60,150,"Can become\nimplanted and\ncontrol others.")),k.addComponent(new d.a(75,-10,180,"Cannot collect\nstars")),r.app.game.add(k);var P=Object(i.a)(),_=new h.a(-10,360,w.a.DEFAULT,20,720,void 0,new b.a);P.addComponent(_),r.app.game.add(P),_=new h.a(640,-10,w.a.DEFAULT,1280,20,void 0,new b.a),P.addComponent(_),_=new h.a(1330,605,w.a.DEFAULT,20,130,void 0,new b.a),P.addComponent(_),_=new h.a(1300,550,w.a.DEFAULT,40,20,void 0,new b.a),P.addComponent(_),_=new h.a(1290,280,w.a.DEFAULT,20,560,void 0,new b.a),P.addComponent(_);var R=Object(i.a)();_=new h.a(640,685,w.a.DEFAULT,1280,70,void 0,new b.a),R.addComponent(_),r.app.game.add(R),_=new h.a(1275,685,w.a.DEFAULT,130,70,void 0,new b.a),R.addComponent(_);var E=Object(i.a)();_=new h.a(270,420,w.a.DEFAULT,70,34,void 0,new j.a),E.addComponent(_),r.app.game.add(E),E=Object(i.a)();var x=new s.a(1275,600,50,110);E.addComponent(x),r.app.game.add(E),E=Object(i.a)();var T=new c.a(new o.Vec2(250,160));E.addComponent(T),r.app.game.add(E),E=Object(i.a)(),T=new c.a(new o.Vec2(600,630)),E.addComponent(T),r.app.game.add(E),E=Object(i.a)(),T=new c.a(new o.Vec2(940,260)),E.addComponent(T),E.addComponent(new d.a(45,50,220,"Think how to\ncollect it!")),r.app.game.add(E),R=Object(i.a)();var A=new h.a(360,685,w.a.DEFAULT,240,70,void 0,new O.a);R.addComponent(A),r.app.game.add(R),E=Object(i.a)();var D=new p.a;E.addComponent(D),r.app.game.add(E),Object(g.a)(1).then((function(){r.app.gui.showCharactersButtons([0,1,2])}))}},{key:"createBackground",value:function(){this.back=new t.Container,r.app.gameLayer.addChild(this.back),this.back.addChild(t.Sprite.from(t.utils.TextureCache.background));var e=t.Sprite.from(t.utils.TextureCache.controls);e.alpha=.5,e.position.set(1e3,100),this.back.addChild(e);var n=t.Sprite.from(t.utils.TextureCache.arrow);n.position.set(1150,530),this.back.addChild(n);var o=new t.Text("EXIT",new t.TextStyle({fontFamily:"Geometria",fill:"#ffff00",fontWeight:"bold"}));o.position.set(1080,536),this.back.addChild(o),(o=new t.Text("(move all your\ncharacters there)",{fontFamily:"Geometria",fill:"#ffff00",align:"center",fontSize:14})).anchor.set(.5),o.position.set(1150,585),this.back.addChild(o)}}])&&C(n.prototype,S),R&&C(n,R),A}(n(82).a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b}));var o=n(2),r=n(24),i=n(76),c=n(136),a=n(138),u=n(252),s=n(253),f=n(114),l=n(254),p=n(255),y=n(139);function h(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"buttons",void 0),d(this,"charButtonsLayer",void 0),d(this,"controlsLayer",void 0),d(this,"leftButton",void 0),d(this,"rightButton",void 0),d(this,"superActionButton",void 0),d(this,"actionButton",void 0),d(this,"coins",void 0),d(this,"gameOverView",void 0),d(this,"onKeyDown",void 0),d(this,"scaleProps",void 0)}var n,b,v;return n=e,(b=[{key:"start",value:function(){var e=this;this.charButtonsLayer=new t.Container,o.app.guiLayer.addChild(this.charButtonsLayer),this.controlsLayer=new t.Container,o.app.guiLayer.addChild(this.controlsLayer);var n=t.Sprite.from(t.utils.TextureCache.ui);this.charButtonsLayer.addChild(n),this.coins=new s.a,this.coins.position.set(80,50),this.charButtonsLayer.addChild(this.coins),this.createCharactersButtons(),t.utils.isMobile.any?this.createControlsButtons():(this.onKeyDown=function(t){e.onKeyPressed(t.code)},document.addEventListener("keydown",this.onKeyDown))}},{key:"showCharactersButtons",value:function(t){this.buttons.forEach((function(e){e.visible=t.includes(e.id)}))}},{key:"gameOver",value:function(){this.disableAll(),this.gameOverView=new p.a,o.app.guiLayer.addChild(this.gameOverView),this.positionGameOver(this.scaleProps.scale)}},{key:"finishLevel",value:function(t){this.disableAll(),this.gameOverView=new l.a(t),o.app.guiLayer.addChild(this.gameOverView),this.positionGameOver(this.scaleProps.scale)}},{key:"restart",value:function(){o.app.guiLayer.removeChild(this.gameOverView),this.gameOverView=null,this.enableAll(),this.unhostAll(),this.notOnExitAll(),this.updateCoins(0),o.app.runners.characterSwitched.emit(0)}},{key:"resize",value:function(e,n){if(this.charButtonsLayer){if(this.scaleProps={width:e,height:n,newWidth:0,newHeight:0,scale:1,finalScale:1},n/e<r.b/r.c?(this.scaleProps.newHeight=n,this.scaleProps.newWidth=this.scaleProps.newHeight*r.c/r.b,this.scaleProps.scale=this.scaleProps.newHeight/r.b):(this.scaleProps.newWidth=e,this.scaleProps.newHeight=this.scaleProps.newWidth*r.b/r.c,this.scaleProps.scale=this.scaleProps.newWidth/r.c),this.scaleProps.finalScale=this.scaleProps.scale,this.positionGameOver(this.scaleProps.scale),t.utils.isMobile.any){this.scaleProps.finalScale*=e>n?2:3,this.leftButton.scale=this.rightButton.scale=this.actionButton.scale=this.superActionButton.scale=new t.Point(this.scaleProps.finalScale,this.scaleProps.finalScale);var o=n-this.leftButton.height-20*this.scaleProps.finalScale;this.leftButton.position.set(20*this.scaleProps.finalScale,o),this.rightButton.position.set(this.leftButton.position.x+this.leftButton.width+20*this.scaleProps.finalScale,o),this.superActionButton.position.set(e-this.superActionButton.width-20*this.scaleProps.finalScale,o),this.actionButton.position.set(this.superActionButton.x-this.actionButton.width-20*this.scaleProps.finalScale,o)}var i=10;t.utils.isMobile.any&&e>n&&(this.scaleProps.finalScale*=.7,i=-10),this.charButtonsLayer.scale.set(this.scaleProps.finalScale,this.scaleProps.finalScale),this.charButtonsLayer.position.set(e-400*this.scaleProps.finalScale,i*this.scaleProps.finalScale)}}},{key:"updateCoins",value:function(t){this.coins.updateCoinsText(t)}},{key:"gameStarted",value:function(){this.resize(window.innerWidth,window.innerHeight)}},{key:"disableAll",value:function(){this.buttons.forEach((function(t){!t.hosted&&(t.enable=!1)}))}},{key:"enableAll",value:function(){this.buttons.forEach((function(t){!t.hosted&&(t.enable=!0)}))}},{key:"unhostAll",value:function(){this.buttons.forEach((function(t){t.hosted=!1}))}},{key:"notOnExitAll",value:function(){this.buttons.forEach((function(t){t.onExit=!1}))}},{key:"unhostButton",value:function(t){var e=this.buttons[t];e&&e.hosted&&(e.hosted=!1)}},{key:"hostButton",value:function(t){var e=this.buttons[t];e&&!e.hosted&&(e.hosted=!0)}},{key:"setOnExit",value:function(t,e){var n=this.buttons[t];n&&(n.onExit=e)}},{key:"positionGameOver",value:function(t){this.gameOverView&&(this.gameOverView.scale.set(t,t),this.gameOverView.position.set(this.scaleProps.width/2,this.scaleProps.height/2))}},{key:"onKeyPressed",value:function(t){"Digit1"===t?this.onCharacterButtonClicked(0):"Digit2"===t?this.onCharacterButtonClicked(1):"Digit3"===t&&this.onCharacterButtonClicked(2)}},{key:"createControlsButtons",value:function(){var e=new t.Text("<=");e.position.set(35,35),e.anchor.set(.5,.5);var n=new f.a;n.alpha=.3,n.icon=e,this.controlsLayer.addChild(n),n.on("buttonPressed",(function(){window.dispatchEvent(new i.a("mobilekeydown","ArrowLeft"))})),n.on("buttonReleased",(function(){window.dispatchEvent(new i.a("mobilekeyup","ArrowLeft"))})),this.leftButton=n,(e=new t.Text("=>")).position.set(35,35),e.anchor.set(.5,.5),(n=new f.a).alpha=.3,n.icon=e,this.controlsLayer.addChild(n),n.on("buttonPressed",(function(){window.dispatchEvent(new i.a("mobilekeydown","ArrowRight"))})),n.on("buttonReleased",(function(){window.dispatchEvent(new i.a("mobilekeyup","ArrowRight"))})),this.rightButton=n,(e=new t.Text("^")).position.set(35,35),e.anchor.set(.5,.5),(n=new f.a).alpha=.3,n.icon=e,this.controlsLayer.addChild(n),n.on("buttonPressed",(function(){window.dispatchEvent(new i.a("mobilekeydown","ArrowUp"))})),n.on("buttonReleased",(function(){window.dispatchEvent(new i.a("mobilekeyup","ArrowUp"))})),this.actionButton=n,(e=new t.Text("X")).position.set(35,35),e.anchor.set(.5,.5),(n=new f.a).alpha=.3,n.icon=e,this.controlsLayer.addChild(n),n.on("buttonPressed",(function(){window.dispatchEvent(new i.a("mobilekeydown","Space"))})),n.on("buttonReleased",(function(){window.dispatchEvent(new i.a("mobilekeyup","Space"))})),this.superActionButton=n}},{key:"createCharactersButtons",value:function(){var t=this,e=new a.a;e.scale.set(.7,.7),e.position.set(35,37),e.stop();var n=new y.a;n.scale.set(.7,.7),n.position.set(35,41),n.stop();var o=new c.a;o.stop(),o.scale.set(.7,.7),o.position.set(30,44),this.buttons=[];for(var r=0;r<3;r++){var i=new u.a;switch(i.id=r,i.position.set(160+70*r,15),this.charButtonsLayer.addChild(i),r){case 0:i.icon=e;break;case 1:i.icon=n;break;case 2:i.icon=o}i.on("buttonPressed",(function(e){t.onCharacterButtonClicked(e)})),this.buttons.push(i)}this.enableAll(),this.buttons[0].enable=!1}},{key:"onCharacterButtonClicked",value:function(t){this.buttons[t].enable&&(this.enableAll(),o.app.runners.characterSwitched.emit(t),this.buttons[t].enable=!1)}}])&&h(n.prototype,b),v&&h(n,v),e}()}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var o=n(106),r=n(13);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,e);var n,o,i,s=u(l);function l(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),p(f(e=s.call(this)),"_hosted",void 0),p(f(e),"done",void 0),p(f(e),"_icon",void 0),e.done=t.Sprite.from(t.utils.TextureCache.done),e.done.position.set(-6,-22),e.onExit=!1,e}return n=l,(o=[{key:"setEnable",value:function(t){this.back.visible=!t,this.interactive=t,this._icon&&(this._icon.alpha=this.hosted?.4:1),this.hosted&&(this.back.visible=!1)}},{key:"createBack",value:function(){this.back=t.Sprite.from(t.utils.TextureCache.ui_active),this.back.position.set(-20,-20),this.addChild(this.back),this.back.visible=!1}},{key:"icon",set:function(t){this._icon=t,this.addChild(t),this.addChild(this.done)}},{key:"hosted",set:function(t){this._hosted=t,this.enable=!t},get:function(){return this._hosted}},{key:"onExit",set:function(t){t&&(this.done.alpha=0,r.a.to(this.done,{duration:.2,alpha:1,ease:"linear"})),this.done.visible=t}}])&&c(n.prototype,o),i&&c(n,i),l}(o.a)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return f}));var f=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(f,e);var n,o,a,s=c(f);function f(){var e,n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),e=s.call(this),n=u(e),r=void 0,(o="txt")in n?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,e.txt=new t.Text("",new t.TextStyle({fontFamily:"Geometria-Bold",fontWeight:"bold",fontSize:30})),e.txt.anchor.set(0,.5),e.addChild(e.txt),e.updateCoinsText(0),e}return n=f,(o=[{key:"updateCoinsText",value:function(t){this.txt.text="x ".concat(t)}}])&&r(n.prototype,o),a&&r(n,a),f}(t.Container)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var o=n(2),r=n(96);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,e);var n,i,f,y=s(h);function h(e){var n,i,c,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),n=y.call(this),i=l(n),a=void 0,(c="okBtn")in i?Object.defineProperty(i,c,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[c]=a;var u=t.Sprite.from(t.utils.TextureCache.popup);u.anchor.set(.5),n.addChild(u);var s=t.Sprite.from(t.utils.TextureCache.popup_title);s.y=-u.height/2,s.anchor.set(.5,0),n.addChild(s);var f=new t.Text("Level Completed!",{fontFamily:"Geometria-Bold",align:"center",fontSize:25,wordWrap:!0,wordWrapWidth:400});f.y=s.y+30,f.anchor.set(.5,0),n.addChild(f);var p=new t.Text("Coins earned: ".concat(e,"\nLet's play next!"),{fontFamily:"Geometria",align:"center",fontSize:20,wordWrap:!0,wordWrapWidth:400});return p.anchor.set(.5,1),n.addChild(p),n.okBtn=new r.a("NEXT"),n.okBtn.on("buttonPressed",(function(){o.app.game.restart()})),n.okBtn.position.set(p.position.x,p.position.y+100),n.addChild(n.okBtn),n}return n=h,(i=[{key:"destroy",value:function(t){this.okBtn.off("buttonPressed"),this.removeChild(this.okBtn),this.okBtn=void 0,a(p(h.prototype),"destroy",this).call(this,t)}}])&&c(n.prototype,i),f&&c(n,f),h}(t.Container)}).call(this,n(12))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var o=n(2),r=n(96);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(h,e);var n,i,f,y=s(h);function h(){var e,n,i,c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),e=y.call(this),n=l(e),c=void 0,(i="okBtn")in n?Object.defineProperty(n,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[i]=c;var a=new t.Graphics;a.beginFill(6710886,1),a.drawRect(-250,-150,500,300),a.endFill(),e.addChild(a);var u=new t.Text("GAME OVER!\nYou have to start current level from the beginning..",{align:"center",fontSize:20,wordWrap:!0,wordWrapWidth:400});return u.anchor.set(.5,1),e.addChild(u),e.okBtn=new r.a("OK"),e.okBtn.on("buttonPressed",(function(){o.app.game.restart()})),e.okBtn.position.set(u.position.x,u.position.y+100),e.addChild(e.okBtn),e}return n=h,(i=[{key:"destroy",value:function(t){this.okBtn.off("buttonPressed"),this.removeChild(this.okBtn),this.okBtn=void 0,a(p(h.prototype),"destroy",this).call(this,t)}}])&&c(n.prototype,i),f&&c(n,f),h}(t.Container)}).call(this,n(12))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(30),r=n(16);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"hosted",void 0),c(this,"_host",void 0),this.hosted=[]}var e,n,a;return e=t,(n=[{key:"getHostedByOverlap",value:function(t){for(var e=t.getContactList();null!=e;e=e.next)if(e.contact.isTouching()){var n=r.a.getAnotherBody(e.contact,t).getUserData().getEntity().getComponent(o.a);if(n)return n}}},{key:"entityAdded",value:function(t){var e=t.getComponent(o.a);e&&this.hosted.push(e)}},{key:"entityRemoved",value:function(t){var e=t.getComponent(o.a);if(e){e.hasHost()&&(this.host.action(),e.releaseHost());var n=this.hosted.indexOf(e);n>=0&&this.hosted.splice(n,1)}}},{key:"host",set:function(t){this._host=t},get:function(){return this._host}}])&&i(e.prototype,n),a&&i(e,a),t}()},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var o=n(2),r=n(24),i=n(96);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(h,e);var n,c,l,y=f(h);function h(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),y.call(this)}return n=h,(c=[{key:"load",value:function(){var e=this;this.addChild(t.Sprite.from(t.utils.TextureCache.background));var n=t.Sprite.from(t.Texture.WHITE);n.tint=262703,n.alpha=.8,n.width=1280,n.height=720,this.addChild(n);var r=t.Sprite.from(t.utils.TextureCache.splash);r.anchor.set(.5,0),r.position.set(640,50),this.addChild(r),o.app.gameLayer.addChild(this);var c=new i.a("START");c.position.set(640,550),this.addChild(c);var a=new i.a("TUTORIAL");a.position.set(640,620),this.addChild(a),c.on("buttonPressed",(function(){o.app.runners.start.emit(1),e.destroy()})),a.on("buttonPressed",(function(){o.app.runners.start.emit(0),e.destroy()}))}},{key:"resize",value:function(t,e){var n=0,i=0,c=1;e/t<r.b/r.c?(n=(i=e)*r.c/r.b,c=i/r.b):(i=(n=t)*r.b/r.c,c=n/r.c),o.app.gameLayer.scale.set(c,c),o.app.gameLayer.position.set(t/2-n/2,e/2-i/2)}},{key:"destroy",value:function(){this.removeChildren(),o.app.gameLayer.removeChild(this),u(p(h.prototype),"destroy",this).call(this)}}])&&a(n.prototype,c),l&&a(n,l),h}(t.Container)}).call(this,n(12))},function(t,e,n){n(259),t.exports=n(2)}]);
//# sourceMappingURL=bundle.1504929fc1d1818d7684.js.map