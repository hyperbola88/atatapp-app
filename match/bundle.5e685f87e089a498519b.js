!function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;i.push([200,1]),n()}({200:function(e,t,n){n(201),e.exports=n(408)},408:function(e,t,n){"use strict";n.r(t),n.d(t,"EGAAdAction",(function(){return Va})),n.d(t,"EGAAdError",(function(){return Xa})),n.d(t,"EGAAdType",(function(){return Ja})),n.d(t,"EGAProgressionStatus",(function(){return qa})),n.d(t,"live",(function(){return eu})),n.d(t,"lang",(function(){return tu})),n.d(t,"sendProgressionEvent",(function(){return ru})),n.d(t,"sendAdEvent",(function(){return ou})),n.d(t,"sendEvent",(function(){return iu})),n.d(t,"sendError",(function(){return au})),n.d(t,"setLive",(function(){return uu}));var r=n(46),o=n(193);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"path",void 0),a(this,"all",void 0),a(this,"musics",void 0),a(this,"mutedSounds",void 0),a(this,"mutedMusic",void 0)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.path=e,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(e){var t;this.mutedMusic=e,null===(t=this.musics.music)||void 0===t||t.mute(e)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(e){for(var t in this.mutedSounds=e,this.all)this.all[t]&&this.all[t].mute(e)}},{key:"add",value:function(e,t){var n=this;if(!this.all[e]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(t){return"".concat(n.path,"/").concat(e,".").concat(t)})),i=new o.Howl({src:r,autoplay:null==t?void 0:t.autoplay,loop:null==t?void 0:t.loop,volume:(null==t?void 0:t.volume)||1});"music"!==e?this.all[e]=i:this.musics[e]=i}}},{key:"playRandom",value:function(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Math.floor(Math.random()*t),o=!1,i=0;i<t;i++)if(this.all[e+i.toString()].playing()){o=!0;break}o&&n||this.play(e+r.toString())}},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.all[e]?this.all[e].playing()&&t||this.all[e].play():console.error("no sound was found")}},{key:"stop",value:function(e){this.all[e]?this.all[e].stop():console.error("no sound was found")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),c=n(16),s=n(69),l=n(70),f=n(51);function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"states",void 0),y(this,"currentState",void 0),y(this,"stage",void 0),this.stage=t,this.states=new Map}var t,n,r,o,i;return t=e,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(e){this.states.set(e.constructor,e),e.create()}},{key:"start",value:function(e){var t=this.states.get(e);if(!t)throw new Error("No state ".concat(e));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.start(r),this.currentState=t,this.stage.addChild(this.currentState)}},{key:"restart",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,i=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];if(o=this.currentState,!this.currentState){e.next=6;break}return e.next=5,this.currentState.close();case 5:this.stage.removeChild(this.currentState);case 6:window.setTimeout((function(){o.start(n),i.currentState=o,i.stage.addChild(i.currentState)}),100);case 7:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){p(i,n,r,a,u,"next",e)}function u(e){p(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=n(1),b=n(9),m=n(21),w=n(3),g=n(2),k=n(7);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _,C,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(i,e);var t,n,r,o=S(i);function i(e,t){var n,r,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=B(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=m.a.from(w.db.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*e,c.height=2*t,c.interactive=!0,n.addChild(c),n.sprite=m.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return t=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,g.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var e=this;this.sprite.rotation=0,g.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:k.f.easeNone,onComplete:function(){e.rotate()}})}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b),E=n(10),A=n.n(E);function L(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}f.a.registerPlugin(c.a),c.b.registerPlugin(s.b),c.b.registerPlugin(l.c);var D,I,N=[],Y={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,levels:[],particles:void 0,material:new E.Material,bounceMaterial:new E.Material,activeBallMaterial:new E.Material,slowmo:!1},F=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={width:t,height:n,autoDensity:!0,resolution:2,backgroundColor:12309476};Y.originalWidth=t,Y.originalHeight=n,C=new f.a(o),document.body.appendChild(C.view),v.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,C.view.style.left="0%",C.view.style.top="0%",C.view.style.width="100%",C.view.style.height="100%",C.renderer.plugins.interaction,C.stage.interactive=!0,C.ticker.maxFPS=60;var i=new b.b;C.stage.addChild(i),_=new A.a.World({gravity:[0,-10]}),this.initContactListener();var a=new E.Material,u=new E.Material,c=new E.Material;Y.material=a,Y.bounceMaterial=c,Y.activeBallMaterial=u,_.addContactMaterial(new E.ContactMaterial(a,a,{restitution:0,stiffness:E.Equation.DEFAULT_STIFFNESS/3})),_.addContactMaterial(new E.ContactMaterial(u,c,{restitution:1,stiffness:E.Equation.DEFAULT_STIFFNESS/3})),_.emitImpactEvent=!1,C.ticker.add((function(){if(!Y.paused){var e=1/(Y.slowmo?400:60);_.step(e,.1,3),_.bodies.forEach((function(e){var t=e.userData;if(t&&t.transform){var n=e.interpolatedPosition;t.position.set(50*n[0],50*n[1]),t.rotateView?t.rotateView(e.interpolatedAngle):t.rotation=e.interpolatedAngle}})),r.customLogic(e)}})),this.start(C,i),(I=new j(t,n)).hide(),i.addChild(I)}var t,n,r,o,i;return t=e,(n=[{key:"customLogic",value:function(e){var t=this.preCleanUnused(e);this.cleanUnusedBobies(),this.postCleanUnused(t)}},{key:"cleanUnusedBobies",value:function(){N.forEach((function(e){return _.removeBody(e)})),N=[]}},{key:"start",value:(o=regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new b.b,n.addChild(r),o=new b.b,n.addChild(o),D=new d(o),e.next=7,this.load();case 7:i=m.a.from(v.Texture.from("back1.png")),r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var e=a(),n=e.width,i=e.height;t.renderer.resize(n,i),Y.realHeight=i,I.height=i,I.scale.x=I.scale.y;var u=i/Y.originalHeight;Y.scale=u,o.scale.set(u,u),r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),I.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 14:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){L(i,n,r,a,u,"next",e)}function u(e){L(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,u,"next",e)}function u(e){U(i,r,o,a,u,"throw",e)}a(void 0)}))}}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G,H=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,a,u,c,s,l,f,p,h;return t=e,(n=[{key:"showGlobalLeaders",value:function(e){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(h=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(e){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(e){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=W(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=W(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"setScore",value:(c=W(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"getScore",value:(u=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0);case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,language:"en",gameKey:"28b00d27d31d5bb1a89f2f95461df103",secretKey:"b527d253099947040f78d2b1e70f06725391e3a1"});case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ou(Va.Show,Ja.Interstitial),e.abrupt("return",new Promise((function(e){var t=Math.random()<.5;window.setTimeout((function(){e()}),t?1e3:0)})));case 2:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ou(Va.Show,Ja.RewardedVideo),e.abrupt("return",new Promise((function(e){window.setTimeout((function(){e(!0)}),2e3)})));case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function K(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K(i,r,o,a,u,"next",e)}function u(e){K(i,r,o,a,u,"throw",e)}a(void 0)}))}}!function(e){e[e.RewardedVideo=2]="RewardedVideo",e[e.Interstitial=4]="Interstitial"}(G||(G={}));var X,J=function(){try{return localStorage}catch(e){return}},q=!0,$=function(){var e=V(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){X=new H,console.log(X),X&&X.init().then((function(t){e(t)})).catch((function(e){au({error:"initSocial"}),t()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=V(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=J())||void 0===r||r.setItem(t,n),e.next=3,X.setStorageData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=V(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getStorageData(t,n);case 2:return(r=e.sent)===n&&(r=(null===(o=J())||void 0===o?void 0:o.getItem(t))||n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=V(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,I&&I.show(),r=u.muteMusic,o=u.muteSounds,u.muteMusic=!0,u.muteSounds=!0,e.t0=t,e.next=e.t0===G.Interstitial?9:e.t0===G.RewardedVideo?13:17;break;case 9:return e.next=11,X.showInter();case 11:return n=!0,e.abrupt("break",17);case 13:return e.next=15,X.showReward();case 15:return n=e.sent,e.abrupt("break",17);case 17:return q=!1,I&&I.hide(),u.muteMusic=r,u.muteSounds=o,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=V(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.finishLoading());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){X.gameplayStart()},re=function(){X.gameplayStop()};function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){if(t&&("object"===oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(i,e);var t,n,r,o=ue(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,n&&ie(t.prototype,n),r&&ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(b.b);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ye(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function ye(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=we(e)););return e}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke,xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(i,e);var t,n,r,o=ve(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ge(me(n=o.call(this)),"normalTexture",void 0),ge(me(n),"downTexture",void 0),ge(me(n),"isDisabled",!1),ge(me(n),"isDown",void 0),ge(me(n),"btn",void 0),n.normalTexture=""===e?w.db.WHITE:w.db.from(e),n.downTexture=""===e?w.db.WHITE:w.db.from(t),n.btn=m.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(me(n))).on("pointerup",n.onButtonUp.bind(me(n))).on("pointerupoutside",n.onButtonUp.bind(me(n))).on("pointerout",n.onButtonOut.bind(me(n))),n.disabled=!1,n}return t=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(e){this.isDisabled=e,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(e){this.isDisabled||(u.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(e){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),he(we(i.prototype),"destroy",this).call(this,e)}}])&&pe(t.prototype,n),r&&pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b);function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.NO=0]="NO",e[e.WALLS=Math.pow(2,0)]="WALLS",e[e.BALLS=Math.pow(2,1)]="BALLS",e[e.MOVER=Math.pow(2,2)]="MOVER",e[e.OBSTACLES=Math.pow(2,3)]="OBSTACLES"}(ke||(ke={}));var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}(i,e);var t,n,r,o=Pe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ce(Re(t=o.call(this)),"body",void 0),Ce(Re(t),"shape",void 0),Ce(Re(t),"type",void 0),Ce(Re(t),"view",void 0),t.type=e,t.view=t.createView(),t.view.anchor.set(.5,.5),t.addChild(t.view),t}return t=i,(n=[{key:"createBody",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.view.alpha=1;var n=[this.position.x/50,this.position.y/50];this.shape=this.createShape(),this.body=new E.Body({type:e,position:n,mass:t,damping:0,angularDamping:0}),this.body.addShape(this.shape),_.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyBody(e),this.parent&&this.parent.removeChild(this)}},{key:"isGoal",value:function(){return!1}},{key:"destroyBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(e?_.removeBody(this.body):N.push(this.body),this.body=void 0)}},{key:"correctType",value:function(){return 0!==this.type&&(this.type<20||this.type===ze.STATIC_OBSTACLE_TYPE||this.type===ze.RANDOM_OBSTACLE_TYPE||this.type===ze.SKULL_TYPE||this.type===ze.ANY_TYPE)}}])&&Te(t.prototype,n),r&&Te(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b);function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(){return(Me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=De(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function De(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ue(e)););return e}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fe(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}(i,e);var t,n,r,o=Ne(i);function i(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Ae(this,i),We(Fe(r=o.call(this,n)),"sameColorNeighbors",new Map),We(Fe(r),"steps",1),We(Fe(r),"stepsAmount",3),We(Fe(r),"view2",void 0),We(Fe(r),"savedType",-1),We(Fe(r),"skullMeter",1),We(Fe(r),"_kinematic",!1),We(Fe(r),"permanentSkull",!1),We(Fe(r),"busy",!1),We(Fe(r),"sensorShape",void 0),r.permanentSkull=n===i.SKULL_TYPE,r.position.set(e,t),a&&r.createBody(E.Body.DYNAMIC),r.view2=r.createView2(),r.view2.anchor.set(.5,.5),r.addChild(r.view2),r}return t=i,(n=[{key:"rotateView",value:function(e){this.view.rotation=e}},{key:"kinematic",get:function(){return this._kinematic},set:function(e){this._kinematic=e}},{key:"createBody",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;Me(Ue(i.prototype),"createBody",this).call(this,e,n),this.sensorShape=new E.Circle({radius:(this.getRadius()+5)/50}),this.sensorShape.sensor=!0,this.sensorShape.material=Y.material,this.sensorShape.data=!0,null===(t=this.body)||void 0===t||t.addShape(this.sensorShape)}},{key:"enableGravity",value:function(){this.body&&(this.body.gravityScale=1,this.body.mass=5,this.body.updateMassProperties(),this.shape.material=Y.material)}},{key:"animateAndDestroy",value:function(){var e=this;this.killTween(),g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),g.a.to(this.view2.scale,{x:0,y:0,duration:.2}),this.destroyBody()}},{key:"killTween",value:function(){g.a.killTweensOf(this.view.scale),g.a.killTweensOf(this.view2.scale)}},{key:"clean",value:function(){this.busy=!1,Me(Ue(i.prototype),"clean",this).call(this)}},{key:"decreaseSkullMeter",value:function(){this.type!==i.SKULL_TYPE||this.permanentSkull||(this.skullMeter-=1,-1===this.skullMeter&&this.removeSkull())}},{key:"isSkull",value:function(){return this.type===i.SKULL_TYPE}},{key:"setPermanentSkull",value:function(){u.play("ball roger"),this.permanentSkull=!0,this.type=i.SKULL_TYPE,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2()}},{key:"setSkull",value:function(){u.play("ball roger"),this.savedType=this.type,this.skullMeter=3,this.kinematic=!1,this.body&&(this.body.gravityScale=1),this.type=i.SKULL_TYPE,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2()}},{key:"removeSkull",value:function(){this.type=this.savedType,this.savedType=-1,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2(),this.view2.visible=!0}},{key:"setBomb",value:function(){var e=this;this.busy||(this.type=i.BOMB_TYPE,this.view.texture=v.Texture.from("bomb.png"),this.view2.visible=!1,this.killTween(),this.busy=!0,g.a.to(this.view.scale,{x:.4,y:.4,duration:1,onUpdate:function(){e.updateShape()}}),g.a.to(this.view.scale,{x:1.2,y:1.2,delay:1,duration:.2,onUpdate:function(){e.updateShape()},onComplete:function(){var t=Ki.obtain();e.addChild(t),t.animate().then((function(){Ki.release(t)})),e.animateAndDestroy()}}))}},{key:"boom",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.increase(this.stepsAmount-this.steps,e)}},{key:"getRadius",value:function(){return 35}},{key:"getTexture",value:function(){return v.Texture.from("".concat(this.type,".png"))}},{key:"getTexture2",value:function(){return v.Texture.from("".concat(this.type,"_.png"))}},{key:"createView",value:function(){var e=new v.Sprite(this.getTexture());return e.scale.set(.5,.5),e}},{key:"createView2",value:function(){var e=new v.Sprite(this.getTexture2());return e.scale.set(.5,.5),e}},{key:"createShape",value:function(){var e=new E.Circle({radius:this.getRadius()/50});return e.material=Y.material,e}},{key:"increase",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.busy||!this.body)return 0;var r=0;this.busy=!0;var o=this.steps;if(e+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=e,this.steps>=this.stepsAmount){if(n&&(r=1),this.killTween(),this.sameColorNeighbors.forEach((function(e,o){if(o!==t){var i=o.increase(t.stepsAmount-o.steps,n);n&&(r+=i)}})),o<2)g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),g.a.to(this.view2.scale,{x:0,y:0,duration:.2}),g.a.delayedCall(.2*Math.random(),(function(){u.stop("ball pop 0"),u.stop("ball pop 1"),u.stop("ball pop 2"),u.playRandom("ball pop ",3)}));else{var a=this.view.width/2,c=0;u.play("ball deflate"),g.a.to(this.view.scale,{x:0,y:0,duration:.3,onUpdate:function(){t.view.position.set(Math.cos(c)*a,Math.sin(c)*a),c+=Math.PI/15,a-=1},onComplete:function(){t.clean()}}),this.view2.scale.set(0,0)}this.destroyBody(n)}else{u.play("ball grow");var s=i.SCALE_FACTOR*this.steps;g.a.to(this.view.scale,{x:s,y:s,duration:.2,onUpdate:function(){t.updateShape()},onComplete:function(){t.busy=!1}}),g.a.to(this.view2.scale,{x:s,y:s,duration:.2})}return r}},{key:"updateShape",value:function(){var e,t;this.shape.radius=this.getRadius()/i.SCALE_FACTOR*this.view.scale.x/50,this.shape.updateBoundingRadius(),this.sensorShape.radius=(this.getRadius()+5)/i.SCALE_FACTOR*this.view.scale.x/50,this.sensorShape.updateBoundingRadius(),null===(e=this.body)||void 0===e||e.updateBoundingRadius(),null===(t=this.body)||void 0===t||t.updateMassProperties()}}])&&Le(t.prototype,n),r&&Le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(je);We(ze,"BALL_SCORE",5),We(ze,"BONUS_SCORE",100),We(ze,"EXPLOSION_SCORE",50),We(ze,"GOAL_TYPE",1e3),We(ze,"END_TYPE",500),We(ze,"STATIC_OBSTACLE_TYPE",250),We(ze,"RANDOM_OBSTACLE_TYPE",251),We(ze,"BOMB_TYPE",2e3),We(ze,"SKULL_TYPE",3e3),We(ze,"RAINBOW_TYPE",4e3),We(ze,"ANY_TYPE",5e3),We(ze,"SCALE_FACTOR",.5);var Ge=n(4);function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}(i,e);var t,n,r,o=Xe(i);function i(e,t,n,r,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,0)).position.set(e,t),u.view.width=n,u.view.height=r,u.createBody(E.Body.STATIC),u.body&&(u.body.mass=0,u.body.angle=Ge.b*a),u}return t=i,(n=[{key:"createShape",value:function(){return new E.Box({width:this.view.width/50,height:this.view.height/50})}},{key:"createView",value:function(){var e=new m.a(v.Texture.WHITE);return e.anchor.set(.5),e.tint=0,e.visible=!1,e.alpha=0,e}},{key:"isObstacle",value:function(){return!1}},{key:"correctType",value:function(){return!1}},{key:"animateAndDestroy",value:function(){var e=this;g.a.killTweensOf(this.view.scale),g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody()}}])&&Ke(t.prototype,n),r&&Ke(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(je);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(e,t){if(t&&("object"===Ze(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ot(e)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(u,e);var t,n,r,o,i,a=nt(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),at(ot(e=a.call(this,300)),"startX",void 0),at(ot(e),"startY",void 0),at(ot(e),"endX",void 0),at(ot(e),"endY",void 0),e.createBody(E.Body.DYNAMIC),e.reset(),e}return t=u,(n=[{key:"createShape",value:function(){var e=new E.Box({width:4,height:4});return e.sensor=!0,e}},{key:"createView",value:function(){return new v.Sprite(v.Texture.from("powerup_rocket.png"))}},{key:"animate",value:(o=regeneratorRuntime.mark((function e(t,n,r,o){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){i.visible=!0,i.startX=t,i.startY=n,i.endX=r,i.endY=o,i.position.set(t,n),t!==r&&(i.view.angle=90);var a={x:i.startX,y:i.startY};i.body.position=[a.x/50,a.y/50],g.a.to(a,{x:i.endX,y:i.endY,duration:1,ease:k.b.easeIn,onComplete:function(){i.reset(),e()},onUpdate:function(){i.body.position=[a.x/50,a.y/50]}})})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Qe(i,n,r,a,u,"next",e)}function u(e){Qe(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t,n,r){return i.apply(this,arguments)})},{key:"reset",value:function(){this.body.gravityScale=0,this.visible=!1,this.body.position=[-40,-40]}}])&&et(t.prototype,n),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(je);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(){return(lt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ft(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function ft(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vt(e)););return e}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vt(e);if(t){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yt(this,n)}}function yt(e,t){if(t&&("object"===ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dt(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(i,e);var t,n,r,o=ht(i);function i(e,t){var n,r,a,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,e,t,ze.GOAL_TYPE,!0),r=dt(n),u=void 0,(a="delay")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u,n}return t=i,(n=[{key:"resetDeathCounter",value:function(){u.stop("fail ticking"),this.delay&&(this.delay.kill(),this.delay=void 0)}},{key:"startCountDeath",value:function(){var e=this;this.delay||(u.play("fail ticking",!0),this.delay=g.a.delayedCall(4,(function(){e.delay=void 0,e.emit("gameover")})))}},{key:"destroyBody",value:function(e){this.resetDeathCounter(),this.off("gameover"),lt(vt(i.prototype),"destroyBody",this).call(this,e)}},{key:"setSkull",value:function(){lt(vt(i.prototype),"setSkull",this).call(this),this.view.texture=v.Texture.from("3001.png"),this.view2.texture=v.Texture.from("3001_.png")}},{key:"createView",value:function(){return new v.Sprite(this.getTexture())}},{key:"createView2",value:function(){return new v.Sprite(this.getTexture2())}},{key:"getTexture",value:function(){return v.Texture.from("hero.png")}},{key:"getTexture2",value:function(){return v.Texture.from("hero_.png")}},{key:"getRadius",value:function(){return 50}},{key:"isGoal",value:function(){return!0}}])&&st(t.prototype,n),r&&st(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ze);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wt(i,r,o,a,u,"next",e)}function u(e){wt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pt(e);if(t){var o=Pt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return St(e)}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}(u,e);var t,n,r,o,i,a=Ot(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),Bt(St(e=a.call(this,"","")),"_id",void 0),Bt(St(e),"icon",void 0),Bt(St(e),"txt",void 0),Bt(St(e),"amount",void 0),e.amount=1,e.txt=new v.Text(e.amount.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),e.txt.anchor.set(.5,.5),e.txt.x=90,e.txt.y=90,e.addChild(e.txt),e.icon=v.Sprite.from(v.Texture.from("bonus_ads.png")),e.icon.x=15,e.icon.y=35,e.addChild(e.icon),e.icon.visible=!1,e.on("pointerup",(function(){e.onPressed()})),e}return t=u,n=[{key:"id",get:function(){return this._id}},{key:"setData",value:(i=gt(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._id=t,this.normalTexture=n,this.downTexture=r,this.btn.texture=this.normalTexture,this.icon.visible=!1,e.next=7,Q(u.getStorageId(this.id),void 0);case 7:if(void 0!==(o=e.sent)){e.next=12;break}return o="1",e.next=12,Z(u.getStorageId(this.id),o);case 12:this.amount=parseInt(o),this.txt.text=o,this.updateTxt(),this.scale.set(.6,.6);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"updateTxt",value:function(){0===this.amount?(this.btn.alpha=.6,this.icon.visible=!0,this.txt.visible=!1):(this.btn.alpha=1,this.icon.visible=!1,this.txt.visible=!0),this.txt.text=this.amount.toString()}},{key:"onPressed",value:(o=gt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iu("Game","Powerup","Click"),!(this.amount>0)){e.next=8;break}this.amount--,Z(u.getStorageId(this.id),this.amount.toString()),this.updateTxt(),this.emit("activate",this.id),e.next=16;break;case 8:return t=(new Date).getTime(),Y.paused=!0,e.next=12,ee(G.RewardedVideo);case 12:e.sent,Y.paused=!1,this.emit("activate",this.id,(new Date).getTime()-t);case 16:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],r=[{key:"getStorageId",value:function(e){return"powerup_"+e.toString()}}],n&&kt(t.prototype,n),r&&kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(xe);function _t(e){return(_t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){if(t&&("object"===_t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lt(e)}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jt(e,t)}(i,e);var t,n,r,o=Et(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Dt(Lt(e=o.call(this)),"bar",void 0),Dt(Lt(e),"barMask",void 0),Dt(Lt(e),"initialWidth",596),Dt(Lt(e),"isFrozen",void 0),Dt(Lt(e),"delay",void 0),Dt(Lt(e),"frozen",void 0),Dt(Lt(e),"frozenBack",void 0),Dt(Lt(e),"back",void 0),Dt(Lt(e),"barBorder",void 0),e.back=v.Sprite.from(v.Texture.from("timer_1.png")),e.addChild(e.back),e.frozenBack=v.Sprite.from(v.Texture.from("timer_frozen_1.png")),e.frozenBack.visible=!1,e.addChild(e.frozenBack),e.bar=v.Sprite.from(v.Texture.from("timer_2.png")),e.addChild(e.bar),e.barMask=new v.Sprite(v.Texture.WHITE),e.barMask.x=16,e.barMask.width=0,e.barMask.height=e.bar.height,e.addChild(e.barMask),e.bar.mask=e.barMask,e.barBorder=v.Sprite.from(v.Texture.from("timer_0.png")),e.barBorder.anchor.set(.5,.5),e.barBorder.x=100,e.barBorder.y=.5*e.bar.height,e.addChild(e.barBorder),e.barBorder.visible=!1,e.frozen=new v.Sprite(v.Texture.from("timer_frozen_0.png")),e.frozen.visible=!1,e.addChild(e.frozen),e}return t=i,(n=[{key:"setProgress",value:function(e){this.barMask.width=this.initialWidth*e,this.barBorder.visible=e>.01&&e<.99,this.barBorder.x=this.barMask.x+this.initialWidth*e}},{key:"unFreeze",value:function(){var e=this;this.isFrozen=!1,g.a.killTweensOf(this.frozen),g.a.to(this.frozenBack,{alpha:0,duration:.3}),g.a.to(this.back,{alpha:1,duration:.3}),g.a.to(this.frozen,{alpha:0,duration:.3,onComplete:function(){e.frozen.visible=!1,e.frozenBack.visible=!1}})}},{key:"freeze",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.isFrozen=!0,this.frozen.visible=!0,this.frozen.alpha=0,this.frozenBack.visible=!0,this.frozenBack.alpha=0,g.a.killTweensOf(this.frozen),g.a.killTweensOf(this.frozenBack),g.a.killTweensOf(this.back),g.a.to(this.frozen,{alpha:1,duration:.3}),g.a.to(this.frozenBack,{alpha:1,duration:.3}),g.a.to(this.back,{alpha:0,duration:.3}),this.delay&&this.delay.kill(),-1!==t&&(this.delay=g.a.delayedCall(t,(function(){e.unFreeze()})))}},{key:"clear",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0),g.a.killTweensOf(this.frozen),this.frozen.visible=!1,this.frozenBack.visible=!1,this.back.alpha=1,this.isFrozen=!1}}])&&Ct(t.prototype,n),r&&Ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){if(t&&("object"===Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zt(e)}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}(i,e);var t,n,r,o=Ut(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ht(zt(e=o.call(this)),"bar",void 0),Ht(zt(e),"max",void 0),Ht(zt(e),"current",void 0),Ht(zt(e),"initialWidth",170),Ht(zt(e),"barMask",void 0),Ht(zt(e),"barBorder",void 0),Ht(zt(e),"barShine",void 0);var t=v.Sprite.from(v.Texture.from("battery_empty.png"));return e.addChild(t),e.bar=v.Sprite.from(v.Texture.from("battery_full.png")),e.addChild(e.bar),e.barMask=new v.Sprite(v.Texture.WHITE),e.barMask.width=0,e.barMask.height=e.bar.height,e.barMask.x=27,e.addChild(e.barMask),e.barBorder=v.Sprite.from(v.Texture.from("battery_border.png")),e.barBorder.anchor.set(.5,.5),e.barBorder.y=.5*e.bar.height,e.addChild(e.barBorder),e.barBorder.visible=!1,e.barShine=new v.AnimatedSprite([v.Texture.from("battery_charging0.png"),v.Texture.from("battery_charging1.png"),v.Texture.from("battery_charging2.png"),v.Texture.from("battery_charging1.png")]),e.addChild(e.barShine),e.barShine.animationSpeed=.3,e.barShine.visible=!1,e.bar.mask=e.barMask,e.current=0,e.max=10,e}return t=i,(n=[{key:"maximum",set:function(e){this.max=e}},{key:"reset",value:function(e){g.a.killTweensOf(this.barMask),this.current=0,e?this.barMask.width=0:g.a.to(this.barMask,{width:0,duration:.1}),this.barBorder.visible=!1}},{key:"update",value:function(e){var t=this;this.current+=e,this.current=Math.min(this.current,this.max),this.barShine.visible=!0,this.barShine.gotoAndPlay(0);var n=this.current>=this.max,r=this.current/this.max;return this.barBorder.visible=r>.05&&r<.9,g.a.killTweensOf(this.barMask),g.a.to(this.barMask,{width:this.initialWidth*r,duration:.2}),g.a.to(this.barBorder,{x:this.barMask.x+this.initialWidth*r,duration:.2,onComplete:function(){t.barShine.visible=!1,t.barShine.stop()}}),n&&(this.barShine.visible=!1,this.barShine.stop(),this.current=0,g.a.to(this.barMask,{width:0,delay:.2,duration:.2}),g.a.to(this.barBorder,{x:this.barMask.x,duration:.2,onUpdate:function(){t.barBorder.visible=r>.05&&r<.9}})),n}}])&&Yt(t.prototype,n),r&&Yt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(e,t){if(t&&("object"===Vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zt(e)}function Zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jt(e,t)}(i,e);var t,n,r,o=qt(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),en(Zt(e=o.call(this)),"back",void 0),en(Zt(e),"blocks",void 0),en(Zt(e),"startX",void 0),en(Zt(e),"startY",void 0),en(Zt(e),"txt",void 0),e.blocks=[],e.back=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50),e.back.width=.96*Y.originalWidth,e.back.height=300,e.back.position.set(.5*-e.back.width,0),e.addChild(e.back),e.txt=new v.Text("From: Leopold",{fontSize:25,fill:0,fontWeight:"bold",align:"left"}),e.txt.anchor.set(0,.5),e.txt.position.set(.5*-e.back.width+40,30),e.addChild(e.txt),e.clear(),e}return t=i,(n=[{key:"setLines",value:function(e){this.txt.text="From: "+i.senders[Math.floor(Math.random()*i.senders.length)];var t=e.length;this.back.height=75*t+70,this.startX=-300,this.startY=95;for(var n=0;n<t;n++){for(var r=this.startX,o=0;o<e[n].length;o++){var a=new ze(r,this.startY,e[n][o],!1);this.addBlock(a),r+=74}this.startY+=70}}},{key:"addBlock",value:function(e){this.blocks.push(e),this.addChild(e),e.visible=!1}},{key:"show",value:function(){this.blocks.forEach((function(e){e.visible=!0}))}},{key:"clear",value:function(){var e=this;this.blocks.forEach((function(t){e.removeChild(t)})),this.blocks=[]}}])&&Xt(t.prototype,n),r&&Xt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sn(e);if(t){var o=sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return un(this,n)}}function un(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cn(e)}function cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}en(tn,"senders",["Mom","Dad","Boss","Red Hair","Stupid guy","Handsome stranger","Vampire","Lady Hamilton","Dude","Sis","Bro","Grany","Kurt","Kristin","Leo Di","Emergency"]);var ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&on(e,t)}(i,e);var t,n,r,o=an(i);function i(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t=cn(e),r=void 0,(n="txt")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;var a=new v.Sprite(v.Texture.from("letter_button.png"));return a.anchor.set(.5,.5),e.addChild(a),e.txt=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:60,fill:0,align:"center",fontWeight:"bold"}),e.txt.anchor.set(.5,.5),e.addChild(e.txt),e}return t=i,(n=[{key:"letter",set:function(e){this.txt.text=e}}])&&rn(t.prototype,n),r&&rn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mn(e);if(t){var o=mn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vn(this,n)}}function vn(e,t){if(t&&("object"===fn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}(c,e);var t,n,r,o,i,a=dn(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),wn(bn(t=a.call(this)),"bound",new v.Rectangle),wn(bn(t),"back",void 0),wn(bn(t),"letters",void 0),wn(bn(t),"stringLetters",void 0),wn(bn(t),"getPoint",void 0),t.back=v.Sprite.from(v.Texture.WHITE),t.back.anchor.set(.5,.5),t.back.width=Y.originalWidth,t.back.height=Y.originalHeight,t.addChild(t.back),t.stringLetters=t.getLetters(e),t.letters=[];for(var n=0;n<t.stringLetters.length;n++){var r=new ln;r.visible=!1,t.addChild(r),t.letters.push(r)}return t}return t=c,(n=[{key:"start",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.getPoint=t,this.visible=!0,this.back.alpha=0,n=[],r=0,o=0;o<this.stringLetters.length;o++)r++," "===this.stringLetters[o]&&(n.push(r),r=0);return 0===n.length?n.push(this.stringLetters.length):n.push(r),e.abrupt("return",new Promise((function(e){u.play("bonus keys"),g.a.to(i.back,{alpha:.7,duration:1});for(var t=0,r=-30,o=n[t],a=60/(o-1),c=100*o,s=.5*-c,l=c/(o-1),f=-400,p=[],h=i.stringLetters.length,y=0;y<h;y++){var d=i.letters.pop();d&&(p.push(d),d.visible=!0,d.letter=i.stringLetters[y],d.position.set(-400,700),d.scale.set(.1,.1),d.angle=r-30,g.a.to(d,{angle:r,x:s,y:f,delay:.1*y,duration:.5}),g.a.to(d.scale,{x:1,y:1,delay:.1*y,duration:.5})," "===i.stringLetters[y]?(t++,r=-30,a=60/((o=n[t])-1),s=.5*-(c=100*o),f+=140,l=c/(o-1)):(r+=a,s+=l))}g.a.to(i.back,{alpha:0,delay:1.2,duration:.5}),g.a.delayedCall(1+.1*(i.stringLetters.length-1),(function(){i.animate(p).then((function(){e()}))}))})));case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){pn(i,n,r,a,u,"next",e)}function u(e){pn(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"clean",value:function(){this.getPoint=void 0,g.a.killTweensOf(this.back)}}])&&hn(t.prototype,n),r&&hn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v.Container);function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tn(){return(Tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Sn(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Sn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cn(e)););return e}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cn(e);if(t){var o=Cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rn(this,n)}}function Rn(e,t){if(t&&("object"===kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _n(e)}function _n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(i,e);var t,n,r,o=Bn(i);function i(){var e;xn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jn(_n(e=o.call.apply(o,[this].concat(n))),"points",[]),e}return t=i,r=[{key:"getAllByAmount",value:function(e){if(0===e)return[];i.allTexts||(i.allTexts=new Map,["BANG!","BONUS","SMASH","KABOOM","CRASH","CLANK","THUMP","WHAM!","SUPER BOOM","SUPER BONUS","LET'S JAZZ","YOU ARE JUST GREAT","YOU ARE GREAT","SUPER PUPER BOOM","WISH YOU LUCK, DUDE!","THAT WAS DOOM!","OH MY GOD!"].forEach((function(e){var t=e.length>=17?3:e.length>=10?2:1,n=[];i.allTexts.get(t)&&(n=i.allTexts.get(t)),n.push(e),i.allTexts.set(t,n)})),console.log(i.allTexts));var t=i.allTexts.get(e);return t[Math.floor(Math.random()*t.length)].split("")}}],(n=[{key:"activeBound",get:function(){if(this.points.length>0){for(var e=[],t=0;t<this.points.length;t++){var n=this.points[t];e.push(new v.Rectangle(n[0]-1,n[1]-1,2,2))}return this.points=[],e}}},{key:"clean",value:function(){this.points=[],Tn(Cn(i.prototype),"clean",this).call(this)}},{key:"getLetters",value:function(e){return i.getAllByAmount(e)}},{key:"animate",value:function(e){var t=this;return this.points=[],new Promise((function(n){if(t.getPoint){for(var r=function(n){var r=t.getPoint();if(!r)return"continue";g.a.to(e[n].scale,{x:0,y:0,duration:.2}),g.a.to(e[n],{x:50*r[0],y:50*r[1],duration:.2,onComplete:function(){t.points.push(r)}})},o=0;o<e.length;o++)r(o);g.a.delayedCall(.25,(function(){n()}))}else n()}))}}])&&On(t.prototype,n),r&&On(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(gn);function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yn(e);if(t){var o=Yn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return In(this,n)}}function In(e,t){if(t&&("object"===An(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nn(e)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}jn(En,"allTexts",void 0);var Un=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mn(e,t)}(i,e);var t,n,r,o=Dn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Fn(Nn(e=o.call(this)),"scoreTxt",void 0),Fn(Nn(e),"scoreNumber",void 0);var t=v.Sprite.from(v.Texture.from("score_place.png"));return e.addChild(t),e.scoreNumber=0,e.scoreTxt=new v.Text(e.scoreFormatted(0),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:16777215,align:"center",letterSpacing:7,fontWeight:"bold"}),e.scoreTxt.anchor.set(.5,.5),e.scoreTxt.position.set(.5*t.width,.5*t.height),e.addChild(e.scoreTxt),e}return t=i,(n=[{key:"score",set:function(e){var t=this,n={score:this.scoreNumber};this.scoreTxt.text=this.scoreFormatted(this.scoreNumber),g.a.to(n,{score:e,duration:.1,ease:k.f.easeNone,onUpdate:function(){t.scoreTxt.text=t.scoreFormatted(Math.floor(n.score))}}),this.scoreNumber=e}},{key:"scoreFormatted",value:function(e){for(var t=e.toString(),n=6-t.length,r=0;r<n;r++)t="0"+t;return t}}])&&Ln(t.prototype,n),r&&Ln(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vn(e);if(t){var o=Vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(e,t){if(t&&("object"===Wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gn(e,t)}(i,e);var t,n,r,o=Hn(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,"pause_button.png","pause_button.png")}return t=i,n&&zn(t.prototype,n),r&&zn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(xe);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tr(e);if(t){var o=tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qn(this,n)}}function Qn(e,t){if(t&&("object"===Jn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$n(e,t)}(i,e);var t,n,r,o=Zn(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),nr(er(e=o.call(this,0)),"rect",void 0),nr(er(e),"laser",void 0),e.laser=v.Sprite.from(v.Texture.from("direction.png")),e.laser.height=500,e.laser.rotation=Math.PI/2,e.laser.alpha=0,e.laser.anchor.set(.5,.5),e.addChild(e.laser),e.laser.visible=!1,e}return t=i,(n=[{key:"activeBound",get:function(){if(this.rect)return[this.rect]}},{key:"getLetters",value:function(){return["{","}"]}},{key:"animate",value:function(e){var t=this;return new Promise((function(n){if(void 0!==t.getPoint||2!==e.length){var r=t.getPoint();g.a.to(e[0],{x:-300,angle:0,y:50*r,duration:.2}),g.a.to(e[1],{x:300,angle:0,y:50*r,duration:.2}),g.a.delayedCall(.2,(function(){t.laser.visible=!0,t.laser.y=50*r,t.rect=new v.Rectangle(-7,r-.5,14,1),g.a.to(t.laser,{alpha:1,duration:.2}),g.a.delayedCall(.2,(function(){t.rect=void 0,g.a.to(e[0],{alpha:0,duration:.2}),g.a.to(e[1],{alpha:0,duration:.2}),g.a.to(t.laser,{alpha:0,duration:.2}),g.a.delayedCall(.2,(function(){n()}))}))}))}else n()}))}}])&&qn(t.prototype,n),r&&qn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(gn);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lr(e);if(t){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sr(this,n)}}function sr(e,t){if(t&&("object"===or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ur(e,t)}(i,e);var t,n,r,o=cr(i);function i(){return ir(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"isObstacle",value:function(){return!0}}])&&ar(t.prototype,n),r&&ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}($e);function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=br(e);if(t){var o=br(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vr(this,n)}}function vr(e,t){if(t&&("object"===pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yr(e,t)}(i,e);var t,n,r,o=dr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e[0],e[1],100,100,0)).view.scale.set(1,1),t.type=ze.STATIC_OBSTACLE_TYPE,t}return t=i,(n=[{key:"createView",value:function(){var e=new v.Sprite(v.Texture.from("app_static.png"));return e.anchor.set(.5),e}},{key:"createShape",value:function(){var e=new E.Box({width:this.view.width/50,height:this.view.height/50});return e.data=!0,e}}])&&hr(t.prototype,n),r&&hr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(fr);function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sr(e);if(t){var o=Sr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Or(this,n)}}function Or(e,t){if(t&&("object"===wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tr(e)}function Tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Br,Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}(i,e);var t,n,r,o=xr(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pr(Tr(n=o.call(this,e[0],e[1],100,100,0)),"moving",!1),Pr(Tr(n),"lives",void 0),Pr(Tr(n),"txt",void 0),Pr(Tr(n),"explosion",void 0),n.type=ze.RANDOM_OBSTACLE_TYPE,n.lives=t,n.txt=new v.Text(n.lives.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),n.txt.anchor.set(.5,.5),n.txt.y=20,n.view.addChild(n.txt),n.view.scale.set(1,1),n.explosion=Ki.obtain(),n.explosion.visible=!1,n.addChild(n.explosion),n}return t=i,(n=[{key:"changePosition",value:function(){var e=this;if(!this.moving){this.lives--;var t=this.lives<=0;this.moving=!0;var n=this.view.scale.x;g.a.to(this.view.scale,{x:.01,y:.01,duration:.1,onUpdate:function(){var t,n;e.shape.width=e.shape.height=100*e.view.scale.x/50,e.shape.updateBoundingRadius(),null===(t=e.body)||void 0===t||t.updateBoundingRadius(),null===(n=e.body)||void 0===n||n.updateMassProperties()},onComplete:function(){if(t)e.destroyBody(),e.explosion.visible=!0,e.explosion.animate().then((function(){Ki.release(e.explosion),e.clean()}));else{e.txt.text=e.lives.toString();var r=9*Math.random()-4.5,o=5*-Math.random();e.body&&(e.body.position=[r,o]),g.a.to(e.view.scale,{x:n,y:n,duration:.4,onUpdate:function(){var t,n;e.shape.width=e.shape.height=100*e.view.scale.x/50,e.shape.updateBoundingRadius(),null===(t=e.body)||void 0===t||t.updateBoundingRadius(),null===(n=e.body)||void 0===n||n.updateMassProperties()},onComplete:function(){e.moving=!1}})}}})}}},{key:"createView",value:function(){var e=new v.Sprite(v.Texture.from("app_random.png"));return e.anchor.set(.5),e}},{key:"createShape",value:function(){var e=new E.Box({width:this.view.width/50,height:this.view.height/50});return e.data=!0,e}}])&&gr(t.prototype,n),r&&gr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(fr);function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||jr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){if(e){if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t){return(Lr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nr(e);if(t){var o=Nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dr(this,n)}}function Dr(e,t){if(t&&("object"===_r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Begin="begin",e.Moving="moving",e.Heart="heart",e.NewLine="newLine",e.Recharge="recharge",e.Unbreak="unbreak",e.IAPBonus="iapbonus",e.IAPBonus2="iapbonus2",e.ChangePosition="changed",e.Skull="skull",e.AnyType="anytype",e.RainbowType="rainbowtype"}(Br||(Br={}));var Fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lr(e,t)}(i,e);var t,n,r,o=Mr(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Yr(Ir(e=o.call(this)),"allConditions",void 0),Yr(Ir(e),"textMap",void 0),Yr(Ir(e),"tutorial",void 0),Yr(Ir(e),"txt",void 0),Yr(Ir(e),"back",void 0),Yr(Ir(e),"startTime",void 0),e.allConditions=new Map,e.textMap=new Map,e.textMap.set(Br.Begin,"Save The Heart By Moving It To The Top!"),e.textMap.set(Br.Moving,"Tap The Screen And Move Your Finger To Aim. Release To Shoot."),e.textMap.set(Br.Heart,"The Heart Is Free And Happy Now!"),e.textMap.set(Br.NewLine,"It's Time For A New Emoji Load!"),e.textMap.set(Br.Recharge,"Charge It Fully To Get A Bonus!"),e.textMap.set(Br.Unbreak,"This App Is Invincible!"),e.textMap.set(Br.IAPBonus,"Though Bonuses Will Help"),e.textMap.set(Br.IAPBonus2,"Another One Here!"),e.textMap.set(Br.ChangePosition,"Destroy This App With Balls"),e.textMap.set(Br.Skull,"Do Not Touch This Skulls By Heart Or By Throwed Emoji!"),e.textMap.set(Br.AnyType,"This Ball Is Matching With Any Emoji!"),e.textMap.set(Br.RainbowType,"This Ball Is Destroying Everything!"),e.back=v.Sprite.from(v.Texture.WHITE),e.back.interactive=!0,e.back.width=Y.originalWidth,e.back.height=Y.originalHeight,e.addChild(e.back),e.back.position.set(.5*-e.back.width,.5*-e.back.height),e.back.tint=0,e.back.alpha=.3,e.tutorial=new v.NineSlicePlane(v.Texture.from("tutorial.png"),52,52,90,93),e.addChild(e.tutorial),e.txt=new v.Text("",{fontSize:50,fontWeight:"bold",fill:16777215,wordWrap:!0,wordWrapWidth:300}),e.addChild(e.txt),e.visible=!1,e}return t=i,(n=[{key:"addCondition",value:function(e,t){var n=this;this.allConditions.set(e,t),Q(e.toString(),"0").then((function(t){"1"===t&&n.allConditions.delete(e)}))}},{key:"update",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this.allConditions);try{for(t.s();!(e=t.n()).done;){var n=Cr(e.value,2),r=n[0],o=(0,n[1])();if(o.success){this.show(r,o.data),this.allConditions.delete(r),Z(r.toString(),"1");break}}}catch(e){t.e(e)}finally{t.f()}}},{key:"isDone",value:function(e){return void 0===this.allConditions.get(e)}},{key:"show",value:function(e,t){var n=this;this.startTime=(new Date).getTime();var r=this.textMap.get(e);if(r){this.txt.text=r,this.tutorial.scale.set(1,1),this.tutorial.pivot.set(this.txt.width+80,this.txt.height+80),this.tutorial.width=this.txt.width+80,this.tutorial.height=this.txt.height+80,this.tutorial.scale.set(0,0);var o={x:1,y:1},i=t.pos,a=t.scale;o.x*=a.x,o.y*=a.y,this.tutorial.position.copyFrom(i),this.txt.position.copyFrom(i),1===a.x?this.txt.x-=60+this.txt.width:this.txt.x+=60,1===a.y?this.txt.y-=60+this.txt.height:this.txt.y+=52,this.txt.scale.set(0,0),this.back.alpha=0;var c=o.x/15,s=o.y/15;u.play("window open");var l=window.setInterval((function(){n.back.alpha+=.02,n.tutorial.scale.x+=c,n.tutorial.scale.y+=s,n.txt.scale.x+=1/15,n.txt.scale.y+=1/15,n.back.alpha>=.3&&window.clearInterval(l)}),10);this.visible=!0,Za(!0,!0),window.setTimeout((function(){Za(!1,!0),g.a.globalTimeline.pause(),Y.paused=!0,n.back.on("pointerup",(function(e){e.stopPropagation(),e.stopped=!0,n.hide()}))}),200)}}},{key:"hide",value:function(){var e=this;Y.paused=!1,g.a.globalTimeline.resume(),g.a.to(this,{alpha:0,duration:.3,onComplete:function(){e.visible=!1,e.alpha=1}}),this.back.off("pointerup"),this.emit("hide",(new Date).getTime()-this.startTime)}}])&&Ar(t.prototype,n),r&&Ar(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container),Ur=n(198);function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xr(e);if(t){var o=Xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(e,t){if(t&&("object"===Wr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}function Vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xr(e){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gr(e,t)}(i,e);var t,n,r,o=Hr(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Jr(Vr(e=o.call(this)),"iconL0",void 0),Jr(Vr(e),"iconR0",void 0),Jr(Vr(e),"iconL1",void 0),Jr(Vr(e),"iconR1",void 0);var t=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);t.tint=0,t.width=370,t.height=250,t.pivot.set(185,100),e.addChild(t),t.y=-50;var n=new v.Text("level powerups:",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:35,fill:16777215,align:"center",fontWeight:"bold"});n.anchor.set(.5,.5),n.position.set(0,-115),e.addChild(n);var r=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);r.pivot.set(80,80),r.width=160,r.height=160,e.addChild(r);var a=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);a.pivot.set(80,80),a.width=160,a.height=160,e.addChild(a),r.position.set(-85,0),a.position.set(85,0);var u=new v.Container,c=new v.Container;e.addChild(u),e.addChild(c),u.position.x=-85,c.position.x=85;var s=v.Sprite.from(v.Texture.WHITE);s.anchor.set(0,.5),s.width=140,s.height=140,e.addChild(s);var l=v.Sprite.from(v.Texture.WHITE);return l.anchor.set(0,.5),l.width=140,l.height=140,e.addChild(l),s.position.x=-145,l.position.x=5,u.mask=s,c.mask=l,e.iconL0=v.Sprite.from(i.randomTexture),e.iconL0.anchor.set(.5,.5),e.iconL0.scale.set(.5,.5),u.addChild(e.iconL0),e.iconR0=v.Sprite.from(i.randomTexture),e.iconR0.anchor.set(.5,.5),e.iconR0.scale.set(.5,.5),c.addChild(e.iconR0),e.iconL1=v.Sprite.from(i.randomTexture),e.iconL1.anchor.set(.5,.5),e.iconL1.scale.set(.5,.5),u.addChild(e.iconL1),e.iconL1.y=140,e.iconR1=v.Sprite.from(i.randomTexture),e.iconR1.anchor.set(.5,.5),e.iconR1.scale.set(.5,.5),c.addChild(e.iconR1),e.iconR1.y=140,e}return t=i,r=[{key:"prepareTextures",value:function(){this.allTextures=new Map,this.allTextures.set(_i.RocketUp,v.Texture.from("powerup_rocket.png")),this.allTextures.set(_i.Kill,v.Texture.from("powerup_bomb.png")),this.allTextures.set(_i.Freeze,v.Texture.from("powerup_freeze.png"))}},{key:"getTexture",value:function(e){var t=this.allTextures.get(e);return t||v.Texture.EMPTY}},{key:"randomTexture",get:function(){var e=Array.from(this.allTextures.keys()),t=e[Math.floor(Math.random()*e.length)];return this.getTexture(t)}}],(n=[{key:"start",value:function(e){var t=this;u.play("score ticking"),g.a.to({a:0},{a:1,duration:1,onUpdate:function(){if(t.iconL0.y>=140){t.iconL0.texture=i.randomTexture,t.iconR0.texture=i.randomTexture;var e=t.iconL0;t.iconL0=t.iconL1,t.iconL1=e,e=t.iconR0,t.iconR0=t.iconR1,t.iconR1=e,t.iconL0.y=0,t.iconR0.y=0}t.iconL0.y+=20,t.iconR0.y+=20,t.iconL1.y=t.iconL0.y-140,t.iconR1.y=t.iconR0.y-140},onComplete:function(){u.stop("score ticking"),t.iconL0.y=0,t.iconR0.y=0,t.iconR1.y=140,t.iconL1.y=140,t.iconL0.texture=i.getTexture(e[0]),t.iconR0.texture=i.getTexture(e[1])}})}}])&&zr(t.prototype,n),r&&zr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=oo(e);if(t){var o=oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return no(this,n)}}function no(e,t){if(t&&("object"===$r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ro(e)}function ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oo(e){return(oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Jr(qr,"allTextures",void 0);var ao=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eo(e,t)}(c,e);var t,n,r,o,i,a=to(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),io(ro(e=a.call(this)),"back",void 0),io(ro(e),"popup",void 0),io(ro(e),"callback",void 0),io(ro(e),"scoreTxt",void 0),io(ro(e),"timeBonusTxt",void 0),io(ro(e),"title",void 0),io(ro(e),"stars",void 0),io(ro(e),"emitter",void 0),io(ro(e),"prizeIcon",void 0),io(ro(e),"heart",void 0),io(ro(e),"onTickEvent",(function(t){e.emitter.update(t/70)})),e.back=v.Sprite.from(v.Texture.WHITE),e.back.anchor.set(.5,.5),e.back.width=Y.originalWidth,e.back.height=Y.originalHeight,e.back.tint=0,e.back.alpha=0,e.addChild(e.back);var t=new v.Container;e.addChild(t),e.popup=new v.Container,e.popup.scale.set(0,0),e.addChild(e.popup);var n=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);n.pivot.set(300,400),n.width=600,n.height=800,e.popup.addChild(n),e.title=new v.Text("Well Done!",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"}),e.title.anchor.set(.5,.5),e.title.position.y=-310,e.popup.addChild(e.title),e.scoreTxt=new v.Text("0",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:120,fill:0,align:"center",letterSpacing:7,fontWeight:"bold"}),e.scoreTxt.anchor.set(.5,.5),e.scoreTxt.y=80,e.popup.addChild(e.scoreTxt),e.timeBonusTxt=new v.Text("+ Time Bonus!",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:40,fill:6242531,align:"center"}),e.timeBonusTxt.anchor.set(.5,.5),e.popup.addChild(e.timeBonusTxt),e.timeBonusTxt.visible=!1,e.heart=new v.Container;var r=new v.Sprite(v.Texture.from("hero.png"));r.anchor.set(.5,.5),e.heart.addChild(r);var o=new v.Sprite(v.Texture.from("hero_.png"));o.anchor.set(.5,.5),e.heart.addChild(o),e.heart.scale.set(1.3,1.3),e.heart.position.y=-1e3,e.addChild(e.heart),e.stars=[];for(var i=-120,u=0;u<3;u++){var s=v.Sprite.from(v.Texture.from("like.png"));s.anchor.set(.5,.5),s.position.set(i,-150),e.popup.addChild(s),e.stars.push(s),s.visible=!1,i+=120}e.popup.addChild(e.stars[1]),e.prizeIcon=new v.Sprite,e.prizeIcon.anchor.set(.5,.5),e.prizeIcon.scale.set(.5,.5),e.prizeIcon.position.copyFrom(e.stars[2]),e.prizeIcon.x+=50,e.prizeIcon.y-=50,e.popup.addChild(e.prizeIcon),e.prizeIcon.visible=!1;var l=new xe("ok_button.png","ok_button.png");return l.on("pointerup",(function(){e.hide()})),l.position.y=300,e.popup.addChild(l),e.emitter=new Ur.a(t,"like.png",Y.particles),e}return t=c,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function e(t,n,r,o,i,a,c){var s,l,f,p,h,y,d,b,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.timeBonusTxt.visible=!1,this.heart.position.y=-1e3,this.heart.alpha=1,t||(r=0),console.log(a.toString(),c,r),this.title.text=t?"Well Done!":"So sorry...",!((s=c!==_i.None?c[0]:_i.None)!==_i.None&&n+r>=o[2])){e.next=24;break}return e.next=10,Q("powerupDone"+a.toString(),"0");case 10:if(l=e.sent,console.log("pd",l),"0"!==l){e.next=24;break}return this.prizeIcon.visible=!0,this.prizeIcon.scale.set(0,0),this.prizeIcon.texture=qr.getTexture(s),e.next=18,Q(Rt.getStorageId(s),"0");case 18:return f=e.sent,p=parseInt(f),e.next=22,Z(Rt.getStorageId(s),(p+1).toString());case 22:return e.next=24,Z("powerupDone"+a.toString(),"1");case 24:for(h=0;h<this.stars.length;h++)(y=this.stars[h]).visible=!0,y.scale.set(0,0),y.showed=!1;this.callback=i,this.visible=!0,this.back.alpha=0,this.popup.scale.set(0,0),u.play("window open"),u.play(t?"win":"fail"),d={s:0},this.scoreTxt.text="0",b=function(){m.scoreTxt.text=Math.round(d.s).toString();for(var e=0;e<o.length;e++){var t=m.stars[e];if(d.s>=o[e]&&!t.showed){t.showed=!0;var n=1===e?1.5:1;u.play("score thumb up"),g.a.to(t.scale,{x:n,y:n,duration:.2,ease:k.a.easeOut}),m.prizeIcon.visible&&2===e&&g.a.to(m.prizeIcon.scale,{x:.5,y:.5,duration:.2,ease:k.a.easeOut})}}},g.a.to(d,{s:n,delay:1,duration:2,onStart:function(){t&&u.play("score ticking")},onUpdate:b,onComplete:function(){u.stop("score ticking"),d.s=n,r>0&&(n+=r,m.timeBonusTxt.visible=!0,m.timeBonusTxt.scale.set(5,5),u.play("win bonus"),g.a.to(m.timeBonusTxt.scale,{x:1,y:1,duration:.5,onComplete:function(){g.a.to(d,{s:n,duration:1,onStart:function(){u.play("score ticking")},onUpdate:b,onComplete:function(){u.stop("score ticking")}})}}))}}),g.a.to(this.back,{alpha:.5,duration:.5}),g.a.to(this.popup.scale,{x:1,y:1,duration:1,ease:k.a.easeOut}),t&&(g.a.to(this.heart,{y:-410,delay:1,duration:1.5,ease:k.a.easeOut}),g.a.delayedCall(1,(function(){m.emitter.emit=!0,v.Ticker.shared.add(m.onTickEvent)})));case 38:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Zr(i,n,r,a,u,"next",e)}function u(e){Zr(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t,n,r,o,a,u){return i.apply(this,arguments)})},{key:"hide",value:function(){var e=this;u.stop("score ticking"),g.a.to(this.back,{alpha:0,duration:.2}),g.a.to(this.heart,{alpha:0,duration:.2}),g.a.to(this.popup.scale,{x:0,y:0,duration:.2,onComplete:function(){e.emitter.emit=!1,e.emitter.cleanup(),v.Ticker.shared.remove(e.onTickEvent),e.prizeIcon.visible=!1,e.visible=!1,e.callback()}})}}])&&Qr(t.prototype,n),r&&Qr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v.Container);function uo(e){return(uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return so(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return so(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bo(e);if(t){var o=bo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yo(this,n)}}function yo(e,t){if(t&&("object"===uo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vo(e)}function vo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&po(e,t)}(c,e);var t,n,r,o,i,a=ho(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),mo(vo(e=a.call(this)),"texts",void 0),mo(vo(e),"usingTexts",void 0),mo(vo(e),"back",void 0),mo(vo(e),"wheelbox",void 0),mo(vo(e),"tween",void 0),mo(vo(e),"nameBack",void 0),e.back=v.Sprite.from(v.Texture.WHITE),e.back.anchor.set(.5,.5),e.back.width=Y.originalWidth,e.back.height=Y.originalHeight,e.back.alpha=0,e.addChild(e.back),e.nameBack=new v.NineSlicePlane(v.Texture.from("name_back.png"),80,80,80,80),e.nameBack.width=600,e.nameBack.alpha=0,e.addChild(e.nameBack),e.texts=[],e.usingTexts=[];for(var t=0;t<4;t++){var n=e.getNewText();e.texts.push(n)}return e.wheelbox=new qr,e.addChild(e.wheelbox),e.visible=!1,e}return t=c,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){u.play("window open"),r.visible=!0,r.back.alpha=0,r.nameBack.alpha=0,r.wheelbox.position.y=1e3;var o=n!==_i.None,i=o?3:1.4;g.a.to(r.back,{alpha:.7,duration:.2}),g.a.to(r.nameBack,{alpha:1,duration:.2});for(var a=t.name.split(" "),c=-70*a.length/2+35-100,s=c,l=function(e){var t=a[e],n=void 0;(n=r.texts.length>0?r.texts.pop():r.getNewText()).alpha=1,n.visible=!0,n.text=t,r.addChild(n),r.usingTexts.push(n),n.y=c,n.x=e%2?-500-n.width/2:500+n.width/2,g.a.to(n,{x:0,duration:.5,ease:k.d.easeOut}),g.a.to(n,{alpha:0,delay:i-.2,duration:.5,onComplete:function(){r.texts.push(n)}}),c+=70},f=0;f<a.length;f++)l(f);g.a.to(r.back,{alpha:0,delay:i-.2,duration:.5}),g.a.to(r.nameBack,{alpha:0,delay:i-.2,duration:.5}),o&&(r.wheelbox.visible=!0,r.wheelbox.alpha=1,g.a.to(r.wheelbox,{y:c+140,delay:.6,duration:.5,ease:k.d.easeOut,onComplete:function(){r.wheelbox.start(n)}}),g.a.to(r.wheelbox,{alpha:0,delay:i-.2,duration:.5}),c+=120+r.wheelbox.height/2);var p=Math.max(400,c-s+100);r.nameBack.pivot.set(300,p/2),r.nameBack.height=p,r.nameBack.y=o?s-80+p/2:-100,r.tween=g.a.delayedCall(i,(function(){r.usingTexts=[],r.visible=!1,r.tween=void 0,e()}))})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){lo(i,n,r,a,u,"next",e)}function u(e){lo(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})},{key:"clear",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0),g.a.killTweensOf(this.wheelbox),g.a.killTweensOf(this.back);var e,t=co(this.usingTexts);try{for(t.s();!(e=t.n()).done;){var n=e.value;g.a.killTweensOf(n),this.removeChild(n)}}catch(e){t.e(e)}finally{t.f()}this.visible=!1}},{key:"getNewText",value:function(){var e=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});return e.anchor.set(.5,.5),e}}])&&fo(t.prototype,n),r&&fo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v.Container);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xo(e,t){return(xo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Po(e);if(t){var o=Po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return To(this,n)}}function To(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return So(e)}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Po(e){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ro=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xo(e,t)}(i,e);var t,n,r,o=Oo(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Bo(So(e=o.call(this)),"callback",void 0),Bo(So(e),"okBut",void 0),Bo(So(e),"xBut",void 0);var t=v.Sprite.from(v.Texture.WHITE);t.anchor.set(.5,.5),t.width=Y.originalWidth,t.height=Y.originalHeight,t.tint=0,t.alpha=.6,e.addChild(t);var n=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);n.width=500,n.height=360,n.pivot.set(250,180),e.addChild(n);var r=new v.Text("Exit?",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});r.anchor.set(.5,.5),r.position.y=-120,e.addChild(r);var a=new xe("ok_button.png","ok_button.png");a.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,e.hide(!0)})),a.position.set(-110,110),a.scale.set(.8,.8),e.addChild(a);var u=new xe("x_button.png","x_button.png");return u.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,e.hide(!1)})),u.position.set(110,110),u.scale.set(.8,.8),e.addChild(u),e.okBut=a,e.xBut=u,e.visible=!1,e}return t=i,(n=[{key:"show",value:function(e){this.callback=e,this.alpha=1,this.visible=!0,this.okBut.disabled=!1,this.xBut.disabled=!1,u.play("window open")}},{key:"hide",value:function(e){this.okBut.disabled=!0,this.xBut.disabled=!0,this.visible=!1,this.callback&&this.callback(e),this.callback=void 0}}])&&ko(t.prototype,n),r&&ko(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jo(e,t){return(jo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mo(e);if(t){var o=Mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ao(this,n)}}function Ao(e,t){if(t&&("object"===_o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lo(e)}function Lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mo(e){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jo(e,t)}(i,e);var t,n,r,o=Eo(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Do(Lo(e=o.call(this)),"part0",void 0),Do(Lo(e),"part1",void 0),e.part0=v.Sprite.from(v.Texture.from("direction.png")),e.part0.anchor.set(.5,1),e.addChild(e.part0),e.part0.height=1200,e.part1=v.Sprite.from(v.Texture.from("direction.png")),e.part1.anchor.set(.5,1),e.addChild(e.part1),e.part1.height=700,e}return t=i,(n=[{key:"draw",value:function(e){var t=Xi.BottomPoint,n=Math.atan2(e.y-t,e.x);this.part0.rotation=n+Math.PI/2;var r=1200*Math.cos(n),o=t+1200*Math.sin(n),i=1200;r<-315||r>315?(r=(i=Math.abs(r)/r*315/Math.cos(n))*Math.cos(n),o=i*Math.sin(n),this.part1.visible=!0,this.part1.position.set(r,o),this.part1.rotation=-n-Math.PI/2):this.part1.visible=!1,this.part0.height=i+8}}])&&Co(t.prototype,n),r&&Co(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function No(e){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fo(){return(Fo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Uo(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Uo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ko(e)););return e}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ko(e);if(t){var o=Ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Go(this,n)}}function Go(e,t){if(t&&("object"===No(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ho(e)}function Ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ko(e){return(Ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wo(e,t)}(i,e);var t,n,r,o=zo(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Vo(Ho(r=o.call(this,e,t,ze.ANY_TYPE,n)),"currentIcon",void 0),Vo(Ho(r),"temp",void 0),r.reGenerateTextures(),r}return t=i,(n=[{key:"reGenerateTextures",value:function(){var e=this;this.currentIcon?this.currentIcon++:this.currentIcon=1,this.currentIcon>7&&(this.currentIcon=1),this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2(),this.temp=0,g.a.to(this,{temp:1,duration:.15,onComplete:function(){e.reGenerateTextures()}})}},{key:"getTexture",value:function(){return v.Texture.from("".concat(this.currentIcon||1,".png"))}},{key:"getTexture2",value:function(){return v.Texture.from("".concat(this.currentIcon||1,"_.png"))}},{key:"clean",value:function(){g.a.killTweensOf(this),Fo(Ko(i.prototype),"clean",this).call(this)}}])&&Yo(t.prototype,n),r&&Yo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(ze);function Jo(e){return(Jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ti(e);if(t){var o=ti(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qo(this,n)}}function Qo(e,t){if(t&&("object"===Jo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ei(e)}function ei(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ri=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$o(e,t)}(i,e);var t,n,r,o=Zo(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ni(ei(e=o.call(this)),"txt",void 0),ni(ei(e),"score",void 0),e.txt=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:40,fill:4073878,align:"center"}),e.txt.anchor.set(.5,.5),e.addChild(e.txt),e}return t=i,(n=[{key:"start",value:function(e,t,n){var r=this;this.score=n,this.txt.text="+"+n.toString(),this.x=e,this.y=t,g.a.to(this,{x:0,y:-700,duration:.7,delay:.15*Math.random(),ease:k.d.easeIn,onComplete:function(){r.finish()}})}},{key:"finish",value:function(){g.a.killTweensOf(this),this.emit("done",this.score)}},{key:"clean",value:function(){g.a.killTweensOf(this),this.off("done"),this.score=0,this.alpha=1,this.txt.text=""}}])&&qo(t.prototype,n),r&&qo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ii=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="all")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.all=[];for(var i=0;i<t;i++)this.all.push(new ri)}var t,n,r;return t=e,(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Score pool exceed"),this.all.push(new ri)),this.all.pop()}},{key:"release",value:function(e){e.clean(),this.all.push(e)}}])&&oi(t.prototype,n),r&&oi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ai(e){return(ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ci(e,t){return(ci=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=pi(e);if(t){var o=pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return li(this,n)}}function li(e,t){if(t&&("object"===ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fi(e)}function fi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){return(pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ci(e,t)}(i,e);var t,n,r,o=si(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,v.Texture.from("bolt".concat(e,".png"))),n=fi(t),a=void 0,(r="_id")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t._id=e,t}return t=i,(n=[{key:"id",get:function(){return this._id}}])&&ui(t.prototype,n),r&&ui(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Sprite);function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var di=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="all")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;this.all=new Map;for(var o=0;o<4;o++){for(var i=[],a=0;a<20;a++)i.push(new hi(o));this.all.set(o,i)}}var t,n,r;return t=e,(n=[{key:"obtain",value:function(e){var t=this.all.get(e);return t&&0===t.length&&(console.log("Bolts pool exceed"),t.push(new hi(e))),null==t?void 0:t.pop()}},{key:"release",value:function(e){this.all.get(e.id).push(e)}}])&&yi(t.prototype,n),r&&yi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var bi=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="all")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.all=[];for(var i=0;i<t;i++)this.all.push(e.createMissle())}var t,n,r;return t=e,r=[{key:"createMissle",value:function(){return new v.Sprite(v.Texture.from("like.png"))}}],(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Missles pool exceed"),this.all.push(e.createMissle())),this.all.pop()}},{key:"release",value:function(e){this.all.push(e)}}])&&vi(t.prototype,n),r&&vi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wi(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){return(ki=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Si(e);if(t){var o=Si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oi(this,n)}}function Oi(e,t){if(t&&("object"===mi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ti(e)}function Ti(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ki(e,t)}(c,e);var t,n,r,o,i,a=xi(c);function c(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),e=a.call(this),t=Ti(e),r=void 0,(n="art")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.art=v.Sprite.from(Ei.getTexture(0)),e.art.anchor.set(.5,.5),e.addChild(e.art),e.scale.set(0,0),e}return t=c,(n=[{key:"animate",value:(o=regeneratorRuntime.mark((function e(){var t,n=this,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.abrupt("return",new Promise((function(e){var r=0,o={a:0};g.a.delayedCall(.1*Math.random(),(function(){u.stop("ball explosion"),u.play("ball explosion")})),g.a.to(o,{a:1,delay:t,duration:t+.4,onUpdate:function(){var e=Math.floor(2*o.a);e!==r&&(r=e,n.art.texture=Ei.getTexture(r))}}),g.a.to(n.scale,{x:1,y:1,duration:t+.1}),g.a.to(n.scale,{x:1.3,y:1.3,delay:t+.2,duration:.3}),g.a.to(n,{alpha:0,delay:t+.2,duration:.5,onComplete:function(){e()}})})));case 2:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){wi(i,n,r,a,u,"next",e)}function u(e){wi(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"clean",value:function(){this.art.texture=Ei.getTexture(0),this.scale.set(0,0),this.alpha=1,this.visible=!0,g.a.killTweensOf(this.scale),g.a.killTweensOf(this)}}])&&gi(t.prototype,n),r&&gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v.Container);function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ri(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _i,Ci,ji,Ei=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ri(this,"all",void 0),this.all=[];for(var n=0;n<t;n++)this.all.push(new Pi)}var t,n,r;return t=e,r=[{key:"getTexture",value:function(t){return e._textures[t]}},{key:"createTextures",value:function(){e._textures||(e._textures=[v.Texture.from("game_explosion_0.png"),v.Texture.from("game_explosion_1.png"),v.Texture.from("game_explosion_2.png")])}}],(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Missles pool exceed"),this.all.push(new Pi)),this.all.pop()}},{key:"release",value:function(e){e.clean(),this.all.push(e)}}])&&Bi(t.prototype,n),r&&Bi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ai(e){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Li(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Li(i,r,o,a,u,"next",e)}function u(e){Li(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Di(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ii(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ii(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ii(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,t){return(Fi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ui(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Gi(e);if(t){var o=Gi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wi(this,n)}}function Wi(e,t){if(t&&("object"===Ai(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zi(e)}function zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gi(e){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ri(Ei,"_textures",void 0),function(e){e[e.None=0]="None",e[e.Kill=1]="Kill",e[e.Freeze=2]="Freeze",e[e.RocketUp=3]="RocketUp"}(_i||(_i={})),function(e){e[e.None=0]="None",e[e.BoomLetters=1]="BoomLetters",e[e.LaserLetters=2]="LaserLetters",e[e.BigBoomLetters=3]="BigBoomLetters",e[e.SmallBoomLetters=4]="SmallBoomLetters",e[e.All=5]="All"}(Ci||(Ci={})),function(e){e[e.None=0]="None",e[e.Random=1]="Random",e[e.Static=2]="Static",e[e.HeartMiddle=3]="HeartMiddle",e[e.Skulls=4]="Skulls"}(ji||(ji={}));var Ki,Vi=[0,.2,.3,.1,.4],Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fi(e,t)}(T,e);var t,n,r,o,i,a,c,s,l,f,p,h,y,d,b,m,w,x,O=Ui(T);function T(){var e;Ni(this,T);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Hi(zi(e=O.call.apply(O,[this].concat(n))),"gameContainer",void 0),Hi(zi(e),"fxContainer",void 0),Hi(zi(e),"frontContainer",void 0),Hi(zi(e),"backContainer",void 0),Hi(zi(e),"moveBox",void 0),Hi(zi(e),"staticBox",void 0),Hi(zi(e),"bottomOpenWall",void 0),Hi(zi(e),"activeBlock",void 0),Hi(zi(e),"maxY",void 0),Hi(zi(e),"tick",0),Hi(zi(e),"levelStartTime",void 0),Hi(zi(e),"moving",void 0),Hi(zi(e),"isActivePowerup",void 0),Hi(zi(e),"preview",void 0),Hi(zi(e),"nextLines",void 0),Hi(zi(e),"previewBlocks",void 0),Hi(zi(e),"nextType",void 0),Hi(zi(e),"nextBlock",void 0),Hi(zi(e),"isTransition",void 0),Hi(zi(e),"powerup1",void 0),Hi(zi(e),"powerup2",void 0),Hi(zi(e),"nextTimer",void 0),Hi(zi(e),"randomBodiesPositions",void 0),Hi(zi(e),"activeBonus",void 0),Hi(zi(e),"boomMeter",void 0),Hi(zi(e),"scorePlace",void 0),Hi(zi(e),"pad",void 0),Hi(zi(e),"padRect",void 0),Hi(zi(e),"downRect",void 0),Hi(zi(e),"topRect",void 0),Hi(zi(e),"levelId",void 0),Hi(zi(e),"meterBonus",void 0),Hi(zi(e),"obstacles",void 0),Hi(zi(e),"score",void 0),Hi(zi(e),"tutorial",void 0),Hi(zi(e),"goalBlock",void 0),Hi(zi(e),"boltsActive",void 0),Hi(zi(e),"levelFinished",void 0),Hi(zi(e),"levelStart",void 0),Hi(zi(e),"pausePopup",void 0),Hi(zi(e),"waitForOver",void 0),Hi(zi(e),"activeBlockDelay",void 0),Hi(zi(e),"scorePool",void 0),Hi(zi(e),"boltsPool",void 0),Hi(zi(e),"misslesPool",void 0),Hi(zi(e),"increaseBlocks",[]),Hi(zi(e),"explodePoints",[]),Hi(zi(e),"allScore",void 0),Hi(zi(e),"rocketPowerup",void 0),Hi(zi(e),"levelStarted",void 0),e}return t=T,n=[{key:"create",value:function(){var e=this;qr.prepareTextures(),Ei.createTextures(),Ki=new Ei(90),this.scorePool=new ii(80),this.boltsPool=new di,this.misslesPool=new bi(3),this.allScore=new Map,this.backContainer=new v.Container,this.addChild(this.backContainer),this.gameContainer=new v.Container,this.addChild(this.gameContainer),this.fxContainer=new v.Container,this.addChild(this.fxContainer),this.frontContainer=new v.Container,this.addChild(this.frontContainer),this.levelFinished=new ao,this.frontContainer.addChild(this.levelFinished),this.levelFinished.visible=!1,this.pad=new v.Sprite(v.Texture.from("launchpad.png")),this.pad.anchor.set(.5,1),this.pad.position.y=.5*Y.originalHeight-30,this.gameContainer.addChild(this.pad);var t=new v.NineSlicePlane(v.Texture.from("phone.png"),104,100,104,100);t.width=Y.originalWidth+50,t.height=Y.originalHeight+40,t.position.set(.5*-t.width,.5*-t.height),this.addChild(t);var n=new v.Container;n.position.set(0,.5*-Y.originalHeight+40),this.gameContainer.addChild(n);var r=new Xn;r.position.set(-230,30),r.on("pointerup",(function(){iu("Game","Menu","Click"),e.showPause()})),n.addChild(r),this.powerup1=new Rt,this.powerup1.position.set(-255,620),this.gameContainer.addChild(this.powerup1),this.powerup1.on("activate",(function(t,n){e.startPowerup(t,n)})),this.powerup2=new Rt,this.powerup2.position.set(255,620),this.gameContainer.addChild(this.powerup2),this.powerup2.on("activate",(function(t,n){e.startPowerup(t,n)})),this.powerup1.visible=!1,this.powerup2.visible=!1,this.preview=new Io,this.gameContainer.addChild(this.preview),this.preview.visible=!1,this.previewBlocks=new tn,this.gameContainer.addChild(this.previewBlocks),this.previewBlocks.y=-900-this.previewBlocks.height;var o=new v.NineSlicePlane(v.Texture.from("progress_bar.png"),6,4,6,4);o.width=600,o.height=15,o.position.set(-300,500),this.gameContainer.addChild(o),this.nextTimer=new It,this.nextTimer.position.set(-316,-637),this.gameContainer.addChild(this.nextTimer),this.boomMeter=new Kt,this.boomMeter.position.set(165,-725),this.boomMeter.scale.set(.85,.85),this.gameContainer.addChild(this.boomMeter),this.scorePlace=new Un,this.scorePlace.position.set(-150,-725),this.gameContainer.addChild(this.scorePlace),this.padRect=new v.Rectangle(-140,610,280,150),this.downRect=new v.Rectangle(-400,500,800,300),this.topRect=new v.Rectangle(.5*-Y.originalWidth,.5*-Y.originalHeight,Y.originalWidth,180),this.tutorial=new Fr,this.tutorial.on("hide",(function(t){e.levelStartTime+=t})),this.frontContainer.addChild(this.tutorial),this.levelStart=new wo,this.frontContainer.addChild(this.levelStart),this.pausePopup=new Ro,this.frontContainer.addChild(this.pausePopup),this.tutorial.addCondition(Br.Begin,(function(){var t,n=null===(t=e.goalBlock)||void 0===t?void 0:t.position;return{success:!!e.bottomOpenWall&&0===e.levelId&&!e.levelStart.visible&&!!n&&n.y<-100,data:{pos:n,scale:{x:n&&n.x<-10?-1:1,y:-1}}}})),this.tutorial.addCondition(Br.Moving,(function(){return{success:!!e.bottomOpenWall&&0===e.levelId&&!e.levelStart.visible,data:{pos:{x:40,y:0},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Br.Heart,(function(){var t,n=null===(t=e.goalBlock)||void 0===t?void 0:t.position;return{success:e.isTransition,data:{pos:n,scale:{x:n&&n.x<-10?-1:1,y:-1}}}})),this.tutorial.addCondition(Br.NewLine,(function(){return{success:e.moving,data:{pos:{x:290,y:-550},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Br.Recharge,(function(){return{success:e.boltsActive,data:{pos:{x:300,y:-650},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Br.Unbreak,(function(){return{success:!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Br.IAPBonus,(function(){return{success:!e.tutorial.visible&&e.tutorial.isDone(Br.Unbreak)&&!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:-255,y:620},scale:{x:-1,y:1}}}})),this.tutorial.addCondition(Br.IAPBonus2,(function(){return{success:!e.tutorial.visible&&e.tutorial.isDone(Br.IAPBonus)&&!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:255,y:620},scale:{x:1,y:1}}}})),this.tutorial.addCondition(Br.ChangePosition,(function(){return{success:!!e.bottomOpenWall&&e.powerup1.visible&&6===e.levelId&&1===e.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Br.Skull,(function(){var t,n,r={x:25,y:-125},o=Di(_.bodies);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i&&i.userData&&i.userData.type===ze.SKULL_TYPE){r=i.userData.position;break}}}catch(e){o.e(e)}finally{o.f()}return{success:!!e.bottomOpenWall&&12===e.levelId&&!e.levelStart.visible,data:{pos:r,scale:{x:(null===(t=r)||void 0===t?void 0:t.x)<-20?-1:1,y:-1}}}})),this.tutorial.addCondition(Br.AnyType,(function(){var t={x:-100,y:T.BottomPoint+20};return{success:!!e.bottomOpenWall&&e.powerup1.visible&&e.levelId>8&&e.nextType===ze.ANY_TYPE,data:{pos:t,scale:{x:-1,y:1}}}})),this.tutorial.addCondition(Br.RainbowType,(function(){var t={x:-100,y:T.BottomPoint+20};return{success:!!e.bottomOpenWall&&e.powerup1.visible&&e.levelId>8&&e.nextType===ze.RAINBOW_TYPE,data:{pos:t,scale:{x:-1,y:1}}}}))}},{key:"start",value:(x=Mi(regeneratorRuntime.mark((function e(){var t,n,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(ne(),this.levelStarted=!1,this.waitForOver=!1,this.boltsActive=!1,this.score=0,this.scorePlace.score=0,t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];return this.levelId=n[0][0],this.activeBonus=Ci.None,this.randomBodiesPositions=[],this.obstacles=[],this.isTransition=!1,this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.generateLineBlocks(),this.tick=0,this.maxY=-800,this.moving=!1,this.nextTimer.freeze(),Y.paused=!1,e.next=23,this.generateStartBlocks();case 23:return o=this.generateIAPS(),e.next=26,this.levelStart.show(this.currentLevelData,o);case 26:this.currentLevelData.iaps?(this.powerup1.setData(o[0],qr.getTexture(o[0]),qr.getTexture(o[0])),this.powerup2.setData(o[1],qr.getTexture(o[1]),qr.getTexture(o[1])),this.powerup1.visible=!0,this.powerup2.visible=!0,this.powerup1.disabled=!1,this.powerup2.disabled=!1,this.sendStartLevelEvent({iaps:o.toString()})):this.sendStartLevelEvent(),this.levelStarted=!0,this.boomMeter.maximum=this.currentLevelData.boomMeter,this.addActiveBlock(),this.nextTimer.unFreeze(),this.levelStartTime=(new Date).getTime(),this.rocketPowerup=new ut,C.stage.on("pointerup",this.onClick,this),C.stage.on("pointerdown",this.onTapStart,this);case 35:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"close",value:(w=Mi(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){re(),C.stage.off("pointerup"),C.stage.off("pointerdown"),Y.paused=!1,t.waitForOver=!0,Za(!1),t.allScore.clear(),t.boltsActive=!1,t.nextTimer.clear(),t.boomMeter.reset(!0),t.levelStart.clear(),t.moveBox&&t.moveBox.clean(),t.staticBox&&t.staticBox.clean(),t.bottomOpenWall&&t.bottomOpenWall.clean(),t.activeBlock&&t.activeBlock.clean(),t.activeBonus=Ci.None,t.tick=0,t.moving=!1,t.isActivePowerup=!1,t.previewBlocks&&t.previewBlocks.clear(),t.nextBlock&&t.nextBlock.clean(),t.preview.visible=!1,t.powerup1.visible=!1,t.powerup2.visible=!1,t.nextLines=[],t.randomBodiesPositions=[],t.obstacles=[],t.fxContainer.removeChildren(),_.bodies.forEach((function(e){e&&e.userData&&e.userData.clean()}));for(var n=t.gameContainer.children.length-1;n>=0;n--){var r=t.gameContainer.children[n];r.createBody&&t.gameContainer.removeChild(r)}g.a.globalTimeline.clear();var o=window.setInterval((function(){var t=_.bodies.filter((function(e){return e&&e.userData}));0===t.length?(window.clearInterval(o),e()):console.log(t)}),50)})));case 1:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)})},{key:"showPause",value:function(){var e=this,t=(new Date).getTime();g.a.globalTimeline.pause(),Y.paused=!0,re(),this.pausePopup.show(function(){var n=Mi(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=9;break}return n.next=3,ee(G.Interstitial);case 3:Y.paused=!1,g.a.globalTimeline.resume(),iu("Game","Pause","Exit"),D.start(Pa),n.next=15;break;case 9:iu("Game","Pause","Cancel"),Y.paused=!1,g.a.globalTimeline.resume(),o=(new Date).getTime()-t,e.levelStartTime+=o,ne();case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"generateIAPS",value:function(){if(!this.currentLevelData.iaps)return _i.None;for(var e=[_i.Kill,_i.RocketUp,_i.Freeze],t=[],n=0;n<2;n++){var r=Math.floor(Math.random()*e.length);t.push(e[r]),e.splice(r,1)}return t}},{key:"unusedBlocksRemoved",value:function(e){var t=this;if(!this.isTransition){var n=e[Math.floor(Math.random()*e.length)],r=e.length;e.forEach((function(e){t.addScoreItem(e.x,e.y,ze.BALL_SCORE)}));var o=Math.random()<.5;3===r?u.play("emoji yeah"):4===r&&(o?u.play("emoji wah"):u.play("emoji oh")),r>=5&&(o?u.playRandom("emoji wow ",2):u.play("emoji ahh"),n&&(this.fireMissle(1,n),this.addScoreItem(n.x,n.y,ze.EXPLOSION_SCORE))),this.activeBonus||this.levelId>1&&this.playBolts(r,n)}}},{key:"addToBoomMeter",value:function(e){if(!this.activeBonus&&(u.play("battery charge"),this.boomMeter.update(e))){var t=this.getRandomBonus();this.setActiveBonus(t)}}},{key:"playBolts",value:(m=Mi(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<2)&&n){e.next=2;break}return e.abrupt("return");case 2:this.boltsActive=!0,r=t,t=Math.min(t,6),o=r/t,i=regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.floor(4*Math.random()),(i=u.boltsPool.obtain(r)).anchor.set(.5,.5),i.scale.set(.1,.1),i.rotation=Math.PI/2+Math.atan2(-680-n.y,270-n.x),i.position.copyFrom(n),u.fxContainer.addChild(i),g.a.to(i.scale,{x:1.5,y:1.5,duration:.4,ease:k.f.easeNone}),g.a.to(i.scale,{x:0,y:0,delay:.4,duration:.4,ease:k.f.easeNone}),g.a.to(i.position,{x:270,y:-680,duration:.8,ease:k.f.easeNone,onComplete:function(){u.addToBoomMeter(o),u.fxContainer.removeChild(i),u.boltsPool.release(i)}}),e.next=12,u.delay(.1);case 12:case"end":return e.stop()}}),e)})),a=0;case 9:if(!(a<t)){e.next=14;break}return e.delegateYield(i(a),"t0",11);case 11:a++,e.next=9;break;case 14:this.boltsActive=!1;case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"addScore",value:function(e){this.score+=e,this.scorePlace.score=this.score}},{key:"addScoreItem",value:function(e,t,n){var r=this,o=this.scorePool.obtain();this.allScore.set(o,!0),this.fxContainer.addChild(o),o.on("done",(function(e){r.addScore(e),r.scorePool.release(o),r.allScore.delete(o)})),o.start(e,t,n)}},{key:"currentLevelData",get:function(){return Y.levels[this.levelId]}},{key:"getRandomPosition",value:function(){if(!this.isTransition){var e=Math.floor(Math.random()*this.randomBodiesPositions.length),t=this.randomBodiesPositions[e];if(this.randomBodiesPositions.splice(e,1),t&&!(Math.abs(t[1])>=20))return t}}},{key:"getLettersAmount",value:function(e){return e===Ci.SmallBoomLetters?1:e===Ci.BoomLetters?2:e===Ci.BigBoomLetters?3:0}},{key:"setActiveBonus",value:(b=Mi(regeneratorRuntime.mark((function e(t){var n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.activeBonus=t,this.nextTimer.freeze(),this.addScoreItem(0,0,ze.BONUS_SCORE),n=void 0,r=this.getLettersAmount(t),console.log("set bonus",t,r),iu("Game","Bonus","Activate",t),u.play("win bonus"),e.t0=t,e.next=e.t0===Ci.SmallBoomLetters||e.t0===Ci.BoomLetters||e.t0===Ci.BigBoomLetters?11:e.t0===Ci.LaserLetters?14:17;break;case 11:return this.meterBonus=new En(r),n=function(){return o.getRandomPosition()},e.abrupt("break",18);case 14:return this.meterBonus=new rr,n=function(){var e=o.getRandomPosition();if(e)return e[1]},e.abrupt("break",18);case 17:return e.abrupt("return");case 18:return this.frontContainer.addChild(this.meterBonus),e.next=21,this.meterBonus.start(n);case 21:this.clearMeterBonus(),this.nextTimer.unFreeze();case 23:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"getRandomBonus",value:function(){for(var e=this.currentLevelData.bonuses,t=[],n=0,r=0;r<e.length;r++)n+=Vi[e[r]],t.push(n);var o=Math.random()*n;return e[t.filter((function(e){return o>=e})).length]}},{key:"fireMissle",value:(d=Mi(regeneratorRuntime.mark((function e(t,n){var r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransition){e.next=2;break}return e.abrupt("return");case 2:Za(!0),t=Math.min(t,this.randomBodiesPositions.length),r=regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=i.getRandomPosition())&&!i.isTransition){e.next=3;break}return e.abrupt("return","continue");case 3:return(o=i.misslesPool.obtain()).anchor.set(.5,.5),o.scale.set(.1,.1),o.position.copyFrom(n),i.fxContainer.addChild(o),g.a.to(o.scale,{x:1.5,y:1.5,duration:.5,ease:k.f.easeNone}),g.a.to(o.scale,{x:0,y:0,delay:.5,duration:.5,ease:k.f.easeNone}),g.a.to(o.position,{x:50*r[0],y:50*r[1],duration:1,ease:k.f.easeNone,onComplete:function(){i.createExplosion(o.position,0),i.explodePoints.push(r),i.fxContainer.removeChild(o),i.misslesPool.release(o)}}),e.next=13,i.delay(.2);case 13:case"end":return e.stop()}}),e)})),o=0;case 7:if(!(o<t)){e.next=15;break}return e.delegateYield(r(o),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:o++,e.next=7;break;case 15:g.a.delayedCall(.15,(function(){Za(!1)}));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"createExplosion",value:(y=Mi(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ki.obtain()).position.copyFrom(t),this.fxContainer.addChild(r),e.next=5,r.animate(n);case 5:Ki.release(r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"clearActiveBlocks",value:function(){this.activeBlockDelay&&this.activeBlockDelay.kill(),this.activeBlock&&g.a.killTweensOf(this.activeBlock),this.nextBlock&&g.a.killTweensOf(this.nextBlock),g.a.killTweensOf(this.preview),this.nextBlock&&(this.pad.removeChild(this.nextBlock),this.nextBlock.clean()),this.activeBlock&&(this.gameContainer.removeChild(this.activeBlock),this.activeBlock.clean(),this.preview.visible=!1),this.activeBlock=void 0,this.nextBlock=void 0,this.nextType=void 0}},{key:"stopBonuses",value:function(){this.activeBonus=Ci.None,this.clearActiveBlocks()}},{key:"stopAllScores",value:function(){this.allScore.forEach((function(e,t){t.finish()}))}},{key:"levelComplete",value:function(){this.stopAllScores(),this.stopBonuses(),this.isTransition=!0,this.moving=!1,this.obstacles.forEach((function(e){e.clean()})),this.obstacles=[],this.previewBlocks.y=-900-this.previewBlocks.height,this.previewBlocks&&this.previewBlocks.clear(),this.bottomOpenWall&&this.bottomOpenWall.animateAndDestroy(),this.bottomOpenWall=void 0,this.moveBox&&this.moveBox.animateAndDestroy(),this.staticBox&&this.staticBox.animateAndDestroy()}},{key:"heartDeath",value:function(){!this.goalBlock||this.goalBlock&&this.goalBlock.isSkull()||(this.goalBlock.setSkull(),this.moveBalls())}},{key:"moveBalls",value:function(){var e=this;if(!this.isTransition&&!this.moving){u.play("balls add"),this.moving=!0;var t=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};this.previewBlocks.show(),g.a.to(this.previewBlocks,{y:-570,duration:1.1}),g.a.to(r,{y:(70*t-500)/50,delay:.1,duration:1,ease:k.f.easeNone,onUpdate:function(){e.moveBox.body?e.moveBox.body.position=[r.x,r.y]:g.a.killTweensOf(r)},onComplete:function(){e.moveBox.body.position=[0,-11.5],e.addLineBlocks(),e.generateLineBlocks(),g.a.to(e.previewBlocks,{y:-900-e.previewBlocks.height,duration:.5}),e.moving=!1}})}}},{key:"shakeScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(g.a.to(this,{x:"+5",yoyo:!0,repeat:3,duration:.05}),g.a.to(this,{x:"-5",yoyo:!0,repeat:3,duration:.05})):(g.a.to(this,{y:"+5",yoyo:!0,repeat:3,duration:.05}),g.a.to(this,{y:"-5",yoyo:!0,repeat:3,duration:.05}))}},{key:"update",value:function(e){var t=this;if(!Y.paused&&!this.waitForOver){this.drawMouse();var n=this.meterBonus&&this.meterBonus.activeBound||void 0;this.maxY=-800;var r=!1,o=!1,i=[];if(this.randomBodiesPositions=[],_.bodies.forEach((function(e){var o=e.position;e.userData.kinematic&&e!==t.moveBox.body&&(o[1]<-9.1||o[1]>(T.BottomPoint+10)/50)&&(e.userData.shape.material=Y.material,e.gravityScale=1),e.type===E.Body.DYNAMIC&&o[1]>-T.BottomPoint/50&&e.userData&&!e.userData.isGoal()&&t.randomBodiesPositions.push(e.position),!t.isTransition&&e.type===E.Body.DYNAMIC&&o[1]>t.maxY&&(t.maxY=o[1]),t.isTransition&&e.type===E.Body.DYNAMIC&&o[1]>-T.BottomPoint/50&&(r=!0),t.isTransition&&e.type===E.Body.DYNAMIC&&o[1]<3*-T.BottomPoint/50&&e.userData.clean(),!t.isTransition&&n&&e.type===E.Body.DYNAMIC&&e.userData&&!e.userData.isGoal()&&n.forEach((function(t){t.contains(o[0],o[1])&&i.push(e)}))})),!this.isTransition&&this.goalBlock&&this.goalBlock.position.y>450&&this.levelStarted&&(o=!0),this.goalBlock&&!o&&this.goalBlock.resetDeathCounter(),this.tutorial.update(),this.isTransition&&!r&&!this.levelFinished.visible){this.previewBlocks.y=-900-this.previewBlocks.height,this.nextTimer.clear(),this.boomMeter.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1;var a=this.getLevelTime(),u=Y.levels[this.levelId].idealTime,c=a<u?Math.round(1e3*(1-a/u)):0;this.sendFinishLevelEvent(qa.Complete,this.score+c,{score:this.score,time:a,timeBonus:c}),this.levelStarted=!1,re(),this.levelFinished.show(!0,this.score,c,this.currentLevelData.starsConditions,(function(){t.score+=c,t.moveToNextLevel()}),this.levelId,this.generateIAPS()),this.nextTimer.freeze(),this.obstacles=[]}if(!this.moving&&!this.isTransition){if(this.goalBlock&&o&&this.goalBlock.startCountDeath(),!this.nextTimer.isFrozen){this.tick+=Math.floor(60*e);var s=this.tick%this.currentLevelData.time;this.nextTimer.setProgress(s/this.currentLevelData.time),0===s&&(this.nextTimer.setProgress(1),i=[],this.moveBalls())}if(i.length>0){var l=[];i.forEach((function(e){var n=e.userData;l.push(n.position),n.boom(!1),t.createExplosion(n.position,.2*Math.random())})),this.unusedBlocksRemoved(l)}}}}},{key:"getLevelTime",value:function(){return(new Date).getTime()-this.levelStartTime}},{key:"moveToNextLevel",value:function(){var e=this;console.log("finished",this.levelId,this.score),Y.levels.length>this.levelId+1&&((!this.currentLevelData.score||this.score>this.currentLevelData.score)&&(this.currentLevelData.score=this.score,Z("".concat(this.currentLevelData.key),this.score.toString()),console.log("set score")),this.levelId+=1,this.currentLevelData.score||0===this.currentLevelData.score||(this.currentLevelData.score=0,Z("".concat(this.currentLevelData.key),"0"))),this.boomMeter.maximum=this.currentLevelData.boomMeter,this.score=0,this.scorePlace.score=0,ee(G.Interstitial).then((function(){e.createMoveWalls(),e.generateNewBlocks().then((function(){var t=e.generateIAPS();e.levelStart.show(e.currentLevelData,t).then((function(){e.currentLevelData.iaps?(e.powerup1.setData(t[0],qr.getTexture(t[0]),qr.getTexture(t[0])),e.powerup2.setData(t[1],qr.getTexture(t[1]),qr.getTexture(t[1])),e.powerup1.visible=!0,e.powerup2.visible=!0,e.sendStartLevelEvent({iaps:t.toString()})):e.sendStartLevelEvent(),ne(),e.levelStarted=!0,e.generateLineBlocks(),e.addActiveBlock(),e.previewBlocks.y=-900-e.previewBlocks.height,e.nextTimer.unFreeze(),e.levelStartTime=(new Date).getTime()}))})),Y.paused=!1})),this.isTransition=!1}},{key:"sendStartLevelEvent",value:function(e){console.log("send start","level"+this.currentLevelData.key,e),ru(qa.Start,"level"+this.currentLevelData.key,0,e)}},{key:"sendFinishLevelEvent",value:function(e,t,n){console.log("send finish","level"+this.currentLevelData.key,t),ru(e,"level"+this.currentLevelData.key,t,n)}},{key:"startPowerup",value:(h=Mi(regeneratorRuntime.mark((function e(t,n){var r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iu("Game","Powerup","Activate",t),n&&(this.levelStartTime+=n),!(this.isActivePowerup||Y.paused||this.isTransition)){e.next=4;break}return e.abrupt("return");case 4:this.isActivePowerup=!0,this.powerup1.disabled=!0,this.powerup2.disabled=!0,e.t0=t,e.next=e.t0===_i.RocketUp?10:e.t0===_i.Kill?16:e.t0===_i.Freeze?26:30;break;case 10:return this.startVerticalRocket(),e.next=13,this.delay(2);case 13:return this.powerup1.disabled=!1,this.powerup2.disabled=!1,e.abrupt("break",30);case 16:return r=this.getRandomType(),_.bodies.forEach((function(e){var t=e.userData;t&&t.type===r&&t.setBomb()})),e.next=20,this.delay(1);case 20:return this.shakeScreen(),e.next=23,this.delay(1);case 23:return this.powerup1.disabled=!1,this.powerup2.disabled=!1,e.abrupt("break",30);case 26:return u.play("timer freeze"),this.nextTimer.freeze(10),this.delay(10).then((function(){o.powerup1.disabled=!1,o.powerup2.disabled=!1})),e.abrupt("break",30);case 30:this.isActivePowerup=!1;case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"startVerticalRocket",value:(p=Mi(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=560*Math.random()-280,e.next=3,this.startRocket(t,T.BottomPoint,t,-450);case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"startRocket",value:(f=Mi(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gameContainer.addChild(this.rocketPowerup),u.play("rocket launch"),e.next=4,this.rocketPowerup.animate(t,n,r,o);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return f.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextBlock&&this.pad.removeChild(this.nextBlock),this.nextType=-1!==e?e:this.getRandomType(!0),this.nextBlock=-1===e?this.createCircle(-90,40,this.nextType,!1):this.createCircle(-90,-20,this.nextType,!1),this.pad.addChild(this.nextBlock),-1===e&&g.a.to(this.nextBlock,{y:-20,duration:.3})}},{key:"getRandomType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&this.currentLevelData.bonusBalls.length>0&&Math.random()<.08){if(2===this.currentLevelData.bonusBalls.length)return Math.random()<.5?ze.ANY_TYPE:ze.RAINBOW_TYPE;if(1===this.currentLevelData.bonusBalls.length)return 1===this.currentLevelData.bonusBalls[0]?ze.ANY_TYPE:ze.RAINBOW_TYPE}return Math.floor(Math.random()*this.currentLevelData.blocks)+1}},{key:"addActiveBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextType||(this.nextType=this.getRandomType(!0)),this.activeBlock=-1===e?this.createCircle(-90,T.BottomPoint+35,this.nextType,!1):this.createCircle(0,T.BottomPoint,this.nextType,!1),this.activeBlock.kinematic=!0,this.gameContainer.addChild(this.activeBlock),this.generateActiveBlock(e),this.preview.position.set(0,T.BottomPoint),this.preview.visible=!0,-1===e&&(this.preview.alpha=0,g.a.to(this.activeBlock,{x:0,y:T.BottomPoint,duration:.15}),g.a.to(this.preview,{alpha:.6,duration:.15}))}},{key:"switchBlockes",value:(l=Mi(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=this.activeBlock)||void 0===t?void 0:t.type,r=this.nextType,e.next=4,new Promise((function(e){o.nextBlock&&g.a.to(o.nextBlock,{x:0,y:-50,duration:.2}),o.activeBlock?g.a.to(o.activeBlock,{x:-90,y:700,duration:.2,onComplete:function(){e()}}):g.a.to({a:0},{a:1,duration:.2,onComplete:function(){e()}}),u.play("ball release")}));case 4:this.clearActiveBlocks(),this.nextType=r,this.addActiveBlock(n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"drawMouse",value:function(){var e=this.toLocal(C.renderer.plugins.interaction.eventData.data.global);this.isTransition||Y.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(e.x,e.y)||this.topRect.contains(e.x,e.y)||this.preview.draw(e)}},{key:"onTapStart",value:function(e){var t=this.toLocal(e.data.global);this.isTransition||Y.paused||this.topRect.contains(t.x,t.y)||(this.padRect.contains(t.x,t.y)?this.switchBlockes():this.downRect.contains(t.x,t.y)||this.drawMouse())}},{key:"onClick",value:function(e){var t=this,n=this.toLocal(e.data.global);if(!(this.isTransition||Y.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(n.x,n.y)||this.topRect.contains(n.x,n.y))){this.activeBlock.createBody(E.Body.DYNAMIC,30),this.activeBlock.shape.material=Y.activeBallMaterial;var r=this.activeBlock;this.activeBlock=void 0,this.preview.visible=!1;var o=Math.atan2((n.y-T.BottomPoint)/50,n.x/50);r.body&&(r.body.gravityScale=0,r.body.applyImpulse([450*Math.cos(o),450*Math.sin(o)]),u.play("ball release")),this.activeBlockDelay=g.a.delayedCall(.4,(function(){t.activeBlockDelay=void 0,t.addActiveBlock()})),_.bodies.forEach((function(e){e&&e.userData&&e.userData.type===ze.SKULL_TYPE&&e.userData.decreaseSkullMeter()}))}}},{key:"generateLineBlocks",value:function(){var e=this.currentLevelData.lines;this.previewBlocks.clear(),this.nextLines=[];for(var t=0;t<e;t++){this.nextLines[t]=[];for(var n=0;n<9;n++)this.nextLines[t][n]=Math.floor(Math.random()*this.currentLevelData.blocks)+1}this.previewBlocks.setLines(this.nextLines)}},{key:"addLineBlocks",value:function(){for(var e,t=-500,n=0;n<this.nextLines.length;n++){e=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=this.createCircle(e,t,this.nextLines[n][r]);this.gameContainer.addChild(o),e+=74}t+=70}}},{key:"delay",value:(s=Mi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){g.a.delayedCall(t,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"generateNewBlocks",value:(c=Mi(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,c,s,l,f,p,h,y=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.currentLevelData,n=t.startAmount,r=t.blocks,o=t.obstacles,i=!1,a=0,o&&o.length>0&&o.forEach((function(e){y.createObstacle(e),e.type===ji.HeartMiddle?i=!0:e.type===ji.Skulls&&(a=e.amount)})),u=[],c=[],s=0;s<a;s++){for(l=Math.floor(Math.random()*(n-19));u.includes(l);)l=Math.floor(Math.random()*(n-19));u.push(l)}this.playArgue(),f=0;case 9:if(!(f<n)){e.next=23;break}return p=Math.floor(Math.random()*r)+1,h=this.createCircle(50*Math.random()-25,900,p),u.includes(f)&&c.push(h),this.gameContainer.addChild(h),e.next=16,this.delay(.001);case 16:if(!i||f!==Math.floor(n/2)){e.next=20;break}return this.createGoalBlock(),e.next=20,this.delay(1);case 20:f++,e.next=9;break;case 23:if(i){e.next=27;break}return e.next=26,this.delay(1);case 26:this.createGoalBlock();case 27:if(this.delay(3).then((function(){y.createBottomExit()})),!(c.length>0)){e.next=33;break}return e.next=31,this.delay(.5);case 31:return e.next=33,this.addBeginSkulls(c);case 33:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"playArgue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;u.play("emoji argue 0"),t>1&&this.delay(.9).then((function(){u.play("emoji argue 1"),t>2&&e.delay(.9).then((function(){u.play("emoji argue 2")}))}))}},{key:"addBeginSkulls",value:(a=Mi(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Di(t);try{for(i=function(){var e=o.value;e&&(g.a.to(e.scale,{x:5,y:5,delay:.6*n,duration:.1,ease:k.d.easeOut,onComplete:function(){e.setPermanentSkull()}}),g.a.to(e.scale,{x:1,y:1,delay:n,duration:.5,ease:k.d.easeIn}),n+=.05)},r.s();!(o=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return e.next=5,this.delay(.7);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createGoalBlock",value:function(){this.goalBlock=this.createCircle(0,1100,ze.GOAL_TYPE),this.goalBlock.on("gameover",this.onGameOver,this),this.gameContainer.addChild(this.goalBlock)}},{key:"createObstacle",value:function(e){if(e.type!==ji.HeartMiddle&&e.type!==ji.Skulls){var t=void 0;if(e.position)switch(e.type){case ji.Static:t=new mr(e.position);break;case ji.Random:t=new Rr(e.position,e.lives)}t&&(this.gameContainer.addChild(t),this.obstacles.push(t))}}},{key:"onGameOver",value:function(){var e,t,n,r=this;null===(e=this.nextTimer)||void 0===e||e.clear(),null===(t=this.boomMeter)||void 0===t||t.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1,this.levelStarted=!1,this.sendFinishLevelEvent(qa.Fail,0,{score:this.score,time:this.getLevelTime(),timeBonus:0}),this.score=0,this.levelFinished.show(!1,this.score,Number.MAX_SAFE_INTEGER,this.currentLevelData.starsConditions,(function(){r.restartLevel()}),this.levelId,_i.None),null===(n=this.nextTimer)||void 0===n||n.freeze(),this.obstacles=[],Y.paused=!0}},{key:"restartLevel",value:function(){this.isTransition=!0,D.restart(this.levelId)}},{key:"generateStartBlocks",value:(i=Mi(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createMoveWalls(),(t=new $e(-400,-50,100,1800,0)).shape.material=Y.bounceMaterial,this.gameContainer.addChild(t),(n=new $e(400,-50,100,1800,0)).shape.material=Y.bounceMaterial,this.gameContainer.addChild(n),r=new $e(-225,800,250,100,0),this.gameContainer.addChild(r),o=new $e(225,800,250,100,0),this.gameContainer.addChild(o),i=new $e(-150,1100,100,500,0),this.gameContainer.addChild(i),a=new $e(150,1100,100,500,0),this.gameContainer.addChild(a),u=new $e(0,1300,200,100,0),this.gameContainer.addChild(u),e.next=19,this.generateNewBlocks();case 19:Y.started=!0;case 20:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"createMoveWalls",value:function(){this.moveBox=new $e(0,-575,710,50,0),this.moveBox.type=ze.END_TYPE,this.gameContainer.addChild(this.moveBox),this.staticBox=new $e(0,-625,710,50,0),this.gameContainer.addChild(this.staticBox)}},{key:"createBottomExit",value:function(){this.bottomOpenWall=new $e(0,800,200,100,0),this.gameContainer.addChild(this.bottomOpenWall)}},{key:"createCircle",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n===ze.GOAL_TYPE?new bt(e,t):n===ze.ANY_TYPE?new Xo(e,t,r):new ze(e,t,n,r)}},{key:"clearMeterBonus",value:(o=Mi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.meterBonus&&this.meterBonus&&(this.meterBonus.clean(),this.frontContainer.removeChild(this.meterBonus),this.meterBonus=void 0),this.activeBonus=Ci.None;case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"preCleanUnused",value:function(e){var t={step:e,other:{amount:0,positions:[]}};return t.other.amount=N.length,this.update(e),t.other.amount>0&&N.forEach((function(e){t.other.positions.push(e.userData.position)})),t}},{key:"postCleanUnused",value:function(e){this.increaseBlocks.forEach((function(e){return e.block.increase(e.steps)})),this.increaseBlocks=[],this.explodePoints.forEach((function(t){var n=_.hitTest(t,_.bodies,0);if(n&&n.length>0){var r=n[0].userData;r&&r instanceof ze&&r.type!==ze.GOAL_TYPE&&(e.other.amount+=r.boom()),n.forEach((function(t){var n=t.userData;e.other.positions.push(n.position)}))}})),e.other.amount>0&&this.unusedBlocksRemoved(e.other.positions),this.explodePoints=[]}},{key:"endContact",value:function(e){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;r&&o&&r instanceof ze&&o instanceof ze&&T.sameType(r,o)&&(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r))}},{key:"beginContact",value:function(e){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;if(r&&o){if(T.getEnd(r,o))return void this.levelComplete();if(r instanceof ut||o instanceof ut){var i=T.getBlockByRocket(r,o);i&&i instanceof ze&&(i.boom(),this.createExplosion(i.position,.15*Math.random()),this.addScoreItem(i.position.x,i.position.y,ze.BALL_SCORE))}var a=T.getRainbow(r,o);if(a){var c=a===r?o:r;c instanceof ze&&c.correctType()&&!c.isGoal()&&c.type!==ze.STATIC_OBSTACLE_TYPE&&c.type!==ze.RANDOM_OBSTACLE_TYPE?(c.boom(),this.createExplosion(c.position,.15*Math.random()),this.addScoreItem(c.position.x,c.position.y,ze.BALL_SCORE)):a instanceof ze&&(0===c.type||c.type===ze.END_TYPE||c.type===ze.STATIC_OBSTACLE_TYPE||c.type===ze.RANDOM_OBSTACLE_TYPE)&&(a.boom(),this.createExplosion(a.position,.15*Math.random()))}var s=T.getSkullByGoal(r,o);if(s)return s.boom(),void this.heartDeath();if(r instanceof ze&&o instanceof ze&&(T.sameType(r,o)&&(r.sameColorNeighbors.set(o,!0),o.sameColorNeighbors.set(r,!0)),T.wasAnyAndSkull(r,o)))return this.addScoreItem(r.position.x,r.position.y,ze.BALL_SCORE),r.boom(),void o.boom();if(!e.shapeA.data||!e.shapeB.data)return;if((50*E.vec2.distance(e.bodyA.position,e.bodyA.previousPosition)>.5||50*E.vec2.distance(e.bodyB.position,e.bodyB.previousPosition)>.5)&&u.playRandom("ball hit ",3),r&&o){var l=T.getKinematic(r,o);if(l&&l.body){var f=l===r?o:r;if(l.enableGravity(),f instanceof Rr&&f.type===ze.RANDOM_OBSTACLE_TYPE?(f.changePosition(),this.addScoreItem(f.position.x,f.position.y,ze.BALL_SCORE),this.shakeScreen(Math.random()<.5)):f.type===ze.STATIC_OBSTACLE_TYPE&&this.shakeScreen(Math.random()<.5),r.type!==ze.GOAL_TYPE&&o.type!==ze.GOAL_TYPE)if(T.sameType(r,o)&&r instanceof ze&&o instanceof ze){r.kinematic=!1,o.kinematic=!1,r.enableGravity(),o.enableGravity();var p=l.steps;l.animateAndDestroy(),this.increaseBlocks.push({block:l===r?o:r,steps:p})}else f.type===ze.SKULL_TYPE&&l.setSkull()}else{if(r instanceof ze&&r.kinematic&&r.enableGravity(),o instanceof ze&&o.kinematic&&o.enableGravity(),r.type===ze.GOAL_TYPE||o.type===ze.GOAL_TYPE)return;if(r instanceof ze&&o instanceof ze&&T.sameType(r,o)&&(r.steps!==o.steps||r.kinematic||o.kinematic)){var h=r.kinematic?r:o,y=h===r?o:r;h.kinematic=!1,y.kinematic=!1,h.body&&(h.body.gravityScale=1),y.body&&(y.body.gravityScale=1);var d=h.steps;h.animateAndDestroy(),this.increaseBlocks.push({block:y,steps:d})}else{var v=T.getRandomObstacle(r,o);if(v)this.shakeScreen(Math.random()<.5),v.changePosition(),this.addScoreItem(v.position.x,v.position.y,ze.BALL_SCORE);else if(r instanceof ze&&o instanceof ze){var b=T.getKinematicBySkull(r,o);b&&b.setSkull()}}}}}}}],r=[{key:"sameType",value:function(e,t){return!(e.type!==t.type&&e.type!==ze.ANY_TYPE&&t.type!==ze.ANY_TYPE||0===e.type||0===t.type||e.isGoal()||t.isGoal()||e.type===ze.STATIC_OBSTACLE_TYPE||t.type===ze.STATIC_OBSTACLE_TYPE||e.type===ze.RANDOM_OBSTACLE_TYPE||t.type===ze.RANDOM_OBSTACLE_TYPE||e.type===ze.SKULL_TYPE||t.type===ze.SKULL_TYPE)}},{key:"getRainbow",value:function(e,t){return e.type===ze.RAINBOW_TYPE||t.type===ze.RAINBOW_TYPE?e.type===ze.RAINBOW_TYPE?e:t:void 0}},{key:"getEnd",value:function(e,t){return e.type===ze.GOAL_TYPE&&t.type===ze.END_TYPE||t.type===ze.GOAL_TYPE&&e.type===ze.END_TYPE?e.type===ze.END_TYPE?e:t:void 0}},{key:"getSkullByGoal",value:function(e,t){return e.type===ze.GOAL_TYPE&&t.type===ze.SKULL_TYPE||t.type===ze.GOAL_TYPE&&e.type===ze.SKULL_TYPE?e.type===ze.SKULL_TYPE?e:t:void 0}},{key:"wasAnyAndSkull",value:function(e,t){return e.type===ze.ANY_TYPE&&t.type===ze.SKULL_TYPE&&!t.isGoal()||t.type===ze.ANY_TYPE&&e.type===ze.SKULL_TYPE&&!e.isGoal()}},{key:"getBlockByRocket",value:function(e,t){return e instanceof ut&&t.correctType()&&!t.isGoal()?t:t instanceof ut&&e.correctType()&&!e.isGoal()?e:void 0}},{key:"getKinematic",value:function(e,t){return e instanceof ze&&e.kinematic&&0!==e.type?e:t instanceof ze&&t.kinematic&&0!==t.type?t:void 0}},{key:"getRandomObstacle",value:function(e,t){return e instanceof ze&&e.kinematic&&t instanceof Rr&&t.type===ze.RANDOM_OBSTACLE_TYPE?t:t instanceof ze&&t.kinematic&&e instanceof Rr&&e.type===ze.RANDOM_OBSTACLE_TYPE?e:void 0}},{key:"getKinematicBySkull",value:function(e,t){return e.kinematic&&t.type===ze.SKULL_TYPE?e:t.kinematic&&e.type===ze.SKULL_TYPE?t:void 0}}],n&&Yi(t.prototype,n),r&&Yi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),T}(le);function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t){return($i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ta(e);if(t){var o=ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qi(this,n)}}function Qi(e,t){if(t&&("object"===Ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ea(e)}function ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Hi(Xi,"BottomPoint",670);var ra=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$i(e,t)}(i,e);var t,n,r,o=Zi(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),na(ea(e=o.call(this)),"explosion",void 0),na(ea(e),"face",void 0),na(ea(e),"logo",void 0),e.explosion=v.Sprite.from(v.Texture.from("splash_explosion.png")),e.explosion.anchor.set(.5),e.explosion.scale.set(0,0),e.explosion.position.y=.5*-Y.originalHeight+516,e.explosion.alpha=0,e.addChild(e.explosion),e.face=v.Sprite.from(v.Texture.from("splash_logo_face.png")),e.face.position.set(-131,-350),e.face.alpha=0,e.addChild(e.face),e.logo=v.Sprite.from(v.Texture.from("splash_logo.png")),e.logo.anchor.set(.5),e.logo.position.set(0,-260),e.logo.scale.set(3,3),e.logo.alpha=0,e.addChild(e.logo),e}return t=i,(n=[{key:"start",value:function(){this.explosion.position.y=.5*-Y.originalHeight+516,this.explosion.scale.set(0,0),this.explosion.alpha=0,this.face.position.set(-131,-350),this.face.alpha=0,this.logo.position.set(0,-260),this.logo.scale.set(3,3),this.logo.alpha=0,u.play("startup explosion"),g.a.to(this.explosion,{alpha:1,duration:.2}),g.a.to(this.explosion.scale,{x:1,y:1,duration:1,ease:k.c.easeOut}),g.a.to(this.logo,{alpha:1,delay:.2,duration:.2}),g.a.to(this.logo.scale,{x:1,y:1,delay:.2,duration:1,ease:k.a.easeOut}),g.a.to(this.face,{alpha:1,delay:1.09,duration:.1}),g.a.to(this.face,{y:-448,delay:1.1,duration:2,ease:k.f.easeNone})}},{key:"stop",value:function(){u.stop("startup explosion"),g.a.killTweensOf(this.explosion),g.a.killTweensOf(this.explosion.scale),g.a.killTweensOf(this.logo),g.a.killTweensOf(this.logo.scale),g.a.killTweensOf(this.face)}}])&&qi(t.prototype,n),r&&qi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function oa(e){return(oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=la(e);if(t){var o=la(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ca(this,n)}}function ca(e,t){if(t&&("object"===oa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sa(e)}function sa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function la(e){return(la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aa(e,t)}(i,e);var t,n,r,o=ua(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),fa(sa(e=o.call(this)),"txt",void 0),fa(sa(e),"lockedTxt",void 0),fa(sa(e),"hearts",void 0),e.txt=new v.Text("Level 1",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),e.txt.anchor.set(.5,1),e.txt.position.set(0,-75),e.addChild(e.txt);var t=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);t.pivot.set(160,70),t.width=320,t.height=140,t.tint=14540253,e.addChild(t),e.lockedTxt=new v.Text("Locked",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:11184810,fontWeight:"bold",align:"center"}),e.lockedTxt.anchor.set(.5,.5),e.lockedTxt.position.set(0,0),e.addChild(e.lockedTxt),e.hearts=[];for(var n=-90,r=0;r<3;r++){var a=new v.Sprite(v.Texture.from("like.png"));a.alpha=.3,a.anchor.set(.5,.5),a.scale.set(.6),a.position.x=n,e.addChild(a),e.hearts.push(a),n+=90}return e}return t=i,(n=[{key:"updateData",value:function(e,t){this.txt.text="Level ".concat(e+1);for(var n=0;n<3;n++)this.hearts[n].alpha=t>=n+1?1:t>=0||0===e?.3:0;this.lockedTxt.visible=0!==e&&-1===t}}])&&ia(t.prototype,n),r&&ia(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function ha(e){return(ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return da(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return da(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function va(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ba(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){va(i,r,o,a,u,"next",e)}function u(e){va(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ga(e,t){return(ga=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ka(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ta(e);if(t){var o=Ta(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xa(this,n)}}function xa(e,t){if(t&&("object"===ha(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ta(e){return(Ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ga(e,t)}(l,e);var t,n,r,o,i,a,c,s=ka(l);function l(){var e;ma(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Sa(Oa(e=s.call.apply(s,[this].concat(n))),"logo",void 0),Sa(Oa(e),"activeLevelItem",void 0),Sa(Oa(e),"activeLevelId",void 0),Sa(Oa(e),"left",void 0),Sa(Oa(e),"right",void 0),Sa(Oa(e),"canPlay",void 0),Sa(Oa(e),"playBtn",void 0),Sa(Oa(e),"muteBtn",void 0),Sa(Oa(e),"unmuteBtn",void 0),e}return t=l,(n=[{key:"create",value:function(){var e=this;this.logo=new ra,this.addChild(this.logo),this.playBtn=new xe("start_button.png","start_button.png"),this.playBtn.position.y=Y.originalHeight/3-30,this.addChild(this.playBtn),this.playBtn.on("pointerup",(function(){e.onPlayClicked()})),this.muteBtn=new xe("sound1.png","sound1.png"),this.muteBtn.position.set(Y.originalWidth/2-50,-Y.originalHeight/2+70),this.addChild(this.muteBtn),this.muteBtn.on("pointerup",(function(){iu("Menu","Mute","click"),e.mute=!0})),this.unmuteBtn=new xe("sound2.png","sound2.png"),this.unmuteBtn.position.set(Y.originalWidth/2-50,-Y.originalHeight/2+70),this.addChild(this.unmuteBtn),this.unmuteBtn.on("pointerup",(function(){iu("Menu","Unmute","click"),e.mute=!1})),Q("emoji_mute","0").then((function(t){e.mute="1"===t})),this.createMapItems()}},{key:"mute",set:function(e){this.muteBtn.visible=!e,this.unmuteBtn.visible=e,Z("emoji_mute",e?"1":"0"),u.muteMusic=e,u.muteSounds=e}},{key:"start",value:function(){iu("Menu","View","Start"),this.logo.start(),this.setActiveLevel()}},{key:"close",value:(c=ba(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:iu("Menu","View","Close"),this.logo.stop();case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"setActiveLevel",value:(a=ba(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Y.levels,n=0,r=-1,o=ya(t),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=20;break}return a=i.value,e.next=10,Q("".concat(a.key),"");case 10:if(u=e.sent,r=-1,""!==u&&(a.score=parseInt(u),r=$a(a.score,a.starsConditions)),0!==r&&-1!==r){e.next=17;break}return e.abrupt("break",20);case 17:n++;case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:this.activeLevelId=n,this.canPlay=0===n||-1!==r,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 32:case"end":return e.stop()}}),e,this,[[4,22,25,28]])}))),function(){return a.apply(this,arguments)})},{key:"updateButtons",value:function(){this.playBtn.disabled=!this.canPlay,this.left.visible=this.activeLevelId>0,this.right.visible=this.activeLevelId<Y.levels.length-1}},{key:"createMapItems",value:function(){var e=this;this.activeLevelItem=new pa,this.activeLevelItem.position.set(0,Y.originalHeight/3-230),this.addChild(this.activeLevelItem),this.left=new xe("back_button.png","back_button.png"),this.left.position.set(-240,this.activeLevelItem.y),this.addChild(this.left),this.right=new xe("next_button.png","next_button.png"),this.right.position.set(250,this.activeLevelItem.y+5),this.addChild(this.right),this.left.scale.set(.5,.5),this.right.scale.set(.5,.5),this.left.on("pointerup",(function(){iu("Menu","Prev","Click"),e.activeLevelId--,e.updateActive()})),this.right.on("pointerup",(function(){iu("Menu","Next","Click"),e.activeLevelId++,e.updateActive()}))}},{key:"updateActive",value:(i=ba(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.levels[this.activeLevelId],e.next=3,Q("".concat(t.key),"");case 3:n=e.sent,r=-1,""!==n&&(t.score=parseInt(n),r=$a(t.score,t.starsConditions)),this.canPlay=0===this.activeLevelId||-1!==r,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onPlayClicked",value:(o=ba(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canPlay){e.next=2;break}return e.abrupt("return");case 2:if(!q||!X.shouldPlayFirstAds()){e.next=5;break}return e.next=5,ee(G.Interstitial);case 5:iu("Menu","Play","Click",this.activeLevelId+1),D.start(Xi,this.activeLevelId);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}])&&wa(t.prototype,n),r&&wa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(le),Ba=n(199);function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Da(e);if(t){var o=Da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return La(this,n)}}function La(e,t){if(t&&("object"===Ra(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ma(e)}function Ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ia(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ea(e,t)}(u,e);var t,n,r,o,i,a=Aa(u);function u(){var e;Ca(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ia(Ma(e=a.call.apply(a,[this].concat(n))),"comics",void 0),Ia(Ma(e),"step",void 0),Ia(Ma(e),"nextBtn",void 0),Ia(Ma(e),"prevBtn",void 0),Ia(Ma(e),"okBtn",void 0),e}return t=u,(n=[{key:"create",value:function(){var e=this;this.comics=v.Sprite.from(v.Texture.from("comic_00.png")),this.comics.anchor.set(.5,.5),this.addChild(this.comics),this.nextBtn=new xe("next_button.png","next_button.png"),this.nextBtn.position.set(160,Y.originalHeight/2-this.nextBtn.height/2),this.addChild(this.nextBtn),this.nextBtn.on("pointerup",(function(){iu("Comics","Next","Click"),e.onNextClicked()})),this.prevBtn=new xe("back_button.png","back_button.png"),this.prevBtn.position.set(-160,this.nextBtn.y),this.addChild(this.prevBtn),this.prevBtn.on("pointerup",(function(){iu("Comics","Prev","Click"),e.onPrevClicked()})),this.okBtn=new xe("ok_button.png","ok_button.png"),this.okBtn.on("pointerup",(function(){Z("skipcomics","1"),D.start(Pa)})),this.okBtn.position.y=this.nextBtn.y-50,this.addChild(this.okBtn),this.prevBtn.visible=!1,this.nextBtn.visible=!1,this.okBtn.visible=!1}},{key:"start",value:function(){iu("Comics","View","Start"),this.step=0,this.prevBtn.visible=!1,this.nextBtn.visible=!0,this.okBtn.visible=!1}},{key:"close",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(iu("Comics","View","Close"),t=0;t<6;t++)v.Texture.removeFromCache("comic_0".concat(t,".png"));this.removeChild(this.okBtn),this.destroy({children:!0});case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){_a(i,n,r,a,u,"next",e)}function u(e){_a(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onNextClicked",value:function(){this.step++,this.step<5?(this.updateImage(),this.prevBtn.visible=!0,this.nextBtn.visible=!0):5===this.step&&(this.updateImage(),this.okBtn.visible=!0,this.prevBtn.visible=!1,this.nextBtn.visible=!1)}},{key:"onPrevClicked",value:function(){this.step--,this.prevBtn.visible=this.step>0,this.updateImage()}},{key:"updateImage",value:function(){this.comics.texture=v.Texture.from("comic_0".concat(this.step,".png"))}}])&&ja(t.prototype,n),r&&ja(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(le);function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fa(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ua(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Fa(i,r,o,a,u,"next",e)}function u(e){Fa(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ka(e);if(t){var o=Ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ha(this,n)}}function Ha(e,t){if(t&&("object"===Ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ka(e){return(Ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Va,Xa,Ja,qa,$a=function(e,t){for(var n=0,r=0;r<t.length&&e>t[r];r++)n++;return n},Za=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Y.slowmo=e,t||g.a.globalTimeline.timeScale(Y.slowmo?.4:1)},Qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&za(e,t)}(f,e);var t,n,r,o,i,a,s,l=Ga(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l.call(this,720,1500)}return t=f,(n=[{key:"createStates",value:(s=Ua(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("skipcomics","0");case 2:t=e.sent,D.add(new Pa),D.add(new Xi),"0"===t?(D.add(new Na),D.start(Na)):D.start(Pa);case 6:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"initContactListener",value:function(){_.on("endContact",(function(e){e.shapeA.data&&e.shapeB.data&&D.activeState instanceof Xi&&D.activeState.endContact(e)})),_.on("beginContact",(function(e){D.activeState instanceof Xi&&D.activeState.beginContact(e)}))}},{key:"preCleanUnused",value:function(e){var t=D.activeState;return t&&t instanceof Xi?t.preCleanUnused(e):{step:e,other:void 0}}},{key:"postCleanUnused",value:function(e){var t=D.activeState;t&&t instanceof Xi&&t.postCleanUnused(e)}},{key:"load",value:(a=Ua(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){u.init("assets/sounds"),X.startLoading();var r=new c.b;r.add("base0","assets/atlases/base0.json"),r.add("base1","assets/atlases/base1.json"),r.add("levels","assets/levels.json"),r.add("particles","assets/emitter.json"),u.add("music",{autoplay:!0,loop:!0,volume:.5}),u.add("ball hit 0",{volume:1}),u.add("ball hit 1",{volume:1}),u.add("ball hit 2",{volume:1}),u.add("ball grow",{volume:1}),u.add("ball pop 0",{volume:1}),u.add("ball pop 1",{volume:1}),u.add("ball pop 2",{volume:1}),u.add("click",{volume:.6}),u.add("emoji ahh",{volume:1}),u.add("emoji argue 0",{volume:1}),u.add("emoji argue 1",{volume:1}),u.add("emoji argue 2",{volume:1}),u.add("emoji oh",{volume:1}),u.add("emoji wah",{volume:1}),u.add("emoji wow 0",{volume:1}),u.add("emoji wow 1",{volume:1}),u.add("emoji yeah",{volume:1}),u.add("startup explosion",{volume:1}),u.add("ball explosion",{volume:.6}),u.add("ball release",{volume:1}),u.add("fail ticking",{volume:1}),u.add("fail",{volume:1}),u.add("rocket launch",{volume:1}),u.add("timer freeze",{volume:1}),u.add("win",{volume:1}),u.add("window open",{volume:1}),u.add("score ticking",{volume:1,loop:!0}),u.add("ball deflate",{volume:1}),u.add("balls add",{volume:1}),u.add("battery charge",{volume:.5}),u.add("bonus keys",{volume:1}),u.add("win bonus",{volume:1}),u.add("ball roger",{volume:1}),u.add("score thumb up",{volume:1}),r.onProgress.add((function(e){})),r.onError.add((function(e,t,r){au({error:"loading (".concat(r.url,")")}),n()})),r.load(Ua(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.loadFonts();case 2:return Y.levels=r.resources.levels.data.levels,Y.particles=r.resources.particles.data,n.next=6,t.startAfterLoading();case 6:e();case 7:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"loadFonts",value:(i=Ua(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){Ba.load({custom:{families:["FontsFree-Net-AmericanTypewriterBold"],urls:["assets/fonts/font.css"]},active:function(){e()},timeout:6e4})})));case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=Ua(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("preloader"))&&(t.style.display="none"),e.next=4,te();case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&Wa(t.prototype,n),r&&Wa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(F);!function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(Va||(Va={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(Xa||(Xa={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(Ja||(Ja={})),function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.Complete=2]="Complete",e[e.Fail=3]="Fail"}(qa||(qa={})),r.GameAnalytics.setEnabledInfoLog(!1);var eu=!1,tu="en";function nu(e,t){console.log("GA",e,t),r.GameAnalytics.initialize(e,t),console.log("Network: ".concat("0",", live: ").concat(eu)),iu("App","Network","0",eu?1:0),iu("App","Game","Start"),new Qa}function ru(e,t,n,o){r.GameAnalytics.addProgressionEvent(e,"world","stage",t,n,o)}function ou(e,t,n){void 0===n?r.GameAnalytics.addAdEvent(e,t,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(e,t,"0","ad",n);switch(t){case Ja.Interstitial:"inter";break;case Ja.RewardedVideo:"reward"}switch(e){case Va.FailedShow:"showError";break;case Va.Show:"show";break;case Va.RewardReceived:"success"}}function iu(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(e,":").concat(t,":").concat(n),o)}function au(e){var t=JSON.stringify(e);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,t)}function uu(e){eu=e}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){$().then((function(e){tu=e.language,eu=e.success,nu(e.gameKey,e.secretKey)})).catch((function(e){tu="en",eu=!1,nu("28b00d27d31d5bb1a89f2f95461df103","b527d253099947040f78d2b1e70f06725391e3a1")}))}}});
//# sourceMappingURL=bundle.5e685f87e089a498519b.js.map