!function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;i.push([213,1]),n()}({213:function(e,t,n){n(214),e.exports=n(437)},437:function(e,t,n){"use strict";n.r(t),n.d(t,"EGAAdAction",(function(){return zt})),n.d(t,"EGAAdError",(function(){return Xt})),n.d(t,"EGAAdType",(function(){return Jt})),n.d(t,"EGAProgressionStatus",(function(){return Qt})),n.d(t,"live",(function(){return en})),n.d(t,"lang",(function(){return tn})),n.d(t,"sendValueEvent",(function(){return rn})),n.d(t,"sendProgressionEvent",(function(){return on})),n.d(t,"sendAdEvent",(function(){return an})),n.d(t,"sendEvent",(function(){return un})),n.d(t,"sendError",(function(){return cn})),n.d(t,"setLive",(function(){return sn}));var r=n(45),o=n(207);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"path",void 0),a(this,"all",void 0),a(this,"musics",void 0),a(this,"mutedSounds",void 0),a(this,"mutedMusic",void 0)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.path=e,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(e){this.mutedMusic=e,this.musics.music.mute(e)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(e){for(var t in this.mutedSounds=e,this.all)this.all[t]&&this.all[t].mute(e)}},{key:"add",value:function(e,t){var n=this;if(!this.all[e]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(t){return"".concat(n.path,"/").concat(e,".").concat(t)})),i=new o.Howl({src:r,autoplay:null==t?void 0:t.autoplay,loop:null==t?void 0:t.loop,volume:(null==t?void 0:t.volume)||1});"music"!==e?this.all[e]=i:this.musics[e]=i}}},{key:"play",value:function(e){if(!this.all[e])throw new Error("no sound was found");this.all[e].play()}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),c=n(13),s=n(72),l=n(73),f=n(53);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"states",void 0),y(this,"currentState",void 0),y(this,"stage",void 0),this.stage=t,this.states=new Map}var t,n,r;return t=e,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(e){this.states.set(e.constructor,e),e.create()}},{key:"start",value:function(e){var t=this.states.get(e);if(!t)throw new Error("No state ".concat(e));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.start(r),this.currentState=t,this.stage.addChild(this.currentState)}},{key:"restart",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=this.currentState;this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState)),window.setTimeout((function(){o.start(n),e.currentState=o,e.stage.addChild(e.currentState)}),100)}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),h=n(26),v=n(7),b=n(20),w=n(1),m=n(24),g=n(5);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _,B,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(i,e);var t,n,r,o=R(i);function i(e,t){var n,r,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=j(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=b.a.from(w.q.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*e,c.height=2*t,c.interactive=!0,n.addChild(c),n.sprite=b.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return t=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,m.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var e=this;this.sprite.rotation=0,m.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:g.c.easeNone,onComplete:function(){e.rotate()}})}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.b),T=n(16),E=n.n(T);function A(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}f.a.registerPlugin(c.a),c.b.registerPlugin(s.a),c.b.registerPlugin(l.a);var D,I,L=[],N={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,material:void 0},F=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={width:t,height:n,autoDensity:!0,resolution:Math.min(Math.floor(window.devicePixelRatio),3)};N.originalWidth=t,N.originalHeight=n,B=new f.a(o),document.body.appendChild(B.view),h.f.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,B.view.style.left="0%",B.view.style.top="0%",B.view.style.width="100%",B.view.style.height="100%",B.renderer.plugins.interaction,B.stage.interactive=!0,B.ticker.maxFPS=60;var i=new v.b;B.stage.addChild(i),_=new E.a.World({gravity:[0,-10]}),this.initContactListener();var a=new T.Material;N.material=a,_.addContactMaterial(new T.ContactMaterial(a,a,{restitution:0})),_.emitImpactEvent=!1,B.ticker.add((function(){N.paused||(_.step(1/60,.1,3),_.bodies.forEach((function(e){var t=e.userData;if(t&&t.transform){var n=e.position;t.position.set(50*n[0],50*n[1]),t.rotation=e.angle}})),r.customLogic())})),this.start(B,i),(I=new C(t,n)).hide(),i.addChild(I)}var t,n,r,o,i;return t=e,(n=[{key:"customLogic",value:function(){L.forEach((function(e){return _.removeBody(e)})),this.clearBodyArray()}},{key:"clearBodyArray",value:function(){L=[]}},{key:"start",value:(o=regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new v.b,n.addChild(r),o=new v.b,n.addChild(o),D=new d(o),e.next=7,this.load();case 7:(i=b.a.from(h.d.WHITE)).width=1080,i.height=1920,r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var e=a(),n=e.width,i=e.height;t.renderer.resize(n,i);var u=n/i>.5625?n/1080:i/1920;r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),N.realHeight=i,I.height=i,I.scale.x=I.scale.y;var c=i/1920;N.scale=c,o.scale.set(c,c),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),I.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 16:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){A(i,n,r,a,u,"next",e)}function u(e){A(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,u,"next",e)}function u(e){U(i,r,o,a,u,"throw",e)}a(void 0)}))}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,a,u,c,s,l,f,p,y;return t=e,(n=[{key:"showGlobalLeaders",value:function(e){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(y=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(e){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(e){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=W(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=W(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"setScore",value:(c=W(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"getScore",value:(u=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0);case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,language:"en",gameKey:"",secretKey:""});case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&H(t.prototype,n),r&&H(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();n(17),n(212);var V;function K(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K(i,r,o,a,u,"next",e)}function u(e){K(i,r,o,a,u,"throw",e)}a(void 0)}))}}!function(e){e[e.RewardedVideo=2]="RewardedVideo",e[e.Interstitial=4]="Interstitial"}(V||(V={}));var q,z=!0,X=function(){var e=Y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){(q=new G)&&q.init().then((function(t){e(t)})).catch((function(e){cn({error:"initSocial"}),t()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Y(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,I&&I.show(),r=u.muteMusic,o=u.muteSounds,u.muteMusic=!0,u.muteSounds=!0,e.t0=t,e.next=e.t0===V.Interstitial?9:e.t0===V.RewardedVideo?13:17;break;case 9:return e.next=11,q.showInter();case 11:return n=!0,e.abrupt("break",17);case 13:return e.next=15,q.showReward();case 15:return n=e.sent,e.abrupt("break",17);case 17:return z=!1,I&&I.hide(),u.muteMusic=r,u.muteSounds=o,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",q.finishLoading());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(i,e);var t,n,r,o=te(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,n&&$(t.prototype,n),r&&$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(v.b);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(){return(ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ce(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ye(e)););return e}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(i,e);var t,n,r,o=le(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),de(pe(n=o.call(this)),"normalTexture",void 0),de(pe(n),"downTexture",void 0),de(pe(n),"isDisabled",!1),de(pe(n),"isDown",void 0),de(pe(n),"btn",void 0),n.normalTexture=""===e?w.q.WHITE:w.q.from(e),n.downTexture=""===e?w.q.WHITE:w.q.from(t),n.btn=b.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(pe(n))).on("pointerup",n.onButtonUp.bind(pe(n))).on("pointerupoutside",n.onButtonUp.bind(pe(n))).on("pointerout",n.onButtonOut.bind(pe(n))),n.disabled=!1,n}return t=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(e){this.isDisabled=e,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(e){this.isDisabled||(u.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(e){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),ue(ye(i.prototype),"destroy",this).call(this,e)}}])&&ae(t.prototype,n),r&&ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.b);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){if(t&&("object"===ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ke(e)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(i,e);var t,n,r,o=me(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pe(ke(t=o.call(this)),"body",void 0),Pe(ke(t),"shape",void 0),Pe(ke(t),"view",void 0),t.view=e,t.view.anchor.set(.5,.5),t.addChild(t.view),t}return t=i,(n=[{key:"createBody",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];this.view.alpha=1,this.shape=e,this.body=new T.Body({type:t,position:n,mass:5,damping:0,angularDamping:0}),this.body.addShape(e),_.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){this.destroyBody(),this.parent&&this.parent.removeChild(this)}},{key:"destroyBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(e?_.removeBody(this.body):L.push(this.body),this.body=void 0)}}])&&be(t.prototype,n),r&&be(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.b);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_e(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function _e(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ae(e)););return e}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ae(e);if(t){var o=Ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Te(this,n)}}function Te(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}(i,e);var t,n,r,o=Ce(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Me(Ee(t=o.call(this,e)),"sameColorNeighbors",new Map),Me(Ee(t),"difColorNeighbors",new Map),Me(Ee(t),"type",void 0),Me(Ee(t),"steps",1),Me(Ee(t),"kinematic",!1),Me(Ee(t),"busy",!1),t}return t=i,(n=[{key:"animateAndDestroy",value:function(){var e=this;m.a.killTweensOf(this.view.scale),m.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody()}},{key:"clean",value:function(){this.busy=!1,Se(Ae(i.prototype),"clean",this).call(this)}},{key:"boom",value:function(){this.increase(i.stepsAmount-this.steps,!0)}},{key:"correctType",value:function(){return 0!==this.type&&this.type!==i.goalType&&this.type!==i.endType}},{key:"increase",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!this.busy&&this.body&&(this.busy=!0,e+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=e,this.steps>=i.stepsAmount&&(m.a.killTweensOf(this.view.scale),this.sameColorNeighbors.forEach((function(e,r){r!==t&&r.increase(i.stepsAmount-r.steps,n)})),m.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),this.destroyBody(n)))}}])&&je(t.prototype,n),r&&je(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Re);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(){return(Fe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ue(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Ue(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ve(e)););return e}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(e,t){if(t&&("object"===Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Me(De,"goalType",1e3),Me(De,"endType",500),Me(De,"stepsAmount",3),Me(De,"scaleFactor",1);var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}(i,e);var t,n,r,o=He(i);function i(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Le(this,i);var u=n!=De.goalType?i.radius:1.5*i.radius,c=new h.b,s=n<De.goalType?i.colors[n]:0;c.beginFill(s,1),c.drawCircle(0,0,u);var l=new h.c;return l.addChild(c),(r=o.call(this,l)).position.set(e,t),a&&r.createCircleBody(u),r.type=n,r}return t=i,(n=[{key:"createCircleBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.radius,t=new T.Circle({radius:e/50});t.material=N.material,this.createBody(t,T.Body.DYNAMIC,[this.position.x/50,this.position.y/50])}},{key:"increase",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Fe(Ve(i.prototype),"increase",this).call(this,e,n),this.body&&this.steps<De.stepsAmount){var r=De.scaleFactor*this.steps;m.a.to(this.view.scale,{x:r,y:r,duration:.2,onUpdate:function(){t.shape.radius=i.radius*t.view.scale.x/50,t.shape.updateBoundingRadius(),t.body.updateBoundingRadius(),t.body.updateMassProperties(),t.busy=!1}})}}}])&&Ne(t.prototype,n),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(De);Ke(Ye,"colors",[13421568,16711680,16711935,11206400,65535,16776960,2435476,15444788]),Ke(Ye,"radius",35);var qe=n(64),ze=n(2);function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qe(e,t)}(i,e);var t,n,r,o=Ze(i);function i(e,t,n,r,a){var u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var c=new qe.a;c.beginFill(0,1),c.drawRect(.5*-n,.5*-r,n,r);var s=new b.a;s.addChild(c),u=o.call(this,s);var l=new T.Box({width:n/50,height:r/50});return u.createBody(l,T.Body.STATIC,[e/50,t/50]),u.body.mass=0,u.body.angle=ze.b*a,u.type=0,u}return t=i,n&&Je(t.prototype,n),r&&Je(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(De);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ut(e);if(t){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return at(this,n)}}function at(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(i,e);var t,n,r,o=it(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var t=new h.b;return t.beginFill(16711680,1),t.drawCircle(0,0,70),e.addChild(t),e.scale.set(0,0),e.animate(),e}return t=i,(n=[{key:"animate",value:function(){var e=this;m.a.to(this.scale,{x:1.5,y:1.5,duration:.3,onComplete:function(){e.destroy()}}),m.a.to(this,{alpha:0,delay:.12,duration:.18})}}])&&rt(t.prototype,n),r&&rt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(h.a);function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vt(e);if(t){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dt(this,n)}}function dt(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ht(e)}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(u,e);var t,n,r,o,i,a=yt(u);function u(e,t,n,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),bt(ht(o=a.call(this,new h.c)),"rocket",!0),bt(ht(o),"startX",void 0),bt(ht(o),"startY",void 0),bt(ht(o),"endX",void 0),bt(ht(o),"endY",void 0),o.startX=e,o.startY=t,o.endX=n,o.endY=r;var i=new h.b;i.beginFill(16711680,1),i.drawRoundedRect(-50,-50,100,100,10),o.view.addChild(i),o.position.set(e,t);var c=new T.Box({width:2,height:2});return c.sensor=!0,o.createBody(c,T.Body.KINEMATIC,[o.position.x/50,o.position.y/50]),o}return t=u,(n=[{key:"animate",value:(o=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n={x:t.startX,y:t.startY};m.a.to(n,{x:t.endX,y:t.endY,duration:1,ease:g.a.easeIn,onComplete:function(){t.clean(),e()},onUpdate:function(){t.body.position=[n.x/50,n.y/50]}})})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){lt(i,n,r,a,u,"next",e)}function u(e){lt(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&ft(t.prototype,n),r&&ft(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Re);function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gt(i,r,o,a,u,"next",e)}function u(e){gt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var o=_t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return St(e)}function St(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}(p,e);var t,n,r,o,i,a,u,c,s,l,f=xt(p);function p(){var e;Ot(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bt(St(e=f.call.apply(f,[this].concat(n))),"moveBox",void 0),Bt(St(e),"staticBox",void 0),Bt(St(e),"leftWall",void 0),Bt(St(e),"rightWall",void 0),Bt(St(e),"activeBlock",void 0),Bt(St(e),"level",void 0),Bt(St(e),"tick",0),Bt(St(e),"moving",void 0),Bt(St(e),"isActivePowerup",void 0),Bt(St(e),"preview",void 0),Bt(St(e),"mousePressed",void 0),Bt(St(e),"nextLines",void 0),Bt(St(e),"previewBlocks",void 0),Bt(St(e),"nextType",void 0),Bt(St(e),"nextBlock",void 0),e}return t=p,(n=[{key:"create",value:function(){var e=this,t=new he("bonus1","bonus1");t.position.set(-300,900),this.addChild(t),t.on("pointerup",(function(){e.startPowerup(1)}));var n=new he("bonus2","bonus2");n.position.set(-100,900),this.addChild(n),n.on("pointerup",(function(){e.startPowerup(2)})),this.preview=new h.b,this.addChild(this.preview),this.previewBlocks=new h.a,this.addChild(this.previewBlocks)}},{key:"start",value:(l=kt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q.gameplayStart(),this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.level=4,this.generateLineBlocks(this.level-3),this.tick=0,this.moving=!1,un("start","game","level"),on(Qt.Start),N.paused=!1,e.next=13,this.generateStartBlocks();case 13:this.addActiveBlock(),B.stage.on("pointerup",this.onClick,this),B.stage.on("pointerdown",this.onTapStart,this),h.e.shared.add(this.update,this);case 17:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"createExplosion",value:function(e){var t=new ct;t.position.copyFrom(e),this.addChild(t)}},{key:"levelComplete",value:function(){N.paused=!0}},{key:"moveBalls",value:function(){var e=this;this.moving=!0;var t=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};m.a.to(r,{y:(70*t-500)/50,delay:.1,duration:1,ease:g.c.easeNone,onUpdate:function(){e.moveBox.body.position=[r.x,r.y]},onComplete:function(){e.moveBox.body.position=[0,-11.5],e.addLineBlocks(),e.generateLineBlocks(e.level-3),e.moving=!1}})}},{key:"update",value:function(){var e=this;N.paused||(this.drawMouse(),_.bodies.forEach((function(t){var n=t.position;t.type===T.Body.KINEMATIC&&t!==e.moveBox.body&&(n[0]<-6.3||n[0]>6.3?(t.position=[n[0]<0?-6.3:6.3,n[1]],t.velocity[0]*=-1):(n[1]<-9.1||n[1]>13.2)&&(t.position=[n[0],n[1]<-9.1?-9.1:13.2],t.type=T.Body.DYNAMIC))})),this.moving||(this.tick+=1,this.tick%(700*(this.level-3))==0&&(this.tick>=2100*(this.level-3)&&(this.tick=0,this.level+=1,this.level>7&&(this.level=7)),this.moveBalls())))}},{key:"startPowerup",value:(s=kt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isActivePowerup=!0,e.t0=t,e.next=1===e.t0?4:2===e.t0?7:10;break;case 4:return e.next=6,this.startVerticalRocket();case 6:return e.abrupt("break",10);case 7:return e.next=9,this.startHorizontalRocket();case 9:return e.abrupt("break",10);case 10:this.isActivePowerup=!1;case 11:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"startVerticalRocket",value:(c=kt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=560*Math.random()-280,e.next=3,this.startRocket(t,650,t,-450);case 3:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"startHorizontalRocket",value:(u=kt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=800*Math.random()-400,e.next=3,this.startRocket(-280,t,280,t);case 3:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"startRocket",value:(a=kt(regeneratorRuntime.mark((function e(t,n,r,o){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new wt(t,n,r,o),this.addChild(i),e.next=4,i.animate();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return a.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){this.nextBlock&&this.removeChild(this.nextBlock),this.nextType=Math.floor(Math.random()*(this.nextLines.length+3))+1,this.nextBlock=new Ye(-140,650,this.nextType,!1),this.addChild(this.nextBlock)}},{key:"addActiveBlock",value:function(){this.nextType||(this.nextType=Math.floor(Math.random()*(this.nextLines.length+3))+1),this.activeBlock=new Ye(0,650,this.nextType,!1),this.activeBlock.kinematic=!0,this.addChild(this.activeBlock),this.generateActiveBlock()}},{key:"drawMouse",value:function(){if(this.mousePressed){var e=this.toLocal(B.renderer.plugins.interaction.mouse.global),t=Math.atan2(e.y-650,e.x);this.preview.clear(),this.preview.lineStyle(4,0,.7),this.preview.moveTo(0,650);var n=1200*Math.cos(t),r=650+1200*Math.sin(t);if(n<-315||n>315){var o=Math.abs(n)/n*315/Math.cos(t);n=o*Math.cos(t),r=650+o*Math.sin(t),this.preview.lineTo(n,r),n-=(1200-o)*Math.cos(-t),r-=(1200-o)*Math.sin(-t),this.preview.lineTo(n,r)}else this.preview.lineTo(n,r)}}},{key:"onTapStart",value:function(e){var t=this.toLocal(e.data.global);N.paused||!this.activeBlock||this.isActivePowerup||t.y>800||(this.mousePressed=!0,this.drawMouse())}},{key:"onClick",value:function(e){var t=this;this.preview.clear();var n=this.toLocal(e.data.global);if(!(N.paused||!this.activeBlock||this.isActivePowerup||n.y>800)){this.activeBlock.createCircleBody();var r=this.activeBlock;this.activeBlock=void 0;var o=Math.atan2((n.y-650)/50,n.x/50);r.body.type=T.Body.KINEMATIC,r.body.velocity=[10*Math.cos(o),10*Math.sin(o)],this.mousePressed=!1,m.a.delayedCall(.2,(function(){t.addActiveBlock()}))}}},{key:"generateLineBlocks",value:function(e){this.previewBlocks.removeChildren();var t=-620-70*e;this.nextLines=[];for(var n=0;n<e;n++){var r=-300;this.nextLines[n]=[];for(var o=0;o<9;o++){this.nextLines[n][o]=Math.floor(Math.random()*this.level)+1;var i=new Ye(r,t,this.nextLines[n][o],!1);this.addChild(i),r+=74}t+=70}}},{key:"addLineBlocks",value:function(){var e;this.previewBlocks.removeChildren();for(var t=-500,n=0;n<this.nextLines.length;n++){e=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=new Ye(e,t,this.nextLines[n][r]);this.addChild(o),e+=74}t+=70}}},{key:"generateNewBlocks",value:(i=kt(regeneratorRuntime.mark((function e(){var t,n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){var e=kt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){m.a.delayedCall(t,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=0;case 2:if(!(n<70)){e.next=11;break}return r=Math.floor(Math.random()*this.level)+1,o=new Ye(600*Math.random()-300,-100,r),this.addChild(o),e.next=8,t(.001);case 8:n++,e.next=2;break;case 11:return e.next=13,t(1);case 13:i=new Ye(0,200,Ye.goalType),this.addChild(i);case 15:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"generateStartBlocks",value:(o=kt(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.moveBox=new tt(0,-575,700,50,0),this.moveBox.type=De.endType,this.addChild(this.moveBox),this.staticBox=new tt(0,-625,700,50,0),this.addChild(this.staticBox),t=new tt(0,-575,700,50,0),this.addChild(t),this.leftWall=new tt(-400,50,100,1600,0),this.addChild(this.leftWall),this.rightWall=new tt(400,50,100,1600,0),this.addChild(this.rightWall),n=new tt(0,800,700,100,0),this.addChild(n),e.next=15,this.generateNewBlocks();case 15:N.started=!0;case 16:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"close",value:function(){throw new Error("Method not implemented.")}}])&&Pt(t.prototype,n),r&&Pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(oe);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}(u,e);var t,n,r,o,i,a=It(u);function u(){return At(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"create",value:function(){var e=this,t=new he("playButton0","playButton1");t.position.y=N.originalHeight/3-30,this.addChild(t),t.on("pointerup",(function(){un("click","menu","play"),e.onPlayClicked()}))}},{key:"start",value:function(){un("start","menu","level")}},{key:"close",value:function(){un("close","menu","level")}},{key:"onPlayClicked",value:(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z||!q.shouldPlayFirstAds()){e.next=3;break}return e.next=3,J(V.Interstitial);case 3:D.start(Ct);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Et(i,n,r,a,u,"next",e)}function u(e){Et(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&Mt(t.prototype,n),r&&Mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(oe);function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ht(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wt(i,r,o,a,u,"next",e)}function u(e){Wt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qt(e);if(t){var o=qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){if(t&&("object"===Ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qt(e){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt,Xt,Jt,Qt,Zt=[],$t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}(s,e);var t,n,r,o,i,a=Kt(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,756,1344)}return t=s,(n=[{key:"createStates",value:function(){D.add(new Ft),D.add(new Ct),D.start(Ft)}},{key:"initContactListener",value:function(){var e=this;_.on("endContact",(function(e){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;r.correctType&&o.correctType&&(r.type===o.type&&0!==r.type?(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r)):r.type!==o.type&&r.correctType()&&o.correctType()&&(r.difColorNeighbors.delete(o),o.difColorNeighbors.delete(r)))})),_.on("beginContact",(function(t){var n=t.bodyA,r=t.bodyB,o=n.userData,i=r.userData;if(o.correctType&&i.correctType){if(o.type===i.type&&0!==o.type?(o.sameColorNeighbors.set(i,!0),i.sameColorNeighbors.set(o,!0)):o.type!==i.type&&o.correctType()&&i.correctType()&&(o.difColorNeighbors.set(i,!0),i.difColorNeighbors.set(o,!0)),o.type===De.goalType&&i.type===De.endType||i.type===De.goalType&&o.type===De.endType)return void e.levelComplete();var a=void 0,u=void 0;if(n.type===T.Body.KINEMATIC&&0!==o.type?(a=n,u=o):r.type===T.Body.KINEMATIC&&0!==i.type&&(a=r,u=i),a){if(a.type=T.Body.DYNAMIC,o.type===i.type){var c=u.steps;u.animateAndDestroy(),Zt.push({block:u===o?i:o,steps:c})}}else if(o.type===i.type&&0!==o.type&&(o.steps!==i.steps||o.kinematic||i.kinematic)){var s=o.steps;o.animateAndDestroy(),Zt.push({block:i,steps:s})}}else{var l=void 0,f=void 0;o.rocket&&i.correctType&&i.type!==De.goalType?(l=n,f=i):i.rocket&&o.correctType&&o.type!==De.goalType&&(l=r,f=o),l&&f&&f.boom()}}))}},{key:"customLogic",value:function(){var e=L.length>=5,t=2===L.length,n=L.length>=3,r=t?25:n?50:100,o=D.activeState;L.forEach((function(i){var a=i.userData,u=3===a.steps&&!(e||n||t);(e||n||t||u)&&i&&a&&a.difColorNeighbors.forEach((function(e,t){100*Math.random()<r&&(o.createExplosion(t.position),t.boom())})),_.removeBody(i)})),this.clearBodyArray(),Zt.forEach((function(e){return e.block.increase(e.steps)})),Zt=[]}},{key:"levelComplete",value:function(){D.activeState.levelComplete()}},{key:"load",value:(i=Ht(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){u.init("assets/sounds"),q.startLoading();var r=new c.b;r.add("base","assets/atlases/base.json"),u.add("click",{volume:1}),u.add("pop0",{volume:.6}),u.add("pop1",{volume:.6}),u.add("pop2",{volume:.6}),u.add("collide",{volume:.2}),u.add("boom",{volume:1}),u.add("crab_crack",{volume:1}),u.add("crab_hand",{volume:1}),u.add("won",{volume:.4}),u.add("tutorial",{volume:.4}),u.add("level_failed",{volume:1}),u.add("level_won",{volume:1}),u.add("level",{volume:.4}),r.onProgress.add((function(e){})),r.onError.add((function(e,t,r){cn({error:"loading (".concat(r.url,")")}),n()})),r.load(Ht(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.startAfterLoading();case 2:e();case 3:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=Ht(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("preloader"))&&(t.style.display="none"),e.next=4,Q();case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&Gt(t.prototype,n),r&&Gt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(F);!function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(zt||(zt={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(Xt||(Xt={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(Jt||(Jt={})),function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.Complete=2]="Complete",e[e.Fail=3]="Fail"}(Qt||(Qt={})),r.GameAnalytics.setEnabledInfoLog(!1);var en=!1,tn="en";function nn(e,t){r.GameAnalytics.initialize(e,t),console.log("Network: ".concat("0",", live: ").concat(en)),un("set","network","0",en?1:0),un("start","app","game"),new $t}function rn(e,t,n){r.GameAnalytics.addDesignEvent("".concat(e,":").concat(t),n),gtag("event",e,{event_category:t,value:n})}function on(e,t,n){r.GameAnalytics.addProgressionEvent(e,"level",n,void 0,t),gtag("event","progression",{event_category:e===Qt.Start?"start":e!==Qt.Fail?"complete":"fail",value:t})}function an(e,t,n){void 0===n?r.GameAnalytics.addAdEvent(e,t,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(e,t,"0","ad",n);var o="",i="";switch(t){case Jt.Interstitial:i="inter";break;case Jt.RewardedVideo:i="reward"}switch(e){case zt.FailedShow:o="showError";break;case zt.Show:o="show";break;case zt.RewardReceived:o="success"}gtag("event",o,{event_category:i})}function un(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(e,":").concat(t,":").concat(n),o),gtag("event",e,{event_category:t,event_label:n,value:o})}function cn(e){var t=JSON.stringify(e);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,t),gtag("event","show",{event_category:"error",event_label:"error",value:t})}function sn(e){en=e}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){X().then((function(e){tn=e.language,en=e.success,nn(e.gameKey,e.secretKey)})).catch((function(e){tn="en",en=!1,nn("858dec355a72c9195a2a9d7b5b236599","da73f2e7aa8cb82c345aa88235b57abb415e1cd5")}))}}});
//# sourceMappingURL=bundle.423c266bdd415832892d.js.map