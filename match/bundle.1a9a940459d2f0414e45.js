!function(t){function e(e){for(var r,a,u=e[0],c=e[1],s=e[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={0:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;i.push([212,1]),n()}({212:function(t,e,n){n(213),t.exports=n(436)},436:function(t,e,n){"use strict";n.r(e),n.d(e,"EGAAdAction",(function(){return kn})),n.d(e,"EGAAdError",(function(){return Pn})),n.d(e,"EGAAdType",(function(){return xn})),n.d(e,"EGAProgressionStatus",(function(){return jn})),n.d(e,"live",(function(){return Bn})),n.d(e,"lang",(function(){return _n})),n.d(e,"sendValueEvent",(function(){return Tn})),n.d(e,"sendProgressionEvent",(function(){return En})),n.d(e,"sendAdEvent",(function(){return An})),n.d(e,"sendEvent",(function(){return Mn})),n.d(e,"sendError",(function(){return Dn})),n.d(e,"setLive",(function(){return In}));var r=n(45),o=n(206);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"path",void 0),a(this,"all",void 0),a(this,"musics",void 0),a(this,"mutedSounds",void 0),a(this,"mutedMusic",void 0)}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this.path=t,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(t){this.mutedMusic=t,this.musics.music.mute(t)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(t){for(var e in this.mutedSounds=t,this.all)this.all[e]&&this.all[e].mute(t)}},{key:"add",value:function(t,e){var n=this;if(!this.all[t]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(e){return"".concat(n.path,"/").concat(t,".").concat(e)})),i=new o.Howl({src:r,autoplay:null==e?void 0:e.autoplay,loop:null==e?void 0:e.loop,volume:(null==e?void 0:e.volume)||1});"music"!==t?this.all[t]=i:this.musics[t]=i}}},{key:"play",value:function(t){if(!this.all[t])throw new Error("no sound was found");this.all[t].play()}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),c=n(13),s=n(71),l=n(72),f=n(53);function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,"states",void 0),y(this,"currentState",void 0),y(this,"stage",void 0),this.stage=e,this.states=new Map}var e,n,r;return e=t,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(t){this.states.set(t.constructor,t),t.create()}},{key:"start",value:function(t){var e=this.states.get(t);if(!e)throw new Error("No state ".concat(t));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.start(r),this.currentState=e,this.stage.addChild(this.currentState)}},{key:"restart",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=this.currentState;this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState)),window.setTimeout((function(){o.start(n),t.currentState=o,t.stage.addChild(t.currentState)}),100)}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=n(19),v=n(7),b=n(22),w=n(1),m=n(20),g=n(5);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R(t)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B,_,C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(i,t);var e,n,r,o=x(i);function i(t,e){var n,r,a,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=R(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=b.a.from(w.q.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*t,c.height=2*e,c.interactive=!0,n.addChild(c),n.sprite=b.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return e=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,m.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var t=this;this.sprite.rotation=0,m.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:g.c.easeNone,onComplete:function(){t.rotate()}})}}])&&k(e.prototype,n),r&&k(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(v.b),T=n(15),E=n.n(T);function A(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f.a.registerPlugin(c.a),c.b.registerPlugin(s.a),c.b.registerPlugin(l.a);var D,I,L=[],N={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,material:void 0},F=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o={width:e,height:n,autoDensity:!0,resolution:Math.min(Math.floor(window.devicePixelRatio),3)};N.originalWidth=e,N.originalHeight=n,_=new f.a(o),document.body.appendChild(_.view),d.g.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,_.view.style.left="0%",_.view.style.top="0%",_.view.style.width="100%",_.view.style.height="100%",_.renderer.plugins.interaction,_.stage.interactive=!0,_.ticker.maxFPS=60;var i=new v.b;_.stage.addChild(i),B=new E.a.World({gravity:[0,-10]}),this.initContactListener();var a=new T.Material;N.material=a,B.addContactMaterial(new T.ContactMaterial(a,a,{restitution:0})),B.emitImpactEvent=!1,_.ticker.add((function(){N.paused||(B.step(1/60,.1,3),B.bodies.forEach((function(t){var e=t.userData;if(e&&e.transform){var n=t.position;e.position.set(50*n[0],50*n[1]),e.rotation=t.angle}})),r.customLogic())})),this.start(_,i),(I=new C(e,n)).hide(),i.addChild(I)}var e,n,r,o,i;return e=t,(n=[{key:"customLogic",value:function(){L.forEach((function(t){return B.removeBody(t)})),this.clearBodyArray()}},{key:"clearBodyArray",value:function(){L=[]}},{key:"start",value:(o=regeneratorRuntime.mark((function t(e,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new v.b,n.addChild(r),o=new v.b,n.addChild(o),D=new h(o),t.next=7,this.load();case 7:(i=b.a.from(d.e.WHITE)).width=1080,i.height=1920,r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var t=a(),n=t.width,i=t.height;e.renderer.resize(n,i);var u=n/i>.5625?n/1080:i/1920;r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),N.realHeight=i,I.height=i,I.scale.x=I.scale.y;var c=i/1920;N.scale=c,o.scale.set(c,c),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),I.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 16:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){A(i,n,r,a,u,"next",t)}function u(t){A(i,n,r,a,u,"throw",t)}a(void 0)}))},function(t,e){return i.apply(this,arguments)})}])&&M(e.prototype,n),r&&M(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function W(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function U(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){W(i,r,o,a,u,"next",t)}function u(t){W(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var H=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,i,a,u,c,s,l,f,p,y;return e=t,(n=[{key:"showGlobalLeaders",value:function(t){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(y=U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return y.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(t){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(t){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=U(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(t,e){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=U(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}}),t)}))),function(t,e){return s.apply(this,arguments)})},{key:"setScore",value:(c=U(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"getScore",value:(u=U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",0);case 1:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:!0,language:"en",gameKey:"",secretKey:""});case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=U(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&Y(e.prototype,n),r&&Y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(17),n(211);var G;function V(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function K(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){V(i,r,o,a,u,"next",t)}function u(t){V(i,r,o,a,u,"throw",t)}a(void 0)}))}}!function(t){t[t.RewardedVideo=2]="RewardedVideo",t[t.Interstitial=4]="Interstitial"}(G||(G={}));var q,z=!0,X=function(){var t=K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){(q=new H)&&q.init().then((function(e){t(e)})).catch((function(t){Dn({error:"initSocial"}),e()}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),J=function(){var t=K(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,I&&I.show(),r=u.muteMusic,o=u.muteSounds,u.muteMusic=!0,u.muteSounds=!0,t.t0=e,t.next=t.t0===G.Interstitial?9:t.t0===G.RewardedVideo?13:17;break;case 9:return t.next=11,q.showInter();case 11:return n=!0,t.abrupt("break",17);case 13:return t.next=15,q.showReward();case 15:return n=t.sent,t.abrupt("break",17);case 17:return z=!1,I&&I.hide(),u.muteMusic=r,u.muteSounds=o,t.abrupt("return",n);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Q=function(){var t=K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",q.finishLoading());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rt(t);if(e){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tt(t,e)}(i,t);var e,n,r,o=et(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,n&&$(e.prototype,n),r&&$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(v.b);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ut(){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ct(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ct(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=yt(t)););return t}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yt(t);if(e){var o=yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(t,e){if(e&&("object"===it(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pt(t)}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(i,t);var e,n,r,o=lt(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ht(pt(n=o.call(this)),"normalTexture",void 0),ht(pt(n),"downTexture",void 0),ht(pt(n),"isDisabled",!1),ht(pt(n),"isDown",void 0),ht(pt(n),"btn",void 0),n.normalTexture=""===t?w.q.WHITE:w.q.from(t),n.downTexture=""===t?w.q.WHITE:w.q.from(e),n.btn=b.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(pt(n))).on("pointerup",n.onButtonUp.bind(pt(n))).on("pointerupoutside",n.onButtonUp.bind(pt(n))).on("pointerout",n.onButtonOut.bind(pt(n))),n.disabled=!1,n}return e=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(t){this.isDisabled||(u.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(t){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),ut(yt(i.prototype),"destroy",this).call(this,t)}}])&&at(e.prototype,n),r&&at(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(v.b);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t,e){return(wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kt(t);if(e){var o=kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gt(this,n)}}function gt(t,e){if(e&&("object"===vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ot(t)}function Ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}(i,t);var e,n,r,o=mt(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Pt(Ot(e=o.call(this)),"body",void 0),Pt(Ot(e),"shape",void 0),Pt(Ot(e),"view",void 0),e.view=t,e.view.anchor.set(.5,.5),e.addChild(e.view),e}return e=i,(n=[{key:"createBody",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];this.view.alpha=1,this.shape=t,this.body=new T.Body({type:e,position:n,mass:5,damping:0,angularDamping:0}),this.body.addShape(t),B.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){this.destroyBody(),this.parent&&this.parent.removeChild(this)}},{key:"destroyBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(t?B.removeBody(this.body):L.push(this.body),this.body=void 0)}}])&&bt(e.prototype,n),r&&bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(v.b);function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function St(){return(St="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Bt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Bt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(t,e){if(e&&("object"===jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Et(t)}function Et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(i,t);var e,n,r,o=Ct(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Mt(Et(e=o.call(this,t)),"sameColorNeighbors",new Map),Mt(Et(e),"difColorNeighbors",new Map),Mt(Et(e),"type",void 0),Mt(Et(e),"steps",1),Mt(Et(e),"kinematic",!1),Mt(Et(e),"busy",!1),e}return e=i,(n=[{key:"animateAndDestroy",value:function(){var t=this;m.a.killTweensOf(this.view.scale),m.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),this.destroyBody()}},{key:"clean",value:function(){this.busy=!1,St(At(i.prototype),"clean",this).call(this)}},{key:"boom",value:function(){this.increase(i.stepsAmount-this.steps,!0)}},{key:"correctType",value:function(){return 0!==this.type&&this.type!==i.goalType&&this.type!==i.endType}},{key:"increase",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!this.busy&&this.body&&(this.busy=!0,t+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=t,this.steps>=i.stepsAmount&&(m.a.killTweensOf(this.view.scale),this.sameColorNeighbors.forEach((function(t,r){r!==e&&r.increase(i.stepsAmount-r.steps,n)})),m.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody(n)))}}])&&Rt(e.prototype,n),r&&Rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(xt);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(){return(Ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Wt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Wt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gt(t)););return t}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);if(e){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(t,e){if(e&&("object"===It(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Mt(Dt,"goalType",1e3),Mt(Dt,"endType",500),Mt(Dt,"stepsAmount",3),Mt(Dt,"scaleFactor",1);var Kt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(i,t);var e,n,r,o=Yt(i);function i(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Lt(this,i);var u=n!=Dt.goalType?i.radius:1.5*i.radius,c=new d.b,s=n<Dt.goalType?i.colors[n]:0;c.beginFill(s,1),c.drawCircle(0,0,u);var l=new d.c;return l.addChild(c),(r=o.call(this,l)).position.set(t,e),a&&r.createCircleBody(u),r.type=n,r}return e=i,(n=[{key:"createCircleBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.radius,e=new T.Circle({radius:t/50});e.material=N.material,this.createBody(e,T.Body.DYNAMIC,[this.position.x/50,this.position.y/50])}},{key:"increase",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ft(Gt(i.prototype),"increase",this).call(this,t,n),this.body&&this.steps<Dt.stepsAmount){var r=Dt.scaleFactor*this.steps;m.a.to(this.view.scale,{x:r,y:r,duration:.2,onUpdate:function(){e.shape.radius=i.radius*e.view.scale.x/50,e.shape.updateBoundingRadius(),e.body.updateBoundingRadius(),e.body.updateMassProperties(),e.busy=!1}})}}}])&&Nt(e.prototype,n),r&&Nt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Dt);Vt(Kt,"colors",[13421568,16711680,16711935,11206400,65535,16776960,2435476,15444788]),Vt(Kt,"radius",35);var qt=n(2);function zt(t){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$t(t);if(e){var o=$t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jt(t,e)}(i,t);var e,n,r,o=Qt(i);function i(t,e,n,r,a){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var c=new b.a(d.e.WHITE);c.anchor.set(.5),c.tint=0,c.width=n,c.height=r,u=o.call(this,c);var s=new T.Box({width:n/50,height:r/50});return u.createBody(s,T.Body.STATIC,[t/50,e/50]),u.body.mass=0,u.body.angle=qt.b*a,u.type=0,u}return e=i,n&&Xt(e.prototype,n),r&&Xt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(Dt);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ae(t);if(e){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ie(this,n)}}function ie(t,e){if(e&&("object"===ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ae(t){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&re(t,e)}(i,t);var e,n,r,o=oe(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this);var e=new d.b;return e.beginFill(16711680,1),e.drawCircle(0,0,70),t.addChild(e),t.scale.set(0,0),t.animate(),t}return e=i,(n=[{key:"animate",value:function(){var t=this;m.a.to(this.scale,{x:1.5,y:1.5,duration:.3,onComplete:function(){t.destroy()}}),m.a.to(this,{alpha:0,delay:.12,duration:.18})}}])&&ne(e.prototype,n),r&&ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(d.a);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=de(t);if(e){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(t,e){if(e&&("object"===ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return he(t)}function he(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}(u,t);var e,n,r,o,i,a=pe(u);function u(t,e,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),ve(he(o=a.call(this,new d.c)),"rocket",!0),ve(he(o),"startX",void 0),ve(he(o),"startY",void 0),ve(he(o),"endX",void 0),ve(he(o),"endY",void 0),o.startX=t,o.startY=e,o.endX=n,o.endY=r;var i=new d.b;i.beginFill(16711680,1),i.drawRoundedRect(-50,-50,100,100,10),o.view.addChild(i),o.position.set(t,e);var c=new T.Box({width:2,height:2});return c.sensor=!0,o.createBody(c,T.Body.KINEMATIC,[o.position.x/50,o.position.y/50]),o}return e=u,(n=[{key:"animate",value:(o=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n={x:e.startX,y:e.startY};m.a.to(n,{x:e.endX,y:e.endY,duration:1,ease:g.a.easeIn,onComplete:function(){e.clean(),t()},onUpdate:function(){e.body.position=[n.x/50,n.y/50]}})})));case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){se(i,n,r,a,u,"next",t)}function u(t){se(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&le(e.prototype,n),r&&le(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(xt);function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oe(){return(Oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ke(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ke(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Se(t)););return t}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Se(t);if(e){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}function je(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Re(t)}function Re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}(i,t);var e,n,r,o=xe(i);function i(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return me(this,i),Be(Re(r=o.call(this,t,e,n,a)),"delay",void 0),r}return e=i,(n=[{key:"resetDeathCounter",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0)}},{key:"startCountDeath",value:function(){var t=this;this.delay||(this.delay=m.a.delayedCall(4,(function(){t.delay=void 0,t.emit("gameover")})))}},{key:"destroyBody",value:function(t){this.resetDeathCounter(),this.off("gameover"),Oe(Se(i.prototype),"destroyBody",this).call(this,t)}}])&&ge(e.prototype,n),r&&ge(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Kt);function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ee(t,e){return(Ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ie(t);if(e){var o=Ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return De(t)}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ie(t){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function We(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=He(t);if(e){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(t,e){if(e&&("object"===Le(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ye(t)}function Ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(i,t);var e,n,r,o=We(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ge(Ye(r=o.call(this,t.toString(),30,e,n)),"id",void 0),Ge(Ye(r),"a",void 0),r.a=t,r}return e=i,(n=[{key:"amount",get:function(){return this.a},set:function(t){this.a=t,this.text=this.a.toString()}}])&&Ne(e.prototype,n),r&&Ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ee(t,e)}(i,t);var e,n,r,o=Ae(i);function i(t,e,n,r){var a,u,c,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a=o.call(this,"",""),u=De(a),s=void 0,(c="txt")in u?Object.defineProperty(u,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[c]=s,a.txt=new d.d(t,{fontFamily:"Arial",fontSize:e,fill:r}),a.txt.anchor.set(.5,.5),a.addChild(a.txt),a.btn.tint=n,a.btn.width=a.txt.width+100,a.btn.height=a.txt.height+50,a}return e=i,(n=[{key:"text",set:function(t){this.txt.text=t}}])&&Te(e.prototype,n),r&&Te(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(dt));function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function ze(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){qe(i,r,o,a,u,"next",t)}function u(t){qe(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qe(t,e){return(Qe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ze(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=en(t);if(e){var o=en(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $e(this,n)}}function $e(t,e){if(e&&("object"===Ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tn(t)}function tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function en(t){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e)}(p,t);var e,n,r,o,i,a,u,c,s,l,f=Ze(p);function p(){var t;Xe(this,p);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return nn(tn(t=f.call.apply(f,[this].concat(n))),"moveBox",void 0),nn(tn(t),"staticBox",void 0),nn(tn(t),"bottomOpenWall",void 0),nn(tn(t),"activeBlock",void 0),nn(tn(t),"maxY",void 0),nn(tn(t),"level",void 0),nn(tn(t),"tick",0),nn(tn(t),"moving",void 0),nn(tn(t),"isActivePowerup",void 0),nn(tn(t),"preview",void 0),nn(tn(t),"mousePressed",void 0),nn(tn(t),"nextLines",void 0),nn(tn(t),"previewBlocks",void 0),nn(tn(t),"nextType",void 0),nn(tn(t),"nextBlock",void 0),nn(tn(t),"isTransition",void 0),nn(tn(t),"powerup1",void 0),nn(tn(t),"powerup2",void 0),nn(tn(t),"powerups",void 0),nn(tn(t),"powerupButtons",void 0),t}return e=p,(n=[{key:"create",value:function(){var t=this;this.powerup1=new Ve(0,0,16777215),this.powerup1.id=0,this.powerup1.position.set(-390,900),this.addChild(this.powerup1),this.powerup1.on("pointerup",(function(){t.startPowerup(t.powerup1.id)})),this.powerup2=new Ve(0,16711680,0),this.powerup2.id=1,this.powerup2.position.set(-265,900),this.addChild(this.powerup2),this.powerup2.on("pointerup",(function(){t.startPowerup(t.powerup2.id)})),this.powerupButtons=[],this.powerupButtons.push(this.powerup1),this.powerupButtons.push(this.powerup2),this.preview=new d.b,this.addChild(this.preview),this.previewBlocks=new d.a,this.addChild(this.previewBlocks);var e=new d.b;e.lineStyle(4,0,.3),e.moveTo(-400,500),e.lineTo(400,500),this.addChild(e)}},{key:"start",value:(l=ze(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(q.gameplayStart(),this.powerups=[2,3],e=0;e<this.powerupButtons.length;e++)this.powerupButtons[e].amount=this.powerups[e];return this.isTransition=!1,this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.level=4,this.generateLineBlocks(this.level-3),this.tick=0,this.maxY=0,this.moving=!1,Mn("start","game","level"),En(jn.Start),N.paused=!1,t.next=17,this.generateStartBlocks();case 17:this.addActiveBlock(),_.stage.on("pointerup",this.onClick,this),_.stage.on("pointerdown",this.onTapStart,this),d.f.shared.add(this.update,this);case 21:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"createExplosion",value:function(t){var e=new ue;e.position.copyFrom(t),this.addChild(e)}},{key:"levelComplete",value:function(){var t=this;this.isTransition=!0,this.moving=!1,this.previewBlocks.children.forEach((function(e){e.createCircleBody(),t.addChild(e)})),this.previewBlocks.removeChildren(),this.bottomOpenWall.animateAndDestroy(),this.moveBox.animateAndDestroy(),this.staticBox.animateAndDestroy(),this.nextBlock.clean(),this.activeBlock.clean(),this.mousePressed=!1}},{key:"moveBalls",value:function(){var t=this;if(!this.isTransition){this.moving=!0;var e=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};m.a.to(r,{y:(70*e-500)/50,delay:.1,duration:1,ease:g.c.easeNone,onUpdate:function(){t.moveBox.body.position=[r.x,r.y]},onComplete:function(){t.moveBox.body.position=[0,-11.5],t.addLineBlocks(),t.generateLineBlocks(t.level-3),t.moving=!1}})}}},{key:"update",value:function(){var t=this;if(!N.paused){this.drawMouse();var e=!1,n=!1,r=void 0;B.bodies.forEach((function(o){var i=o.position;o.type===T.Body.KINEMATIC&&o!==t.moveBox.body&&(i[0]<-6.3||i[0]>6.3?(o.position=[i[0]<0?-6.3:6.3,i[1]],o.velocity[0]*=-1):(i[1]<-9.1||i[1]>13.2)&&(o.position=[i[0],i[1]<-9.1?-9.1:13.2],o.type=T.Body.DYNAMIC)),!t.isTransition&&o.type===T.Body.DYNAMIC&&i[1]>t.maxY&&(t.maxY=i[1]),t.isTransition&&o.type===T.Body.DYNAMIC&&i[1]<-12&&(e=!0),t.isTransition&&o.type===T.Body.DYNAMIC&&i[1]<-36&&o.userData.clean(),o.type===T.Body.DYNAMIC&&o.userData&&o.userData.type===Dt.goalType&&(r=o.userData,!t.isTransition&&i[1]>9&&(n=!0))})),r&&!n&&r.resetDeathCounter(),this.isTransition&&!e&&(this.tick=0,this.level+=1,this.level>7&&(this.level=7),this.createMoveWalls(),this.generateNewBlocks().then((function(){t.generateLineBlocks(t.level-3),t.addActiveBlock()})),this.isTransition=!1),this.moving||this.isTransition||(r&&n&&r.startCountDeath(),this.tick+=1,this.tick%(700*(this.level-3))==0&&(this.tick>=2100*(this.level-3)&&(this.tick=0,this.level+=1,this.level>7&&(this.level=7)),this.moveBalls()))}}},{key:"startPowerup",value:(s=ze(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),!(this.isActivePowerup||N.paused||this.isTransition||this.powerups[e]<=0)){t.next=3;break}return t.abrupt("return");case 3:this.isActivePowerup=!0,t.t0=e,t.next=0===t.t0?7:1===t.t0?10:13;break;case 7:return t.next=9,this.startVerticalRocket();case 9:return t.abrupt("break",13);case 10:return t.next=12,this.startHorizontalRocket();case 12:return t.abrupt("break",13);case 13:this.powerups[e]-=1,this.powerupButtons[e].amount=this.powerups[e],this.isActivePowerup=!1;case 16:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"startVerticalRocket",value:(c=ze(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=560*Math.random()-280,t.next=3,this.startRocket(e,650,e,-450);case 3:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"startHorizontalRocket",value:(u=ze(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.maxY+400,n=Math.random()*e-400,t.next=4,this.startRocket(-280,n,280,n);case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"startRocket",value:(a=ze(regeneratorRuntime.mark((function t(e,n,r,o){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new be(e,n,r,o),this.addChild(i),t.next=4,i.animate();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return a.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){this.nextBlock&&this.removeChild(this.nextBlock),this.nextType=Math.floor(Math.random()*(this.nextLines.length+3))+1,this.nextBlock=new Kt(-90,650,this.nextType,!1),this.nextBlock.scale.set(.7),this.addChild(this.nextBlock)}},{key:"addActiveBlock",value:function(){this.nextType||(this.nextType=Math.floor(Math.random()*(this.nextLines.length+3))+1),this.activeBlock=new Kt(0,650,this.nextType,!1),this.activeBlock.kinematic=!0,this.addChild(this.activeBlock),this.generateActiveBlock()}},{key:"drawMouse",value:function(){if(this.mousePressed){var t=this.toLocal(_.renderer.plugins.interaction.eventData.data.global),e=Math.atan2(t.y-650,t.x);this.preview.clear(),this.preview.lineStyle(4,0,.7),this.preview.moveTo(0,650);var n=1200*Math.cos(e),r=650+1200*Math.sin(e);if(n<-315||n>315){var o=Math.abs(n)/n*315/Math.cos(e);n=o*Math.cos(e),r=650+o*Math.sin(e),this.preview.lineTo(n,r),n-=(1200-o)*Math.cos(-e),r-=(1200-o)*Math.sin(-e),this.preview.lineTo(n,r)}else this.preview.lineTo(n,r)}}},{key:"onTapStart",value:function(t){var e=this.toLocal(t.data.global);this.isTransition||N.paused||!this.activeBlock||this.isActivePowerup||e.y>800||(this.mousePressed=!0,this.drawMouse())}},{key:"onClick",value:function(t){var e=this;this.preview.clear();var n=this.toLocal(t.data.global);if(!(this.isTransition||N.paused||!this.activeBlock||this.isActivePowerup||n.y>800)){this.activeBlock.createCircleBody();var r=this.activeBlock;this.activeBlock=void 0;var o=Math.atan2((n.y-650)/50,n.x/50);r.body.type=T.Body.KINEMATIC,r.body.velocity=[10*Math.cos(o),10*Math.sin(o)],this.mousePressed=!1,m.a.delayedCall(.2,(function(){e.addActiveBlock()}))}}},{key:"generateLineBlocks",value:function(t){this.previewBlocks.removeChildren();var e=-620-70*t;this.nextLines=[];for(var n=0;n<t;n++){var r=-300;this.nextLines[n]=[];for(var o=0;o<9;o++){this.nextLines[n][o]=Math.floor(Math.random()*this.level)+1;var i=new Kt(r,e,this.nextLines[n][o],!1);this.previewBlocks.addChild(i),r+=74}e+=70}}},{key:"addLineBlocks",value:function(){var t;this.previewBlocks.removeChildren();for(var e=-500,n=0;n<this.nextLines.length;n++){t=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=new Kt(t,e,this.nextLines[n][r]);this.addChild(o),t+=74}e+=70}}},{key:"generateNewBlocks",value:(i=ze(regeneratorRuntime.mark((function t(){var e,n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(){var t=ze(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){m.a.delayedCall(e,(function(){t()}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=0;case 2:if(!(n<70)){t.next=11;break}return r=Math.floor(Math.random()*this.level)+1,o=new Kt(50*Math.random()-25,900,r),this.addChild(o),t.next=8,e(.001);case 8:n++,t.next=2;break;case 11:return t.next=13,e(1);case 13:return(i=new _e(0,1100,Kt.goalType)).on("gameover",this.onGameOver),this.addChild(i),t.next=18,e(1);case 18:this.createBottomExit();case 19:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"onGameOver",value:function(){D.start(yn)}},{key:"generateStartBlocks",value:(o=ze(regeneratorRuntime.mark((function t(){var e,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.createMoveWalls(),e=new te(-400,-50,100,1800,0),this.addChild(e),n=new te(400,-50,100,1800,0),this.addChild(n),r=new te(-225,800,250,100,0),this.addChild(r),o=new te(225,800,250,100,0),this.addChild(o),i=new te(-150,1100,100,500,0),this.addChild(i),a=new te(150,1100,100,500,0),this.addChild(a),u=new te(0,1300,200,100,0),this.addChild(u),t.next=17,this.generateNewBlocks();case 17:N.started=!0;case 18:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"createMoveWalls",value:function(){this.moveBox=new te(0,-575,700,50,0),this.moveBox.type=Dt.endType,this.addChild(this.moveBox),this.staticBox=new te(0,-625,700,50,0),this.addChild(this.staticBox)}},{key:"createBottomExit",value:function(){this.bottomOpenWall=new te(0,800,200,100,0),this.addChild(this.bottomOpenWall)}},{key:"close",value:function(){_.stage.off("pointerup"),_.stage.off("pointerdown"),d.f.shared.remove(this.update),this.moveBox&&this.moveBox.clean(),this.staticBox&&this.staticBox.clean(),this.bottomOpenWall&&this.bottomOpenWall.clean(),this.activeBlock&&this.activeBlock.clean(),this.tick=0,this.moving=!1,this.isActivePowerup=!1,this.preview.clear(),this.mousePressed=!1,this.previewBlocks&&this.previewBlocks.removeChildren(),this.nextBlock&&this.nextBlock.clean()}}])&&Je(e.prototype,n),r&&Je(e,r),Object.defineProperty(e,"prototype",{writable:!1}),p}(ot);function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sn(t,e){return(sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pn(t);if(e){var o=pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fn(this,n)}}function fn(t,e){if(e&&("object"===on(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pn(t){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sn(t,e)}(u,t);var e,n,r,o,i,a=ln(u);function u(){return un(this,u),a.apply(this,arguments)}return e=u,(n=[{key:"create",value:function(){var t=this,e=new dt("playButton0","playButton1");e.position.y=N.originalHeight/3-30,this.addChild(e),e.on("pointerup",(function(){Mn("click","menu","play"),t.onPlayClicked()}))}},{key:"start",value:function(){Mn("start","menu","level")}},{key:"close",value:function(){Mn("close","menu","level")}},{key:"onPlayClicked",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!z||!q.shouldPlayFirstAds()){t.next=3;break}return t.next=3,J(G.Interstitial);case 3:D.start(rn);case 4:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){an(i,n,r,a,u,"next",t)}function u(t){an(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&cn(e.prototype,n),r&&cn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(ot);function hn(t){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dn(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function vn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){dn(i,r,o,a,u,"next",t)}function u(t){dn(i,r,o,a,u,"throw",t)}a(void 0)}))}}function bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wn(t,e){return(wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=On(t);if(e){var o=On(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(t,e){if(e&&("object"===hn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kn,Pn,xn,jn,Rn=[],Sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wn(t,e)}(s,t);var e,n,r,o,i,a=mn(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,756,1344)}return e=s,(n=[{key:"createStates",value:function(){D.add(new yn),D.add(new rn),D.start(yn)}},{key:"initContactListener",value:function(){var t=this;B.on("endContact",(function(t){var e=t.bodyA,n=t.bodyB,r=e.userData,o=n.userData;r.correctType&&o.correctType&&(r.type===o.type&&0!==r.type?(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r)):r.type!==o.type&&r.correctType()&&o.correctType()&&(r.difColorNeighbors.delete(o),o.difColorNeighbors.delete(r)))})),B.on("beginContact",(function(e){var n=e.bodyA,r=e.bodyB,o=n.userData,i=r.userData;if(o.correctType&&i.correctType){if(o.type===i.type&&0!==o.type?(o.sameColorNeighbors.set(i,!0),i.sameColorNeighbors.set(o,!0)):o.type!==i.type&&o.correctType()&&i.correctType()&&(o.difColorNeighbors.set(i,!0),i.difColorNeighbors.set(o,!0)),o.type===Dt.goalType&&i.type===Dt.endType||i.type===Dt.goalType&&o.type===Dt.endType)return void t.levelComplete();var a=void 0,u=void 0;if(n.type===T.Body.KINEMATIC&&0!==o.type?(a=n,u=o):r.type===T.Body.KINEMATIC&&0!==i.type&&(a=r,u=i),a){if(a.type=T.Body.DYNAMIC,o.type===i.type){var c=u.steps;u.animateAndDestroy(),Rn.push({block:u===o?i:o,steps:c})}}else if(o.type===i.type&&0!==o.type&&(o.steps!==i.steps||o.kinematic||i.kinematic)){var s=o.steps;o.animateAndDestroy(),Rn.push({block:i,steps:s})}}else{var l=void 0,f=void 0;o.rocket&&i.correctType&&i.type!==Dt.goalType?(l=n,f=i):i.rocket&&o.correctType&&o.type!==Dt.goalType&&(l=r,f=o),l&&f&&f.boom()}}))}},{key:"customLogic",value:function(){var t=L.length>=5,e=2===L.length,n=L.length>=3,r=e?25:n?50:100,o=D.activeState;L.forEach((function(i){var a=i.userData,u=3===a.steps&&!(t||n||e);(t||n||e||u)&&i&&a&&a.difColorNeighbors.forEach((function(t,e){100*Math.random()<r&&(o.createExplosion(e.position),e.boom())})),B.removeBody(i)})),this.clearBodyArray(),Rn.forEach((function(t){return t.block.increase(t.steps)})),Rn=[]}},{key:"levelComplete",value:function(){D.activeState.levelComplete()}},{key:"load",value:(i=vn(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){u.init("assets/sounds"),q.startLoading();var r=new c.b;r.add("base","assets/atlases/base.json"),u.add("click",{volume:1}),u.add("pop0",{volume:.6}),u.add("pop1",{volume:.6}),u.add("pop2",{volume:.6}),u.add("collide",{volume:.2}),u.add("boom",{volume:1}),u.add("crab_crack",{volume:1}),u.add("crab_hand",{volume:1}),u.add("won",{volume:.4}),u.add("tutorial",{volume:.4}),u.add("level_failed",{volume:1}),u.add("level_won",{volume:1}),u.add("level",{volume:.4}),r.onProgress.add((function(t){})),r.onError.add((function(t,e,r){Dn({error:"loading (".concat(r.url,")")}),n()})),r.load(vn(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.startAfterLoading();case 2:t();case 3:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=vn(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.getElementById("preloader"))&&(e.style.display="none"),t.next=4,Q();case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}])&&bn(e.prototype,n),r&&bn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(F);!function(t){t[t.Undefined=0]="Undefined",t[t.Clicked=1]="Clicked",t[t.Show=2]="Show",t[t.FailedShow=3]="FailedShow",t[t.RewardReceived=4]="RewardReceived"}(kn||(kn={})),function(t){t[t.Undefined=0]="Undefined",t[t.Unknown=1]="Unknown",t[t.Offline=2]="Offline",t[t.NoFill=3]="NoFill",t[t.InternalError=4]="InternalError",t[t.InvalidRequest=5]="InvalidRequest",t[t.UnableToPrecache=6]="UnableToPrecache"}(Pn||(Pn={})),function(t){t[t.Undefined=0]="Undefined",t[t.Video=1]="Video",t[t.RewardedVideo=2]="RewardedVideo",t[t.Playable=3]="Playable",t[t.Interstitial=4]="Interstitial",t[t.OfferWall=5]="OfferWall",t[t.Banner=6]="Banner"}(xn||(xn={})),function(t){t[t.Undefined=0]="Undefined",t[t.Start=1]="Start",t[t.Complete=2]="Complete",t[t.Fail=3]="Fail"}(jn||(jn={})),r.GameAnalytics.setEnabledInfoLog(!1);var Bn=!1,_n="en";function Cn(t,e){r.GameAnalytics.initialize(t,e),console.log("Network: ".concat("0",", live: ").concat(Bn)),Mn("set","network","0",Bn?1:0),Mn("start","app","game"),new Sn}function Tn(t,e,n){r.GameAnalytics.addDesignEvent("".concat(t,":").concat(e),n),gtag("event",t,{event_category:e,value:n})}function En(t,e,n){r.GameAnalytics.addProgressionEvent(t,"level",n,void 0,e),gtag("event","progression",{event_category:t===jn.Start?"start":t!==jn.Fail?"complete":"fail",value:e})}function An(t,e,n){void 0===n?r.GameAnalytics.addAdEvent(t,e,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(t,e,"0","ad",n);var o="",i="";switch(e){case xn.Interstitial:i="inter";break;case xn.RewardedVideo:i="reward"}switch(t){case kn.FailedShow:o="showError";break;case kn.Show:o="show";break;case kn.RewardReceived:o="success"}gtag("event",o,{event_category:i})}function Mn(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(t,":").concat(e,":").concat(n),o),gtag("event",t,{event_category:e,event_label:n,value:o})}function Dn(t){var e=JSON.stringify(t);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,e),gtag("event","show",{event_category:"error",event_label:"error",value:e})}function In(t){Bn=t}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){X().then((function(t){_n=t.language,Bn=t.success,Cn(t.gameKey,t.secretKey)})).catch((function(t){_n="en",Bn=!1,Cn("858dec355a72c9195a2a9d7b5b236599","da73f2e7aa8cb82c345aa88235b57abb415e1cd5")}))}}});
//# sourceMappingURL=bundle.1a9a940459d2f0414e45.js.map