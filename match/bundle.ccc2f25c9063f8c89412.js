!function(t){function e(e){for(var r,a,u=e[0],c=e[1],s=e[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={0:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;i.push([201,1]),n()}({201:function(t,e,n){n(202),t.exports=n(409)},409:function(t,e,n){"use strict";n.r(e),n.d(e,"EGAAdAction",(function(){return No})),n.d(e,"EGAAdError",(function(){return Io})),n.d(e,"EGAAdType",(function(){return Wo})),n.d(e,"EGAProgressionStatus",(function(){return zo})),n.d(e,"live",(function(){return Uo})),n.d(e,"lang",(function(){return Go})),n.d(e,"sendValueEvent",(function(){return Ko})),n.d(e,"sendProgressionEvent",(function(){return Xo})),n.d(e,"sendAdEvent",(function(){return Jo})),n.d(e,"sendEvent",(function(){return qo})),n.d(e,"sendError",(function(){return $o})),n.d(e,"setLive",(function(){return Qo}));var r=n(43),o=n(193);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"path",void 0),a(this,"all",void 0),a(this,"musics",void 0),a(this,"mutedSounds",void 0),a(this,"mutedMusic",void 0)}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this.path=t,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(t){this.mutedMusic=t,this.musics.music.mute(t)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(t){for(var e in this.mutedSounds=t,this.all)this.all[e]&&this.all[e].mute(t)}},{key:"add",value:function(t,e){var n=this;if(!this.all[t]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(e){return"".concat(n.path,"/").concat(t,".").concat(e)})),i=new o.Howl({src:r,autoplay:null==e?void 0:e.autoplay,loop:null==e?void 0:e.loop,volume:(null==e?void 0:e.volume)||1});"music"!==t?this.all[t]=i:this.musics[t]=i}}},{key:"play",value:function(t){this.all[t]?this.all[t].play():console.error("no sound was found")}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),c=n(16),s=n(70),l=n(71),f=n(51);function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,"states",void 0),h(this,"currentState",void 0),h(this,"stage",void 0),this.stage=e,this.states=new Map}var e,n,r;return e=t,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(t){this.states.set(t.constructor,t),t.create()}},{key:"start",value:function(t){var e=this.states.get(t);if(!e)throw new Error("No state ".concat(t));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.start(r),this.currentState=e,this.stage.addChild(this.currentState)}},{key:"restart",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=this.currentState;this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState)),window.setTimeout((function(){o.start(n),t.currentState=o,t.stage.addChild(t.currentState)}),100)}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=n(4),b=n(9),v=n(21),m=n(2),w=n(8),g=n(6);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R(t)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B,T,_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(i,t);var e,n,r,o=P(i);function i(t,e){var n,r,a,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=R(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=v.a.from(m.db.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*t,c.height=2*e,c.interactive=!0,n.addChild(c),n.sprite=v.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return e=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,w.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var t=this;this.sprite.rotation=0,w.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:g.f.easeNone,onComplete:function(){t.rotate()}})}}])&&O(e.prototype,n),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.b),C=n(11),E=n.n(C);function M(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}f.a.registerPlugin(c.a),c.b.registerPlugin(s.b),c.b.registerPlugin(l.c);var D,L,N=[],I={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,levels:[],messages:[],material:void 0},W=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o={width:e,height:n,autoDensity:!0,resolution:2};I.originalWidth=e,I.originalHeight=n,T=new f.a(o),document.body.appendChild(T.view),d.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,T.view.style.left="0%",T.view.style.top="0%",T.view.style.width="100%",T.view.style.height="100%",T.renderer.plugins.interaction,T.stage.interactive=!0,T.ticker.maxFPS=60;var i=new b.b;T.stage.addChild(i),B=new E.a.World({gravity:[0,-10]}),this.initContactListener();var a=new C.Material;I.material=a,B.addContactMaterial(new C.ContactMaterial(a,a,{restitution:0})),B.emitImpactEvent=!1,T.ticker.add((function(){I.paused||(B.step(1/60,.1,3),B.bodies.forEach((function(t){var e=t.userData;if(e&&e.transform){var n=t.position;e.position.set(50*n[0],50*n[1]),e.rotation=t.angle}})),r.customLogic())})),this.start(T,i),(L=new _(e,n)).hide(),i.addChild(L)}var e,n,r,o,i;return e=t,(n=[{key:"customLogic",value:function(){N.forEach((function(t){return B.removeBody(t)})),this.clearBodyArray()}},{key:"clearBodyArray",value:function(){N=[]}},{key:"start",value:(o=regeneratorRuntime.mark((function t(e,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new b.b,n.addChild(r),o=new b.b,n.addChild(o),D=new y(o),t.next=7,this.load();case 7:i=v.a.from(d.Texture.from("back1.png")),r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var t=a(),n=t.width,i=t.height;e.renderer.resize(n,i);var u=n/i>I.originalWidth/I.originalHeight?n/I.originalWidth:i/I.originalHeight;r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),I.realHeight=i,L.height=i,L.scale.x=L.scale.y;var c=i/I.originalHeight;I.scale=c,o.scale.set(c,c),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),L.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 14:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){M(i,n,r,a,u,"next",t)}function u(t){M(i,n,r,a,u,"throw",t)}a(void 0)}))},function(t,e){return i.apply(this,arguments)})}])&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function F(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){z(i,r,o,a,u,"next",t)}function u(t){z(i,r,o,a,u,"throw",t)}a(void 0)}))}}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,i,a,u,c,s,l,f,p,h;return e=t,(n=[{key:"showGlobalLeaders",value:function(t){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(h=F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(t){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(t){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=F(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(t,e){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=F(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}}),t)}))),function(t,e){return s.apply(this,arguments)})},{key:"setScore",value:(c=F(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"getScore",value:(u=F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",0);case 1:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:!0,language:"en",gameKey:"",secretKey:""});case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=F(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var U;function G(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function V(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){G(i,r,o,a,u,"next",t)}function u(t){G(i,r,o,a,u,"throw",t)}a(void 0)}))}}!function(t){t[t.RewardedVideo=2]="RewardedVideo",t[t.Interstitial=4]="Interstitial"}(U||(U={}));var K,X=function(){try{return localStorage}catch(t){return}},J=!0,q=function(){var t=V(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){(K=new Y)&&K.init().then((function(e){t(e)})).catch((function(t){$o({error:"initSocial"}),e()}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=V(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=X())||void 0===r||r.setItem(e,n),t.next=3,K.setStorageData(e,n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Q=function(){var t=V(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.getStorageData(e,n);case 2:return(r=t.sent)===n&&(r=(null===(o=X())||void 0===o?void 0:o.getItem(e))||n),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Z=function(){var t=V(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,L&&L.show(),r=u.muteMusic,o=u.muteSounds,u.muteMusic=!0,u.muteSounds=!0,t.t0=e,t.next=t.t0===U.Interstitial?9:t.t0===U.RewardedVideo?13:17;break;case 9:return t.next=11,K.showInter();case 11:return n=!0,t.abrupt("break",17);case 13:return t.next=15,K.showReward();case 15:return n=t.sent,t.abrupt("break",17);case 17:return J=!1,L&&L.hide(),u.muteMusic=r,u.muteSounds=o,t.abrupt("return",n);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=V(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",K.finishLoading());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),et=function(){K.gameplayStart()};function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ut(t);if(e){var o=ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return at(this,n)}}function at(t,e){if(e&&("object"===nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ut(t){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ot(t,e)}(i,t);var e,n,r,o=it(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,n&&rt(e.prototype,n),r&&rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(b.b);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ft(){return(ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=pt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function pt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vt(t)););return t}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vt(t);if(e){var o=vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dt(this,n)}}function dt(t,e){if(e&&("object"===st(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bt(t)}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ht(t,e)}(i,t);var e,n,r,o=yt(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),mt(bt(n=o.call(this)),"normalTexture",void 0),mt(bt(n),"downTexture",void 0),mt(bt(n),"isDisabled",!1),mt(bt(n),"isDown",void 0),mt(bt(n),"btn",void 0),n.normalTexture=""===t?m.db.WHITE:m.db.from(t),n.downTexture=""===t?m.db.WHITE:m.db.from(e),n.btn=v.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(bt(n))).on("pointerup",n.onButtonUp.bind(bt(n))).on("pointerupoutside",n.onButtonUp.bind(bt(n))).on("pointerout",n.onButtonOut.bind(bt(n))),n.disabled=!1,n}return e=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(t){this.isDisabled||(u.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(t){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),ft(vt(i.prototype),"destroy",this).call(this,t)}}])&&lt(e.prototype,n),r&&lt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.b);function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rt(t);if(e){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pt(this,n)}}function Pt(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jt(t)}function jt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}(i,t);var e,n,r,o=xt(i);function i(t,e,n,r){var a,u,c,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a=o.call(this,"",""),u=jt(a),s=void 0,(c="txt")in u?Object.defineProperty(u,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[c]=s,a.txt=new d.Text(t,{fontFamily:"Arial",fontSize:e,fill:r}),a.txt.anchor.set(.5,.5),a.addChild(a.txt),a.btn.tint=n,a.btn.width=a.txt.width+100,a.btn.height=a.txt.height+50,a}return e=i,(n=[{key:"text",set:function(t){this.txt.text=t}}])&&kt(e.prototype,n),r&&kt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(wt);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=At(t);if(e){var o=At(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Et(this,n)}}function Et(t,e){if(e&&("object"===Bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Mt(t)}function Mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(i,t);var e,n,r,o=Ct(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Dt(Mt(e=o.call(this)),"body",void 0),Dt(Mt(e),"shape",void 0),Dt(Mt(e),"type",void 0),Dt(Mt(e),"view",void 0),e.type=t,e.view=e.createView(),e.view.anchor.set(.5,.5),e.addChild(e.view),e}return e=i,(n=[{key:"createBody",value:function(t){this.view.alpha=1;var e=[this.position.x/50,this.position.y/50];this.shape=this.createShape(),this.body=new C.Body({type:t,position:e,mass:5,damping:0,angularDamping:0}),this.body.addShape(this.shape),B.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){this.destroyBody(),this.parent&&this.parent.removeChild(this)}},{key:"destroyBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(t?B.removeBody(this.body):N.push(this.body),this.body=void 0)}}])&&Tt(e.prototype,n),r&&Tt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(b.b),Nt=n(198);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(){return(Ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ht(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Ht(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kt(t)););return t}function Yt(t,e){return(Yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kt(t);if(e){var o=Kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(t,e){if(e&&("object"===It(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vt(t)}function Vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(i,t);var e,n,r,o=Ut(i);function i(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Wt(this,i),Xt(Vt(r=o.call(this,n)),"sameColorNeighbors",new Map),Xt(Vt(r),"stepsAmount",3),Xt(Vt(r),"steps",1),Xt(Vt(r),"_kinematic",!1),Xt(Vt(r),"busy",!1),Xt(Vt(r),"sensorShape",void 0),n===i.rainbowType&&(r.stepsAmount=10),r.position.set(t,e),a&&r.createBody(C.Body.DYNAMIC),r}return e=i,(n=[{key:"kinematic",get:function(){return this._kinematic},set:function(t){this._kinematic=t,this.filters=t?[new Nt.a({color:6677759,quality:.5,outerStrength:2})]:[]}},{key:"createBody",value:function(t){Ft(Kt(i.prototype),"createBody",this).call(this,t),this.sensorShape=new C.Circle({radius:(this.getRadius()+5)/50}),this.sensorShape.sensor=!0,this.sensorShape.material=I.material,this.sensorShape.data=!0,this.body.addShape(this.sensorShape)}},{key:"animateAndDestroy",value:function(){var t=this;w.a.killTweensOf(this.view.scale),w.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),this.destroyBody()}},{key:"clean",value:function(){this.busy=!1,Ft(Kt(i.prototype),"clean",this).call(this)}},{key:"boom",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.increase(this.stepsAmount-this.steps,t)}},{key:"getRadius",value:function(){return 35}},{key:"createView",value:function(){var t=new d.Sprite(d.Texture.from("".concat(this.type,".png")));return t.scale.set(.5,.5),t}},{key:"createShape",value:function(){var t=new C.Circle({radius:this.getRadius()/50});return t.material=I.material,t}},{key:"correctType",value:function(){return 0!==this.type&&this.type<20}},{key:"increase",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.busy&&this.body)if(this.busy=!0,t+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=t,this.steps>=this.stepsAmount)w.a.killTweensOf(this.view.scale),this.sameColorNeighbors.forEach((function(t,r){r!==e&&r.increase(e.stepsAmount-r.steps,n)})),w.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody(n);else{var r=i.scaleFactor*this.steps;w.a.to(this.view.scale,{x:r,y:r,duration:.2,onUpdate:function(){e.shape.radius=e.getRadius()/i.scaleFactor*e.view.scale.x/50,e.shape.updateBoundingRadius(),e.sensorShape.radius=(e.getRadius()+5)/i.scaleFactor*e.view.scale.x/50,e.sensorShape.updateBoundingRadius(),e.body.updateBoundingRadius(),e.body.updateMassProperties(),e.busy=!1}})}}}])&&zt(e.prototype,n),r&&zt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Lt);Xt(Jt,"goalType",1e3),Xt(Jt,"endType",500),Xt(Jt,"rainbowType",250),Xt(Jt,"scaleFactor",.5);var qt=n(1);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zt(t,e){return(Zt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ne(t);if(e){var o=ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ee(this,n)}}function ee(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zt(t,e)}(i,t);var e,n,r,o=te(i);function i(t,e,n,r,a){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,0)).position.set(t,e),u.view.width=n,u.view.height=r,u.createBody(C.Body.STATIC),u.body.mass=0,u.body.angle=qt.b*a,u}return e=i,(n=[{key:"createShape",value:function(){return new C.Box({width:this.view.width/50,height:this.view.height/50})}},{key:"createView",value:function(){var t=new v.a(d.Texture.WHITE);return t.anchor.set(.5),t.tint=0,t.visible=!1,t.alpha=0,t}},{key:"animateAndDestroy",value:function(){var t=this;w.a.killTweensOf(this.view.scale),w.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),this.destroyBody()}}])&&Qt(e.prototype,n),r&&Qt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Lt);function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ae(t,e){return(ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=se(t);if(e){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(t,e){if(e&&("object"===oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function se(t){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ae(t,e)}(i,t);var e,n,r,o=ue(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this);var e=new d.Graphics;return e.beginFill(16711680,1),e.drawCircle(0,0,70),t.addChild(e),t.scale.set(0,0),t.animate(),t}return e=i,(n=[{key:"animate",value:function(){var t=this;w.a.to(this.scale,{x:1.5,y:1.5,duration:.3,onComplete:function(){t.destroy()}}),w.a.to(this,{alpha:0,delay:.12,duration:.18})}}])&&ie(e.prototype,n),r&&ie(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(d.Container);function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function de(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=me(t);if(e){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(t,e){if(e&&("object"===fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ve(t)}function ve(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function we(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ye(t,e)}(u,t);var e,n,r,o,i,a=de(u);function u(t,e,n,r){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),we(ve(o=a.call(this,0)),"rocket",!0),we(ve(o),"startX",void 0),we(ve(o),"startY",void 0),we(ve(o),"endX",void 0),we(ve(o),"endY",void 0),o.startX=t,o.startY=e,o.endX=n,o.endY=r,o.position.set(t,e),t!==n&&(o.view.angle=90),o.createBody(C.Body.KINEMATIC),o}return e=u,(n=[{key:"createShape",value:function(){var t=new C.Box({width:2,height:2});return t.sensor=!0,t}},{key:"createView",value:function(){return new d.Sprite(d.Texture.from("rocket1.png"))}},{key:"animate",value:(o=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n={x:e.startX,y:e.startY};w.a.to(n,{x:e.endX,y:e.endY,duration:1,ease:g.b.easeIn,onComplete:function(){e.clean(),t()},onUpdate:function(){e.body.position=[n.x/50,n.y/50]}})})));case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){pe(i,n,r,a,u,"next",t)}function u(t){pe(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&he(e.prototype,n),r&&he(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(Lt);function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pe(){return(Pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=je(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function je(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_e(t)););return t}function Re(t,e){return(Re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_e(t);if(e){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(t,e){if(e&&("object"===ke(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Te(t)}function Te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _e(t){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ce(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ee=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Re(t,e)}(i,t);var e,n,r,o=Se(i);function i(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Oe(this,i),Ce(Te(r=o.call(this,t,e,n,a)),"delay",void 0),r}return e=i,(n=[{key:"resetDeathCounter",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0)}},{key:"startCountDeath",value:function(){var t=this;this.delay||(this.delay=w.a.delayedCall(4,(function(){t.delay=void 0,t.emit("gameover")})))}},{key:"destroyBody",value:function(t){this.resetDeathCounter(),this.off("gameover"),Pe(_e(i.prototype),"destroyBody",this).call(this,t)}},{key:"createView",value:function(){return new d.Sprite(d.Texture.from("hero.png"))}},{key:"getRadius",value:function(){return 50}}])&&xe(e.prototype,n),r&&xe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Jt);function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e){return(De=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=We(t);if(e){var o=We(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(t,e){if(e&&("object"===Me(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ze(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}(i,t);var e,n,r,o=Le(i);function i(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ze(Ie(r=o.call(this,t.toString(),30,e,n)),"id",void 0),ze(Ie(r),"a",void 0),r.a=t,r}return e=i,(n=[{key:"amount",get:function(){return this.a},set:function(t){this.a=t,this.text=this.a.toString()}}])&&Ae(e.prototype,n),r&&Ae(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(St);function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ue(t,e){return(Ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xe(t);if(e){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ve(this,n)}}function Ve(t,e){if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ke(t)}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Je(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e)}(i,t);var e,n,r,o=Ge(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Je(Ke(t=o.call(this)),"bar",void 0),Je(Ke(t),"barMask",void 0),Je(Ke(t),"initialWidth",420),Je(Ke(t),"isFrozen",void 0),Je(Ke(t),"delay",void 0),Je(Ke(t),"bell",void 0);var e=new d.NineSlicePlane(d.Texture.from("progress_back.png"),30,25,30,25);return e.width=t.initialWidth,t.addChild(e),t.bar=new d.NineSlicePlane(d.Texture.from("progress_bar.png"),30,25,30,25),t.bar.width=t.initialWidth,t.addChild(t.bar),t.barMask=new d.Sprite(d.Texture.WHITE),t.barMask.width=0,t.barMask.height=t.bar.height,t.addChild(t.barMask),t.bar.mask=t.barMask,t.bell=new d.AnimatedSprite([d.Texture.from("bell0.png"),d.Texture.from("bell1.png")],!0),t.bell.animationSpeed=.1,t.bell.anchor.set(.5,.5),t.bell.position.set(440,21),t.addChild(t.bell),t.bell.loop=!0,t}return e=i,(n=[{key:"setProgress",value:function(t){var e=this;this.barMask.width=this.initialWidth*t,1===t&&(this.bell.play(),w.a.delayedCall(2,(function(){e.bell.gotoAndStop(0)})))}},{key:"unFreeze",value:function(){this.isFrozen=!1}},{key:"freeze",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.isFrozen=!0,this.delay&&this.delay.kill(),-1!==e&&(this.delay=w.a.delayedCall(e,(function(){t.isFrozen=!1})))}},{key:"clear",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0),this.isFrozen=!1}}])&&Ye(e.prototype,n),r&&Ye(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(d.Container);function $e(t){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ze(t,e){return(Ze=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rn(t);if(e){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return en(this,n)}}function en(t,e){if(e&&("object"===$e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return nn(t)}function nn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var an,un=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(i,t);var e,n,r,o=tn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),on(nn(t=o.call(this)),"bar",void 0),on(nn(t),"max",void 0),on(nn(t),"current",void 0),on(nn(t),"initialWidth",420),on(nn(t),"barMask",void 0);var e=new d.NineSlicePlane(d.Texture.from("progress_back.png"),30,25,30,25);return e.width=t.initialWidth,t.addChild(e),t.bar=new d.NineSlicePlane(d.Texture.from("progress_bar.png"),30,25,30,25),t.bar.width=t.initialWidth,t.addChild(t.bar),t.barMask=new d.Sprite(d.Texture.WHITE),t.barMask.width=0,t.barMask.height=t.bar.height,t.addChild(t.barMask),t.bar.mask=t.barMask,t.current=0,t.max=10,t}return e=i,(n=[{key:"maximum",set:function(t){this.max=t}},{key:"update",value:function(t){0===t?this.current=0:t<3?t=0:(this.current+=t,this.current=Math.min(this.current,this.max));var e=this.current>=this.max;return w.a.killTweensOf(this.barMask),w.a.to(this.barMask,{width:this.initialWidth*(this.current/this.max),duration:.2}),e&&(this.current=0,w.a.to(this.barMask,{width:0,delay:.2,duration:.2})),e}}])&&Qe(e.prototype,n),r&&Qe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(d.Container);function cn(t){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sn(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function ln(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){sn(i,r,o,a,u,"next",t)}function u(t){sn(i,r,o,a,u,"throw",t)}a(void 0)}))}}function fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bn(t);if(e){var o=bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yn(this,n)}}function yn(t,e){if(e&&("object"===cn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dn(t)}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bn(t){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.None=0]="None",t[t.CrazySheep=1]="CrazySheep",t[t.Alien=2]="Alien",t[t.RainbowBall=3]="RainbowBall",t[t.Magic=4]="Magic",t[t.All=5]="All"}(an||(an={}));var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pn(t,e)}(u,t);var e,n,r,o,i,a=hn(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),vn(dn(t=a.call(this)),"bonus",void 0),vn(dn(t),"bell",void 0),vn(dn(t),"txt",void 0),t.bell=new d.AnimatedSprite([d.Texture.from("bell0.png"),d.Texture.from("bell1.png")],!0),t.bell.animationSpeed=.1,t.bell.anchor.set(.5,.5),t.addChild(t.bell),t.bell.loop=!0,t.txt=new d.Text("",{fontSize:25,fill:0,align:"right"}),t.txt.anchor.set(1,.5),t.txt.position.set(-55,7),t.addChild(t.txt),t}return e=u,(n=[{key:"show",value:(i=ln(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.bonus=e,this.visible=!0,n="",t.t0=e,t.next=t.t0===an.CrazySheep?6:t.t0===an.Alien?8:t.t0===an.RainbowBall?10:t.t0===an.Magic?12:14;break;case 6:return n="Crazy Sheep",t.abrupt("break",14);case 8:return n="Unexpected Guest",t.abrupt("break",14);case 10:return n="Rainbow Ball",t.abrupt("break",14);case 12:return n="Some Magic is here!",t.abrupt("break",14);case 14:return this.bell.play(),this.txt.text=n,this.delay(2).then((function(){r.txt.text="",r.bell.gotoAndStop(0)})),t.next=19,this.delay(2);case 19:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"hide",value:function(){this.visible=!1}},{key:"delay",value:(o=ln(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){w.a.delayedCall(e,(function(){t()}))})));case 1:case"end":return t.stop()}}),t)}))),function(t){return o.apply(this,arguments)})}])&&fn(e.prototype,n),r&&fn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(d.Container);function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jn(t);if(e){var o=jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(t,e){if(e&&("object"===wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pn(t)}function Pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kn(t,e)}(i,t);var e,n,r,o=On(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Rn(Pn(t=o.call(this)),"back",void 0),Rn(Pn(t),"blocks",void 0),Rn(Pn(t),"startX",void 0),Rn(Pn(t),"startY",void 0),Rn(Pn(t),"txt",void 0),t.blocks=[],t.back=new d.NineSlicePlane(d.Texture.from("top_back.png"),46,50,46,50),t.back.width=.96*I.originalWidth,t.back.height=300,t.back.position.set(.5*-t.back.width,0),t.addChild(t.back),t.txt=new d.Text("From: Leopold",{fontSize:25,fill:0,fontWeight:"bold",align:"left"}),t.txt.anchor.set(0,.5),t.txt.position.set(.5*-t.back.width+40,30),t.addChild(t.txt),t.clear(),t}return e=i,(n=[{key:"setLines",value:function(t,e){this.txt.text="From: "+e;var n=t.length;this.back.height=75*n+70,this.startX=-300,this.startY=95;for(var r=0;r<n;r++){for(var o=this.startX,i=0;i<t[r].length;i++){var a=new Jt(o,this.startY,t[r][i],!1);this.addBlock(a),o+=74}this.startY+=70}}},{key:"addBlock",value:function(t){this.blocks.push(t),this.addChild(t),t.visible=!1}},{key:"show",value:function(){this.blocks.forEach((function(t){t.visible=!0}))}},{key:"clear",value:function(){var t=this;this.blocks.forEach((function(e){t.removeChild(e)})),this.blocks=[]}}])&&gn(e.prototype,n),r&&gn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(d.Container);function Bn(t){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cn(t,e){return(Cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dn(t);if(e){var o=Dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(t,e){if(e&&("object"===Bn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return An(t)}function An(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dn(t){return(Dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ln(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Nn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cn(t,e)}(i,t);var e,n,r,o=En(i);function i(){var t;Tn(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ln(An(t=o.call.apply(o,[this].concat(n))),"bound",new d.Rectangle),t}return e=i,(n=[{key:"goOut",value:function(){}}])&&_n(e.prototype,n),r&&_n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(d.Container);function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zn(t,e){return(zn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Un(t);if(e){var o=Un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}function Hn(t,e){if(e&&("object"===In(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yn(t)}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zn(t,e)}(i,t);var e,n,r,o=Fn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Gn(Yn(e=o.call(this)),"ball",void 0),Gn(Yn(e),"tween",void 0),e.ball=d.Sprite.from(d.Texture.from("250.png")),e.ball.anchor.set(.5,.5),e.ball.scale.set(1,1),e.ball.position.set(-500,t),e.addChild(e.ball),e}return e=i,(n=[{key:"start",value:function(t){var e=this;this.tween=w.a.to(this.ball,{x:500,duration:1,ease:g.f.easeNone,onUpdate:function(){e.ball.angle+=5},onComplete:function(){t()}})}},{key:"clean",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0)}},{key:"activeBound",get:function(){return this.tween?(this.bound.x=(this.ball.x-.5*this.ball.width)/50,this.bound.y=(this.ball.y-.5*this.ball.height)/50,this.bound.width=this.ball.width/50,this.bound.height=this.ball.height/50,[this.bound]):void 0}}])&&Wn(e.prototype,n),r&&Wn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Nn);function Kn(t){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jn(t,e){return(Jn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zn(t);if(e){var o=Zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $n(this,n)}}function $n(t,e){if(e&&("object"===Kn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jn(t,e)}(i,t);var e,n,r,o=qn(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),tr(Qn(t=o.call(this)),"sheep",void 0),tr(Qn(t),"tween",void 0),t.sheep=d.Sprite.from(d.Texture.from("sheep.png")),t.sheep.anchor.set(.5,.5),t.sheep.scale.set(1,1),t.sheep.position.set(700*Math.random()-350,-800),t.addChild(t.sheep),t}return e=i,(n=[{key:"activeBound",get:function(){return this.tween?(this.bound.x=(this.sheep.x-.5*this.sheep.width)/50,this.bound.y=(this.sheep.y-.5*this.sheep.height)/50,this.bound.width=this.sheep.width/50,this.bound.height=this.sheep.height/50,[this.bound]):void 0}},{key:"start",value:function(t){var e=this,n=800*Math.random()-400;this.tween=w.a.to(this.sheep,{y:n,duration:1.5,ease:g.f.easeNone,onComplete:function(){e.tween=w.a.to(e.sheep,{x:600,duration:1.6,ease:g.f.easeNone,onComplete:function(){t()}})}})}},{key:"clean",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0)}}])&&Xn(e.prototype,n),r&&Xn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Nn);function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cr(t);if(e){var o=cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ar(this,n)}}function ar(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ur(t)}function ur(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cr(t){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&or(t,e)}(i,t);var e,n,r,o=ir(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),sr(ur(e=o.call(this)),"alienRight",void 0),sr(ur(e),"alienLeft",void 0),sr(ur(e),"tween",void 0),sr(ur(e),"step",void 0),sr(ur(e),"callback",void 0),sr(ur(e),"getPoint",void 0),sr(ur(e),"points",void 0),e.getPoint=t,e.step=0,e.points=[],e.alienRight=d.Sprite.from(d.Texture.from("alien.png")),e.alienRight.anchor.set(1,.5),e.alienRight.position.set(600,0),e.addChild(e.alienRight),e.alienLeft=d.Sprite.from(d.Texture.from("alien.png")),e.alienLeft.anchor.set(1,.5),e.alienLeft.scale.set(-1,1),e.alienLeft.position.set(-600,0),e.addChild(e.alienLeft),e}return e=i,(n=[{key:"activeBound",get:function(){if(this.points.length>0){for(var t=[],e=0;e<this.points.length;e++){var n=this.points[e];t.push(new d.Rectangle(n[0]-1,n[1]-1,2,2))}return this.points=[],this.playDelay(),t}}},{key:"start",value:function(t){var e=this;this.callback=t,w.a.to(this.alienLeft,{x:-350,duration:.6,ease:g.f.easeNone,onComplete:function(){e.playJump()}}),w.a.to(this.alienRight,{x:350,duration:.5,ease:g.f.easeNone,onComplete:function(){e.playJump()}})}},{key:"goOut",value:function(){var t=this;return new Promise((function(e){w.a.to(t.alienLeft,{x:-600,duration:.2,ease:g.f.easeNone,onComplete:function(){e()}}),w.a.to(t.alienRight,{x:600,duration:.2,ease:g.f.easeNone})}))}},{key:"clean",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0),this.callback=void 0,this.getPoint=void 0}},{key:"playDelay",value:function(){var t=this;w.a.delayedCall(.1,(function(){return t.playJump()}))}},{key:"playJump",value:function(){var t=this;if(this.step<10&&this.getPoint){var e=this.getPoint();if(!e)return void(this.callback&&this.callback());var n=d.Sprite.from(d.Texture.from("alien_acid.png"));n.anchor.set(.5,.5),this.addChild(n);var r=this.step%2==0?1:-1;n.scale.set(.7*r,.7),n.position.set(300*r,-40),n.visible=!0,this.step++,this.tween=w.a.to(n,{x:50*e[0],y:50*e[1],duration:.3,ease:g.d.easeIn,onComplete:function(){t.points.push(e),n.visible=!1;var r=d.Sprite.from(d.Texture.from("splash.png"));r.anchor.set(.5,.5),r.position.copyFrom(n.position),t.addChild(r),w.a.to(r,{alpha:0,duration:1,ease:g.f.easeNone}),w.a.to(r.scale,{y:1.5,duration:1,ease:g.f.easeNone,onComplete:function(){t.removeChild(r)}})}})}else this.callback&&this.callback()}}])&&rr(e.prototype,n),r&&rr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Nn);function fr(t){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hr(t,e){return(hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vr(t);if(e){var o=vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dr(this,n)}}function dr(t,e){if(e&&("object"===fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return br(t)}function br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vr(t){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e)}(i,t);var e,n,r,o=yr(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),mr(br(t=o.call(this)),"wizard",void 0),mr(br(t),"tween",void 0),t.wizard=d.Sprite.from(d.Texture.from("wizard.png")),t.wizard.anchor.set(.5,.5),t.wizard.scale.set(1,1),t.wizard.position.set(0,1e3),t.addChild(t.wizard),t}return e=i,(n=[{key:"start",value:function(t){this.tween=w.a.to(this.wizard,{y:200,duration:1.5,ease:g.d.easeOut,onComplete:function(){t()}})}},{key:"clean",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0)}},{key:"activeBound",get:function(){}},{key:"goOut",value:function(){var t=this;return new Promise((function(e){w.a.to(t.wizard,{y:1e3,duration:.2,ease:g.f.easeNone,onComplete:function(){e()}})}))}}])&&pr(e.prototype,n),r&&pr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Nn);function gr(t){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Or(t,e){return(Or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jr(t);if(e){var o=jr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(t,e){if(e&&("object"===gr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rr,Sr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Or(t,e)}(i,t);var e,n,r,o=xr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this,"levelItem_right0","levelItem_right1"),t.anchor.set(.5,.5),e.addChild(t),e}return e=i,n&&kr(e.prototype,n),r&&kr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(wt);function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function _r(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Tr(i,r,o,a,u,"next",t)}function u(t){Tr(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mr(t,e){return(Mr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nr(t);if(e){var o=Nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dr(this,n)}}function Dr(t,e){if(e&&("object"===Br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Lr(t)}function Lr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nr(t){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ir(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.None=0]="None",t[t.Kill=1]="Kill",t[t.Freeze=2]="Freeze",t[t.RocketUp=3]="RocketUp",t[t.RocketLeft=4]="RocketLeft",t[t.All=5]="All"}(Rr||(Rr={}));var Wr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mr(t,e)}(m,t);var e,n,r,o,i,a,u,c,s,l,f,p,h,y,b,v=Ar(m);function m(){var t;Cr(this,m);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ir(Lr(t=v.call.apply(v,[this].concat(n))),"moveBox",void 0),Ir(Lr(t),"staticBox",void 0),Ir(Lr(t),"bottomOpenWall",void 0),Ir(Lr(t),"activeBlock",void 0),Ir(Lr(t),"maxY",void 0),Ir(Lr(t),"tick",0),Ir(Lr(t),"moving",void 0),Ir(Lr(t),"isActivePowerup",void 0),Ir(Lr(t),"preview",void 0),Ir(Lr(t),"mousePressed",void 0),Ir(Lr(t),"nextLines",void 0),Ir(Lr(t),"previewBlocks",void 0),Ir(Lr(t),"nextType",void 0),Ir(Lr(t),"nextBlock",void 0),Ir(Lr(t),"isTransition",void 0),Ir(Lr(t),"powerup1",void 0),Ir(Lr(t),"powerup2",void 0),Ir(Lr(t),"powerups",void 0),Ir(Lr(t),"powerupButtons",void 0),Ir(Lr(t),"nextTimer",void 0),Ir(Lr(t),"randomBodiesPositions",void 0),Ir(Lr(t),"activeBonus",void 0),Ir(Lr(t),"boomMeter",void 0),Ir(Lr(t),"bonusChooser",void 0),Ir(Lr(t),"pad",void 0),Ir(Lr(t),"padRect",void 0),Ir(Lr(t),"topRect",void 0),Ir(Lr(t),"levelId",void 0),Ir(Lr(t),"meterBonus",void 0),t}return e=m,(n=[{key:"create",value:function(){var t=this;this.pad=new d.Sprite(d.Texture.from("launchpad.png")),this.pad.anchor.set(.5,1),this.pad.position.y=.5*I.originalHeight-30,this.addChild(this.pad);var e=new d.NineSlicePlane(d.Texture.from("phone.png"),104,100,104,100);e.width=I.originalWidth+50,e.height=I.originalHeight+40,e.position.set(.5*-e.width,.5*-e.height),this.addChild(e);var n=new d.Container;n.position.set(0,.5*-I.originalHeight+40),this.addChild(n);var r=new d.NineSlicePlane(d.Texture.from("top_back.png"),46,50,46,50);r.width=.93*I.originalWidth,r.position.set(.5*-r.width,0),n.addChild(r);var o=new Sr(new d.Sprite(d.Texture.from("pause_button.png")));o.position.set(-250,.5*r.height),o.on("pointerup",(function(){D.start(uo)})),n.addChild(o),this.powerup1=new Fe(0,0,16777215),this.powerup1.id=0,this.powerup1.position.set(-390,900),this.addChild(this.powerup1),this.powerup1.on("pointerup",(function(){t.startPowerup(t.powerup1.id)})),this.powerup2=new Fe(0,16711680,0),this.powerup2.id=1,this.powerup2.position.set(-265,900),this.addChild(this.powerup2),this.powerup2.on("pointerup",(function(){t.startPowerup(t.powerup2.id)})),this.powerupButtons=[],this.powerupButtons.push(this.powerup1),this.powerupButtons.push(this.powerup2),this.preview=new d.Graphics,this.addChild(this.preview),this.previewBlocks=new Sn,this.addChild(this.previewBlocks),this.previewBlocks.y=-900-this.previewBlocks.height;var i=new d.Graphics;i.lineStyle(4,0,.3),i.moveTo(-400,500),i.lineTo(400,500),this.addChild(i),this.nextTimer=new qe,this.nextTimer.position.set(-170,-667),this.boomMeter=new un,this.boomMeter.position.set(-170,-667),this.boomMeter.alpha=0,this.bonusChooser=new mn,this.bonusChooser.position.set(270,-648),this.bonusChooser.alpha=0,this.padRect=new d.Rectangle(-140,610,280,150),this.topRect=new d.Rectangle(.5*-I.originalWidth,.5*-I.originalHeight,I.originalWidth,180)}},{key:"start",value:(b=_r(regeneratorRuntime.mark((function t(){var e,n,r,o,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(et(),e=i.length,n=new Array(e),r=0;r<e;r++)n[r]=i[r];for(this.levelId=n[0][0],this.activeBonus=an.None,this.randomBodiesPositions=[],this.powerups=[2,3],o=0;o<this.powerupButtons.length;o++)this.powerupButtons[o].amount=this.powerups[o];return this.isTransition=!1,this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.generateLineBlocks(),this.tick=0,this.maxY=-800,this.moving=!1,qo("start","game","level"),Xo(zo.Start),I.paused=!1,t.next=20,this.generateStartBlocks();case 20:this.addChild(this.nextTimer),this.boomMeter.maximum=this.currentLevelData.boomMeter,this.addChild(this.boomMeter),this.addActiveBlock(),this.addChild(this.bonusChooser),T.stage.on("pointerup",this.onClick,this),T.stage.on("pointerdown",this.onTapStart,this),d.Ticker.shared.add(this.update,this);case 28:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"updateBoomMeter",value:(y=_r(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTransition&&!this.activeBonus){t.next=2;break}return t.abrupt("return");case 2:this.boomMeter.update(e)&&(n=this.getRandomBonus(),this.bonusChooser.show(n),this.setActiveBonus(this.bonusChooser.bonus));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"currentLevelData",get:function(){return I.levels[this.levelId]}},{key:"setActiveBonus",value:function(t){var e=this;switch(this.activeBonus=t,t){case an.RainbowBall:this.meterBonus=this.createRainbowBallBonus();break;case an.CrazySheep:this.meterBonus=this.createCrazySheepBonus();break;case an.Alien:this.meterBonus=this.createAlienBonus();break;case an.Magic:this.meterBonus=this.createMagicBonus();break;default:return}this.addChild(this.meterBonus),this.meterBonus.start((function(n){e.doActionMeterBonus(t,n),e.clearMeterBonus(!1)}))}},{key:"doActionMeterBonus",value:function(t,e){if(t===an.Magic){var n=this.getRandomType();B.bodies.forEach((function(t){var e=t.userData;e&&e.type===n&&e.boom()}))}}},{key:"getRandomBonus",value:function(){var t=this.currentLevelData.bonuses;return t[Math.floor(Math.random()*t.length)]}},{key:"fireMissle",value:(h=_r(regeneratorRuntime.mark((function t(e,n){var r,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTransition){t.next=2;break}return t.abrupt("return");case 2:e=Math.min(e,this.randomBodiesPositions.length),r=regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=i.randomBodiesPositions[e])&&!i.isTransition){t.next=3;break}return t.abrupt("return","continue");case 3:return(o=new d.Sprite(d.Texture.from("rocket1.png"))).anchor.set(.5,.5),o.scale.set(.1,.1),o.position.copyFrom(n),o.rotation=Math.atan2(n.y-50*r[1],n.x-50*r[0])-Math.PI/2,i.addChild(o),w.a.to(o.scale,{x:1,y:1,duration:.4,ease:g.f.easeNone}),w.a.to(o.scale,{x:0,y:0,delay:.4,duration:.4,ease:g.f.easeNone}),w.a.to(o.position,{x:50*r[0],y:50*r[1],duration:.8,ease:g.f.easeNone,onComplete:function(){i.createExplosion(o.position),Ho.push(r),i.removeChild(o)}}),t.next=14,i.delay(.2);case 14:case"end":return t.stop()}}),t)})),o=0;case 6:if(!(o<e)){t.next=14;break}return t.delegateYield(r(o),"t0",8);case 8:if("continue"!==t.t0){t.next=11;break}return t.abrupt("continue",11);case 11:o++,t.next=6;break;case 14:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"createExplosion",value:function(t){var e=new le;e.position.copyFrom(t),this.addChild(e)}},{key:"clearActiveBlocks",value:function(){this.nextBlock&&(this.pad.removeChild(this.nextBlock),this.nextBlock.clean()),this.activeBlock&&(this.removeChild(this.activeBlock),this.activeBlock.clean()),this.activeBlock=void 0,this.nextBlock=void 0,this.nextType=void 0}},{key:"stopBonuses",value:function(){this.activeBonus=an.None,this.clearActiveBlocks()}},{key:"levelComplete",value:function(){this.stopBonuses(),this.isTransition=!0,this.moving=!1,this.previewBlocks&&this.previewBlocks.clear(),this.bottomOpenWall&&this.bottomOpenWall.animateAndDestroy(),this.moveBox&&this.moveBox.animateAndDestroy(),this.staticBox&&this.staticBox.animateAndDestroy(),this.mousePressed=!1}},{key:"moveBalls",value:function(){var t=this;if(!this.isTransition){this.moving=!0;var e=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};this.previewBlocks.show(),w.a.to(this.previewBlocks,{y:-570,duration:1.1}),w.a.to(r,{y:(70*e-500)/50,delay:.1,duration:1,ease:g.f.easeNone,onUpdate:function(){t.moveBox.body?t.moveBox.body.position=[r.x,r.y]:w.a.killTweensOf(r)},onComplete:function(){t.moveBox.body.position=[0,-11.5],t.addLineBlocks(),t.generateLineBlocks(),w.a.to(t.previewBlocks,{y:-900-t.previewBlocks.height,duration:.5}),t.moving=!1}})}}},{key:"update",value:function(){var t=this;if(!I.paused){this.drawMouse();var e=this.meterBonus&&this.meterBonus.activeBound||void 0;this.maxY=-800;var n=!1,r=!1,o=void 0,i=[];if(this.randomBodiesPositions=[],B.bodies.forEach((function(a){var u=a.position;a.type===C.Body.KINEMATIC&&a!==t.moveBox.body&&(u[0]<-6.3||u[0]>6.3?(a.position=[u[0]<0?-6.3:6.3,u[1]],a.velocity[0]*=-1):(u[1]<-9.1||u[1]>(m.BottomPoint+10)/50)&&(a.position=[u[0],u[1]<-9.1?-9.1:(m.BottomPoint+10)/50],a.type=C.Body.DYNAMIC)),a.type===C.Body.DYNAMIC&&u[1]>-m.BottomPoint/50&&a.userData&&a.userData.type!==Jt.goalType&&t.randomBodiesPositions.push(a.position),!t.isTransition&&a.type===C.Body.DYNAMIC&&u[1]>t.maxY&&(t.maxY=u[1]),t.isTransition&&a.type===C.Body.DYNAMIC&&u[1]>-m.BottomPoint/50&&(n=!0),t.isTransition&&a.type===C.Body.DYNAMIC&&u[1]<3*-m.BottomPoint/50&&a.userData.clean(),a.type===C.Body.DYNAMIC&&a.userData&&a.userData.type===Jt.goalType&&(o=a.userData,!t.isTransition&&u[1]>9&&(r=!0)),!t.isTransition&&e&&a.type===C.Body.DYNAMIC&&a.userData&&a.userData.type!==Jt.goalType&&e.forEach((function(t){t.contains(u[0],u[1])&&i.push(a)}))})),o&&!r&&o.resetDeathCounter(),this.isTransition&&!n&&(this.nextTimer.clear(),this.boomMeter.update(0),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.moveToNextLevel(),this.createMoveWalls(),this.addChild(this.nextTimer),this.nextTimer.freeze(),this.generateNewBlocks().then((function(){t.generateLineBlocks(),t.addActiveBlock(),t.nextTimer.unFreeze()})),this.addChild(this.bonusChooser),this.isTransition=!1),!this.moving&&!this.isTransition){if(o&&r&&o.startCountDeath(),!this.nextTimer.isFrozen){this.tick+=1;var a=this.tick%this.currentLevelData.time;this.nextTimer.setProgress(a/this.currentLevelData.time),0===a&&(this.nextTimer.setProgress(1),i=[],this.moveBalls())}i.length>0&&i.forEach((function(t){t.userData.boom(!1)}))}}}},{key:"moveToNextLevel",value:function(){I.levels.length>this.levelId+1&&(this.currentLevelData.stars=3,$(this.currentLevelData.name,this.currentLevelData.stars.toString()),this.levelId+=1,this.currentLevelData.stars||(this.currentLevelData.stars=0,$(this.currentLevelData.name,this.currentLevelData.stars.toString()))),this.boomMeter.maximum=this.currentLevelData.boomMeter}},{key:"startPowerup",value:(p=_r(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.isActivePowerup||I.paused||this.isTransition||this.powerups[e]<=0)){t.next=2;break}return t.abrupt("return");case 2:this.isActivePowerup=!0,t.t0=e,t.next=0===t.t0?6:1===t.t0?9:12;break;case 6:return t.next=8,this.startVerticalRocket();case 8:return t.abrupt("break",12);case 9:return t.next=11,this.startHorizontalRocket();case 11:return t.abrupt("break",12);case 12:this.powerups[e]-=1,this.powerupButtons[e].amount=this.powerups[e],this.isActivePowerup=!1;case 15:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"startVerticalRocket",value:(f=_r(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=560*Math.random()-280,t.next=3,this.startRocket(e,m.BottomPoint,e,-450);case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"startHorizontalRocket",value:(l=_r(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=50*this.maxY+400,n=Math.random()*e-400,t.next=4,this.startRocket(-280,n,280,n);case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"startRocket",value:(s=_r(regeneratorRuntime.mark((function t(e,n,r,o){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new ge(e,n,r,o),this.addChild(i),t.next=4,i.animate();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return s.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextBlock&&this.pad.removeChild(this.nextBlock),this.nextType=-1!==t?t:this.getRandomType(),this.nextBlock=new Jt(-90,-20,this.nextType,!1),this.pad.addChild(this.nextBlock)}},{key:"getRandomType",value:function(){return Math.floor(Math.random()*this.currentLevelData.blocks)+1}},{key:"addActiveBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextType||(this.nextType=this.getRandomType()),this.activeBlock=new Jt(0,m.BottomPoint,this.nextType,!1),this.activeBlock.kinematic=!0,this.addChild(this.activeBlock),this.generateActiveBlock(t)}},{key:"switchBlockes",value:(c=_r(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.activeBlock.type,n=this.nextType,t.next=4,new Promise((function(t){w.a.to(r.nextBlock,{x:0,y:-50,duration:.2}),w.a.to(r.activeBlock,{x:-90,y:700,duration:.2,onComplete:function(){t()}})}));case 4:this.clearActiveBlocks(),this.nextType=n,this.addActiveBlock(e);case 7:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"drawMouse",value:function(){if(this.mousePressed){var t=m.BottomPoint,e=this.toLocal(T.renderer.plugins.interaction.eventData.data.global),n=Math.atan2(e.y-t,e.x);this.preview.clear(),this.preview.lineStyle(4,0,.7),this.preview.moveTo(0,t);var r=1200*Math.cos(n),o=t+1200*Math.sin(n);if(r<-315||r>315){var i=Math.abs(r)/r*315/Math.cos(n);r=i*Math.cos(n),o=t+i*Math.sin(n),this.preview.lineTo(r,o),r-=(1200-i)*Math.cos(-n),o-=(1200-i)*Math.sin(-n),this.preview.lineTo(r,o)}else this.preview.lineTo(r,o)}}},{key:"onTapStart",value:function(t){var e=this.toLocal(t.data.global);this.isTransition||I.paused||!this.activeBlock||this.isActivePowerup||this.topRect.contains(e.x,e.y)||(this.padRect.contains(e.x,e.y)?this.switchBlockes():(this.mousePressed=!0,this.drawMouse()))}},{key:"onClick",value:function(t){var e=this;this.preview.clear();var n=this.toLocal(t.data.global);if(!(this.isTransition||I.paused||!this.activeBlock||this.isActivePowerup||this.padRect.contains(n.x,n.y)||this.topRect.contains(n.x,n.y))){this.activeBlock.createBody(C.Body.DYNAMIC);var r=this.activeBlock;this.activeBlock=void 0;var o=Math.atan2((n.y-m.BottomPoint)/50,n.x/50);r.body.type=C.Body.KINEMATIC,r.body.velocity=[10*Math.cos(o),10*Math.sin(o)],this.mousePressed=!1,w.a.delayedCall(.2,(function(){e.addActiveBlock()}))}}},{key:"generateLineBlocks",value:function(){var t=this.currentLevelData.lines;this.previewBlocks.clear(),this.nextLines=[];for(var e=0;e<t;e++){this.nextLines[e]=[];for(var n=0;n<9;n++)this.nextLines[e][n]=Math.floor(Math.random()*this.currentLevelData.blocks)+1}this.previewBlocks.setLines(this.nextLines,this.currentLevelData.name)}},{key:"addLineBlocks",value:function(){for(var t,e=-500,n=0;n<this.nextLines.length;n++){t=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=new Jt(t,e,this.nextLines[n][r]);this.addChild(o),t+=74}e+=70}}},{key:"delay",value:(u=_r(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){w.a.delayedCall(e,(function(){t()}))})));case 1:case"end":return t.stop()}}),t)}))),function(t){return u.apply(this,arguments)})},{key:"generateNewBlocks",value:(a=_r(regeneratorRuntime.mark((function t(){var e,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.currentLevelData,n=e.startAmount,r=e.blocks,o=0;case 2:if(!(o<n)){t.next=11;break}return i=Math.floor(Math.random()*r)+1,a=new Jt(50*Math.random()-25,900,i),this.addChild(a),t.next=8,this.delay(.001);case 8:o++,t.next=2;break;case 11:return t.next=13,this.delay(1);case 13:return(u=new Ee(0,1100,Jt.goalType)).on("gameover",this.onGameOver),this.addChild(u),t.next=18,this.delay(1);case 18:this.createBottomExit();case 19:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"onGameOver",value:function(){D.start(Bo)}},{key:"generateStartBlocks",value:(i=_r(regeneratorRuntime.mark((function t(){var e,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.createMoveWalls(),e=new re(-400,-50,100,1800,0),this.addChild(e),n=new re(400,-50,100,1800,0),this.addChild(n),r=new re(-225,800,250,100,0),this.addChild(r),o=new re(225,800,250,100,0),this.addChild(o),i=new re(-150,1100,100,500,0),this.addChild(i),a=new re(150,1100,100,500,0),this.addChild(a),u=new re(0,1300,200,100,0),this.addChild(u),t.next=17,this.generateNewBlocks();case 17:I.started=!0;case 18:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"createMoveWalls",value:function(){this.moveBox=new re(0,-575,700,50,0),this.moveBox.type=Jt.endType,this.addChild(this.moveBox),this.staticBox=new re(0,-625,700,50,0),this.addChild(this.staticBox)}},{key:"createBottomExit",value:function(){this.bottomOpenWall=new re(0,800,200,100,0),this.addChild(this.bottomOpenWall)}},{key:"close",value:function(){T.stage.off("pointerup"),T.stage.off("pointerdown"),d.Ticker.shared.remove(this.update),this.moveBox&&this.moveBox.clean(),this.staticBox&&this.staticBox.clean(),this.bottomOpenWall&&this.bottomOpenWall.clean(),this.activeBlock&&this.activeBlock.clean(),this.tick=0,this.moving=!1,this.isActivePowerup=!1,this.preview.clear(),this.mousePressed=!1,this.previewBlocks&&this.previewBlocks.clear(),this.nextBlock&&this.nextBlock.clean(),B.bodies.forEach((function(t){t&&t.userData&&t.userData.clean()}))}},{key:"createRainbowBallBonus",value:function(){return new Vn(-400)}},{key:"createCrazySheepBonus",value:function(){return new er}},{key:"createMagicBonus",value:function(){return new wr}},{key:"createAlienBonus",value:function(){var t=this;return new lr((function(){if(!t.isTransition){var e=t.randomBodiesPositions[Math.floor(Math.random()*t.randomBodiesPositions.length)];return Math.abs(e[1])>=20&&(e=void 0),e}}))}},{key:"clearMeterBonus",value:(o=_r(regeneratorRuntime.mark((function t(){var e,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(n.length>0&&void 0!==n[0])||n[0],!this.meterBonus){t.next=6;break}if(e){t.next=5;break}return t.next=5,this.meterBonus.goOut();case 5:this.meterBonus&&(this.meterBonus.clean(),this.removeChild(this.meterBonus),this.meterBonus=void 0);case 6:this.activeBonus=an.None;case 7:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}])&&Er(e.prototype,n),r&&Er(e,r),Object.defineProperty(e,"prototype",{writable:!1}),m}(ct);Ir(Wr,"BottomPoint",670);var zr=n(199);function Fr(t){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yr(t,e){return(Yr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ur(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kr(t);if(e){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gr(this,n)}}function Gr(t,e){if(e&&("object"===Fr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vr(t)}function Vr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yr(t,e)}(i,t);var e,n,r,o=Ur(i);function i(t,e,n,r,a){var u,c,s,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),u=o.call(this,"",""),c=Vr(u),l=void 0,(s="id")in c?Object.defineProperty(c,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[s]=l,u.id=t,u.btn.anchor.set(0,0);var f=d.Sprite.from(d.Texture.from(r));f.position.set(10,10),u.addChild(f);var p=new d.Text(e,{fontFamily:"Arial",fontSize:40,fill:0,fontWeight:"bold"});p.position.set(120,10),u.addChild(p);var h=new d.Text(n,{fontFamily:"Arial",fontSize:33,fill:0});return h.position.set(120,5+p.height+15),u.addChild(h),u.btn.tint=a?13421772:16777215,u.btn.width=I.originalWidth-30,u.btn.height=5+p.height+20+h.height+5,f.height=f.width=u.btn.height-20,u}return e=i,n&&Hr(e.prototype,n),r&&Hr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(wt);function Jr(t){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function $r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qr(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function to(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eo(t,e){return(eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function no(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=io(t);if(e){var o=io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ro(this,n)}}function ro(t,e){if(e&&("object"===Jr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oo(t)}function oo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function io(t){return(io=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ao(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eo(t,e)}(u,t);var e,n,r,o,i,a=no(u);function u(){var t;Zr(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ao(oo(t=a.call.apply(a,[this].concat(n))),"scrollbox",void 0),t}return e=u,(n=[{key:"create",value:function(){var t=new d.Text("Chats",{fontFamily:"Arial",fontSize:75,fill:16777215,fontWeight:"bold"});t.position.set(.5*-I.originalWidth+30,.5*-I.originalHeight+40),this.addChild(t),this.scrollbox=new zr.a({boxWidth:I.originalWidth-30,boxHeight:I.originalHeight-160}),this.scrollbox.position.set(.5*-I.originalWidth+18,.5*-I.originalHeight+130),this.addChild(this.scrollbox);var e=new d.NineSlicePlane(d.Texture.from("phone.png"),104,100,104,100);e.width=I.originalWidth+50,e.height=I.originalHeight+40,e.position.set(.5*-e.width,.5*-e.height),this.addChild(e)}},{key:"start",value:(o=regeneratorRuntime.mark((function t(){var e,n,r,o,i,a,u,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:qo("start","map","level"),e=I.messages,n=I.levels,r=0,o=0,i=qr(n),t.prev=5,u=regeneratorRuntime.mark((function t(){var n,i,u,s,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.value,t.next=3,Q(n.name,"");case 3:""!==(i=t.sent)&&(n.stars=parseInt(i)),u=0!==o&&void 0===n.stars,s=0===o?"Let's start from here. Tap to play.":u?"...":e[Math.floor(Math.random()*e.length)],(l=new Xr(o,n.name+(u?"":" "+"*".repeat(n.stars)),s,n.icon,o%2!=0)).on("pointerup",(function(){qo("click","map","play"),D.start(Wr,l.id)})),l.disabled=u,l.y=r,c.scrollbox.content.addChild(l),r+=l.height,o++;case 14:case"end":return t.stop()}}),t)})),i.s();case 8:if((a=i.n()).done){t.next=12;break}return t.delegateYield(u(),"t0",10);case 10:t.next=8;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(5),i.e(t.t1);case 17:return t.prev=17,i.f(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[5,14,17,20]])})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Qr(i,n,r,a,u,"next",t)}function u(t){Qr(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"close",value:function(){qo("close","map","level"),this.scrollbox.content.removeChildren()}}])&&to(e.prototype,n),r&&to(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(ct);function co(t){return(co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function so(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lo(t,e){return(lo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yo(t);if(e){var o=yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return po(this,n)}}function po(t,e){if(e&&("object"===co(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ho(t)}function ho(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lo(t,e)}(i,t);var e,n,r,o=fo(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),bo(ho(t=o.call(this)),"explosion",void 0),bo(ho(t),"face",void 0),bo(ho(t),"logo",void 0),t.explosion=d.Sprite.from(d.Texture.from("splash_explosion.png")),t.explosion.anchor.set(.5),t.explosion.scale.set(0,0),t.explosion.position.y=.5*-I.originalHeight+516,t.explosion.alpha=0,t.addChild(t.explosion),t.face=d.Sprite.from(d.Texture.from("splash_logo_face.png")),t.face.position.set(-131,-350),t.face.alpha=0,t.addChild(t.face),t.logo=d.Sprite.from(d.Texture.from("splash_logo.png")),t.logo.anchor.set(.5),t.logo.position.set(0,-260),t.logo.scale.set(3,3),t.logo.alpha=0,t.addChild(t.logo),t}return e=i,(n=[{key:"start",value:function(){this.explosion.position.y=.5*-I.originalHeight+516,this.explosion.scale.set(0,0),this.explosion.alpha=0,this.face.position.set(-131,-350),this.face.alpha=0,this.logo.position.set(0,-260),this.logo.scale.set(3,3),this.logo.alpha=0,w.a.to(this.explosion,{alpha:1,duration:.2}),w.a.to(this.explosion.scale,{x:1,y:1,duration:1,ease:g.c.easeOut}),w.a.to(this.logo,{alpha:1,delay:.2,duration:.2}),w.a.to(this.logo.scale,{x:1,y:1,delay:.2,duration:1,ease:g.a.easeOut}),w.a.to(this.face,{alpha:1,delay:1.09,duration:.1}),w.a.to(this.face,{y:-448,delay:1.1,duration:2,ease:g.f.easeNone})}},{key:"stop",value:function(){w.a.killTweensOf(this.explosion),w.a.killTweensOf(this.explosion.scale),w.a.killTweensOf(this.logo),w.a.killTweensOf(this.logo.scale),w.a.killTweensOf(this.face)}}])&&so(e.prototype,n),r&&so(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(d.Container);function mo(t){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wo(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function go(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Oo(t,e){return(Oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ro(t);if(e){var o=Ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Po(this,n)}}function Po(t,e){if(e&&("object"===mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return jo(t)}function jo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ro(t){return(Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function So(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oo(t,e)}(u,t);var e,n,r,o,i,a=xo(u);function u(){var t;go(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return So(jo(t=a.call.apply(a,[this].concat(n))),"logo",void 0),t}return e=u,(n=[{key:"create",value:function(){var t=this;this.logo=new vo,this.addChild(this.logo);var e=new St("PLAY",100,0,16777215);e.position.y=I.originalHeight/3-30,this.addChild(e),e.on("pointerup",(function(){qo("click","menu","play"),t.onPlayClicked()}))}},{key:"start",value:function(){qo("start","menu","level"),this.logo.start()}},{key:"close",value:function(){qo("close","menu","level"),this.logo.stop()}},{key:"onPlayClicked",value:(o=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!J||!K.shouldPlayFirstAds()){t.next=3;break}return t.next=3,Z(U.Interstitial);case 3:D.start(uo);case 4:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){wo(i,n,r,a,u,"next",t)}function u(t){wo(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&ko(e.prototype,n),r&&ko(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(ct);function To(t){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _o(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Co(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){_o(i,r,o,a,u,"next",t)}function u(t){_o(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mo(t,e){return(Mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ao(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lo(t);if(e){var o=Lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Do(this,n)}}function Do(t,e){if(e&&("object"===To(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var No,Io,Wo,zo,Fo=[],Ho=[],Yo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mo(t,e)}(s,t);var e,n,r,o,i,a=Ao(s);function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,720,1500)}return e=s,(n=[{key:"createStates",value:function(){D.add(new Bo),D.add(new uo),D.add(new Wr),D.start(Bo)}},{key:"initContactListener",value:function(){var t=this;B.on("endContact",(function(t){if(t.shapeA.data&&t.shapeB.data){var e=t.bodyA,n=t.bodyB,r=e.userData,o=n.userData;r.correctType&&o.correctType&&r.type===o.type&&0!==r.type&&(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r))}})),B.on("beginContact",(function(e){var n=e.bodyA,r=e.bodyB,o=n.userData,i=r.userData;if(o.type===Jt.goalType&&i.type===Jt.endType||i.type===Jt.goalType&&o.type===Jt.endType)t.levelComplete();else{if(!o.correctType||!i.correctType){var a=void 0,u=void 0;o.rocket&&i.correctType&&i.type!==Jt.goalType?(a=n,u=i):i.rocket&&o.correctType&&o.type!==Jt.goalType&&(a=r,u=o),a&&u&&u.boom()}if(e.shapeA.data&&e.shapeB.data&&o.correctType&&i.correctType){o.type===i.type&&0!==o.type&&(o.sameColorNeighbors.set(i,!0),i.sameColorNeighbors.set(o,!0));var c=void 0,s=void 0;if(n.type===C.Body.KINEMATIC&&0!==o.type?(c=n,s=o):r.type===C.Body.KINEMATIC&&0!==i.type&&(c=r,s=i),c)if(c.type=C.Body.DYNAMIC,o.type===i.type){var l=s.steps;s.animateAndDestroy(),Fo.push({block:s===o?i:o,steps:l})}else D.activeState.updateBoomMeter(1);else if(o.type===i.type&&0!==o.type&&(o.steps!==i.steps||o.kinematic||i.kinematic))if(o.kinematic){var f=o.steps;o.animateAndDestroy(),Fo.push({block:i,steps:f})}else{var p=i.steps;i.animateAndDestroy(),Fo.push({block:o,steps:p})}}}}))}},{key:"customLogic",value:function(){var t=N.length>=2,e=N.length>=3,n=N.length>=5?3:e?2:t?1:0,r=D.activeState;if(r&&r.updateBoomMeter){if(3===n){var o=N[Math.floor(Math.random()*N.length)];if(o){var i=o.userData;r.fireMissle(1,i.position)}}N.length>0&&r.updateBoomMeter(n>0?N.length+1:1);var a=!1;N.forEach((function(t){var e=t.userData;e&&e.type===Jt.rainbowType&&e.steps>3&&(a=!0),B.removeBody(t)})),this.clearBodyArray(),Fo.forEach((function(t){return t.block.increase(t.steps)})),Fo=[],Ho.forEach((function(t){var e=B.hitTest(t,B.bodies,0);if(e&&e.length>0){var n=e[0].userData;n&&n.correctType&&n.type!==Jt.goalType&&n.boom()}})),Ho=[],a&&(B.bodies.forEach((function(t){var e=t.userData;e&&e.correctType&&e.correctType()&&(r.createExplosion(e.position),e.boom())})),r.stopBonuses())}}},{key:"levelComplete",value:function(){D.activeState.levelComplete()}},{key:"load",value:(i=Co(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){u.init("assets/sounds"),K.startLoading();var r=new c.b;r.add("base","assets/atlases/base.json"),r.add("levels","assets/levels.json"),r.onProgress.add((function(t){})),r.onError.add((function(t,e,r){$o({error:"loading (".concat(r.url,")")}),n()})),r.load(Co(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return I.levels=r.resources.levels.data.levels,I.messages=r.resources.levels.data.messages,n.next=4,e.startAfterLoading();case 4:t();case 5:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=Co(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.getElementById("preloader"))&&(e.style.display="none"),t.next=4,tt();case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}])&&Eo(e.prototype,n),r&&Eo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(W);!function(t){t[t.Undefined=0]="Undefined",t[t.Clicked=1]="Clicked",t[t.Show=2]="Show",t[t.FailedShow=3]="FailedShow",t[t.RewardReceived=4]="RewardReceived"}(No||(No={})),function(t){t[t.Undefined=0]="Undefined",t[t.Unknown=1]="Unknown",t[t.Offline=2]="Offline",t[t.NoFill=3]="NoFill",t[t.InternalError=4]="InternalError",t[t.InvalidRequest=5]="InvalidRequest",t[t.UnableToPrecache=6]="UnableToPrecache"}(Io||(Io={})),function(t){t[t.Undefined=0]="Undefined",t[t.Video=1]="Video",t[t.RewardedVideo=2]="RewardedVideo",t[t.Playable=3]="Playable",t[t.Interstitial=4]="Interstitial",t[t.OfferWall=5]="OfferWall",t[t.Banner=6]="Banner"}(Wo||(Wo={})),function(t){t[t.Undefined=0]="Undefined",t[t.Start=1]="Start",t[t.Complete=2]="Complete",t[t.Fail=3]="Fail"}(zo||(zo={})),r.GameAnalytics.setEnabledInfoLog(!1);var Uo=!1,Go="en";function Vo(t,e){r.GameAnalytics.initialize(t,e),console.log("Network: ".concat("0",", live: ").concat(Uo)),qo("set","network","0",Uo?1:0),qo("start","app","game"),new Yo}function Ko(t,e,n){r.GameAnalytics.addDesignEvent("".concat(t,":").concat(e),n),gtag("event",t,{event_category:e,value:n})}function Xo(t,e,n){r.GameAnalytics.addProgressionEvent(t,"level",n,void 0,e),gtag("event","progression",{event_category:t===zo.Start?"start":t!==zo.Fail?"complete":"fail",value:e})}function Jo(t,e,n){void 0===n?r.GameAnalytics.addAdEvent(t,e,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(t,e,"0","ad",n);var o="",i="";switch(e){case Wo.Interstitial:i="inter";break;case Wo.RewardedVideo:i="reward"}switch(t){case No.FailedShow:o="showError";break;case No.Show:o="show";break;case No.RewardReceived:o="success"}gtag("event",o,{event_category:i})}function qo(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(t,":").concat(e,":").concat(n),o),gtag("event",t,{event_category:e,event_label:n,value:o})}function $o(t){var e=JSON.stringify(t);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,e),gtag("event","show",{event_category:"error",event_label:"error",value:e})}function Qo(t){Uo=t}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){q().then((function(t){Go=t.language,Uo=t.success,Vo(t.gameKey,t.secretKey)})).catch((function(t){Go="en",Uo=!1,Vo("858dec355a72c9195a2a9d7b5b236599","da73f2e7aa8cb82c345aa88235b57abb415e1cd5")}))}}});
//# sourceMappingURL=bundle.ccc2f25c9063f8c89412.js.map