!function(t){function e(e){for(var r,a,u=e[0],c=e[1],s=e[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={0:0},i=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;i.push([200,1]),n()}({200:function(t,e,n){n(201),t.exports=n(408)},408:function(t,e,n){"use strict";n.r(e),n.d(e,"EGAAdAction",(function(){return ja})),n.d(e,"EGAAdError",(function(){return Ca})),n.d(e,"EGAAdType",(function(){return _a})),n.d(e,"EGAProgressionStatus",(function(){return Ea})),n.d(e,"live",(function(){return Fa})),n.d(e,"lang",(function(){return Na})),n.d(e,"sendValueEvent",(function(){return Wa})),n.d(e,"sendProgressionEvent",(function(){return Ha})),n.d(e,"sendAdEvent",(function(){return Ua})),n.d(e,"sendEvent",(function(){return Ya})),n.d(e,"sendError",(function(){return Ga})),n.d(e,"setLive",(function(){return Va}));var r=n(43),o=n(10),i=n.n(o),a=n(193);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"path",void 0),c(this,"all",void 0),c(this,"musics",void 0),c(this,"mutedSounds",void 0),c(this,"mutedMusic",void 0)}var e,n,r;return e=t,(n=[{key:"init",value:function(t){this.path=t,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(t){var e;this.mutedMusic=t,null===(e=this.musics.music)||void 0===e||e.mute(t)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(t){for(var e in this.mutedSounds=t,this.all)this.all[e]&&this.all[e].mute(t)}},{key:"add",value:function(t,e){var n=this;if(!this.all[t]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(e){return"".concat(n.path,"/").concat(t,".").concat(e)})),o=new a.Howl({src:r,autoplay:null==e?void 0:e.autoplay,loop:null==e?void 0:e.loop,volume:(null==e?void 0:e.volume)||1});"music"!==t?this.all[t]=o:this.musics[t]=o}}},{key:"play",value:function(t){this.all[t]?this.all[t].play():console.error("no sound was found")}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),l=n(16),f=n(69),p=n(70),h=n(51);function y(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),v(this,"states",void 0),v(this,"currentState",void 0),v(this,"stage",void 0),this.stage=e,this.states=new Map}var e,n,r,o,i;return e=t,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(t){this.states.set(t.constructor,t),t.create()}},{key:"start",value:function(t){var e=this.states.get(t);if(!e)throw new Error("No state ".concat(t));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.start(r),this.currentState=e,this.stage.addChild(this.currentState)}},{key:"restart",value:(o=regeneratorRuntime.mark((function t(){var e,n,r,o,i=this,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=a.length,n=new Array(e),r=0;r<e;r++)n[r]=a[r];if(o=this.currentState,!this.currentState){t.next=6;break}return t.next=5,this.currentState.close();case 5:this.stage.removeChild(this.currentState);case 6:window.setTimeout((function(){o.start(n),i.currentState=o,i.stage.addChild(i.currentState)}),100);case 7:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){y(i,n,r,a,u,"next",t)}function u(t){y(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&d(e.prototype,n),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),m=n(1),w=n(9),g=n(21),k=n(3),x=n(2),O=n(7);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return j(t)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _,E,M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(i,t);var e,n,r,o=B(i);function i(t,e){var n,r,a,u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=j(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=g.a.from(k.db.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*t,c.height=2*e,c.interactive=!0,n.addChild(c),n.sprite=g.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return e=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,x.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var t=this;this.sprite.rotation=0,x.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:O.f.easeNone,onComplete:function(){t.rotate()}})}}])&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(w.b);function A(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}h.a.registerPlugin(l.a),l.b.registerPlugin(f.b),l.b.registerPlugin(p.c);var L,I,F=[],N={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,levels:[],particles:void 0,material:void 0,bounceMaterial:void 0,activeBallMaterial:void 0,slowmo:!1},z=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var a={width:e,height:n,autoDensity:!0,resolution:2,backgroundColor:12309476};N.originalWidth=e,N.originalHeight=n,E=new h.a(a),document.body.appendChild(E.view),m.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,E.view.style.left="0%",E.view.style.top="0%",E.view.style.width="100%",E.view.style.height="100%",E.renderer.plugins.interaction,E.stage.interactive=!0,E.ticker.maxFPS=60;var u=new w.b;E.stage.addChild(u),_=new i.a.World({gravity:[0,-10]}),this.initContactListener();var c=new o.Material,s=new o.Material,l=new o.Material;N.material=c,N.bounceMaterial=l,N.activeBallMaterial=s,_.addContactMaterial(new o.ContactMaterial(c,c,{restitution:0,stiffness:o.Equation.DEFAULT_STIFFNESS/3})),_.addContactMaterial(new o.ContactMaterial(s,l,{restitution:1,stiffness:o.Equation.DEFAULT_STIFFNESS/3})),_.emitImpactEvent=!1,E.ticker.add((function(){if(!N.paused){var t=1/(N.slowmo?400:60);_.step(t,.1,3),_.bodies.forEach((function(t){var e=t.userData;if(e&&e.transform){var n=t.position;e.position.set(50*n[0],50*n[1]),e.rotation=t.angle}})),r.customLogic(t)}})),this.start(E,u),(I=new M(e,n)).hide(),u.addChild(I)}var e,n,r,a,u;return e=t,(n=[{key:"customLogic",value:function(t){F.forEach((function(t){return _.removeBody(t)})),this.clearBodyArray()}},{key:"clearBodyArray",value:function(){F=[]}},{key:"start",value:(a=regeneratorRuntime.mark((function t(e,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new w.b,n.addChild(r),o=new w.b,n.addChild(o),L=new b(o),t.next=7,this.load();case 7:i=g.a.from(m.Texture.from("back1.png")),r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var t=a(),n=t.width,i=t.height;e.renderer.resize(n,i),N.realHeight=i,I.height=i,I.scale.x=I.scale.y;var u=i/N.originalHeight;N.scale=u,o.scale.set(u,u),r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),I.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 14:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=a.apply(t,e);function i(t){A(o,n,r,i,u,"next",t)}function u(t){A(o,n,r,i,u,"throw",t)}i(void 0)}))},function(t,e){return u.apply(this,arguments)})}])&&D(e.prototype,n),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function W(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function H(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){W(i,r,o,a,u,"next",t)}function u(t){W(i,r,o,a,u,"throw",t)}a(void 0)}))}}function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r,o,i,a,u,c,s,l,f,p,h;return e=t,(n=[{key:"showGlobalLeaders",value:function(t){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(h=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(t){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(t){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",[]);case 1:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=H(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(t,e){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=H(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}}),t)}))),function(t,e){return s.apply(this,arguments)})},{key:"setScore",value:(c=H(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"getScore",value:(u=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",0);case 1:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{success:!0,language:"en",gameKey:"",secretKey:""});case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return");case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=H(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&U(e.prototype,n),r&&U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();var G;function V(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function K(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){V(i,r,o,a,u,"next",t)}function u(t){V(i,r,o,a,u,"throw",t)}a(void 0)}))}}!function(t){t[t.RewardedVideo=2]="RewardedVideo",t[t.Interstitial=4]="Interstitial"}(G||(G={}));var X,J=function(){try{return localStorage}catch(t){return}},q=!0,$=function(){var t=K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){(X=new Y)&&X.init().then((function(e){t(e)})).catch((function(t){Ga({error:"initSocial"}),e()}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Q=function(){var t=K(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(r=J())||void 0===r||r.setItem(e,n),t.next=3,X.setStorageData(e,n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Z=function(){var t=K(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.getStorageData(e,n);case 2:return(r=t.sent)===n&&(r=(null===(o=J())||void 0===o?void 0:o.getItem(e))||n),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),tt=function(){var t=K(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,I&&I.show(),r=s.muteMusic,o=s.muteSounds,s.muteMusic=!0,s.muteSounds=!0,t.t0=e,t.next=t.t0===G.Interstitial?9:t.t0===G.RewardedVideo?13:17;break;case 9:return t.next=11,X.showInter();case 11:return n=!0,t.abrupt("break",17);case 13:return t.next=15,X.showReward();case 15:return n=t.sent,t.abrupt("break",17);case 17:return q=!1,I&&I.hide(),s.muteMusic=r,s.muteSounds=o,t.abrupt("return",n);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),et=function(){var t=K(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",X.finishLoading());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),nt=function(){X.gameplayStart()};function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ct(t);if(e){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&it(t,e)}(i,t);var e,n,r,o=at(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,n&&ot(e.prototype,n),r&&ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(w.b);function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pt(){return(pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ht(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ht(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mt(t)););return t}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mt(t);if(e){var o=mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bt(t)}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yt(t,e)}(i,t);var e,n,r,o=dt(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),wt(bt(n=o.call(this)),"normalTexture",void 0),wt(bt(n),"downTexture",void 0),wt(bt(n),"isDisabled",!1),wt(bt(n),"isDown",void 0),wt(bt(n),"btn",void 0),n.normalTexture=""===t?k.db.WHITE:k.db.from(t),n.downTexture=""===t?k.db.WHITE:k.db.from(e),n.btn=g.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(bt(n))).on("pointerup",n.onButtonUp.bind(bt(n))).on("pointerupoutside",n.onButtonUp.bind(bt(n))).on("pointerout",n.onButtonOut.bind(bt(n))),n.disabled=!1,n}return e=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(t){this.isDisabled=t,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(t){this.isDisabled||(s.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(t){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),pt(mt(i.prototype),"destroy",this).call(this,t)}}])&&ft(e.prototype,n),r&&ft(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(w.b);function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bt(t);if(e){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(t,e){if(e&&("object"===kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tt(t)}function Tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rt,jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}(i,t);var e,n,r,o=Pt(i);function i(t,e,n,r){var a,u,c,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),a=o.call(this,"",""),u=Tt(a),s=void 0,(c="txt")in u?Object.defineProperty(u,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[c]=s,a.txt=new m.Text(t,{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:e,fill:r}),a.txt.anchor.set(.5,.5),a.addChild(a.txt),a.btn.tint=n,a.btn.alpha=.001,a.btn.width=a.txt.width+100,a.btn.height=a.txt.height+50,a}return e=i,(n=[{key:"text",set:function(t){this.txt.text=t}}])&&xt(e.prototype,n),r&&xt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(gt);function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(t,e){if(e&&("object"===Ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Dt(t)}function Dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function It(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.NO=0]="NO",t[t.WALLS=Math.pow(2,0)]="WALLS",t[t.BALLS=Math.pow(2,1)]="BALLS",t[t.MOVER=Math.pow(2,2)]="MOVER",t[t.OBSTACLES=Math.pow(2,3)]="OBSTACLES"}(Rt||(Rt={}));var Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Et(t,e)}(a,t);var e,n,r,i=Mt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),It(Dt(e=i.call(this)),"body",void 0),It(Dt(e),"shape",void 0),It(Dt(e),"type",void 0),It(Dt(e),"view",void 0),e.type=t,e.view=e.createView(),e.view.anchor.set(.5,.5),e.addChild(e.view),e}return e=a,(n=[{key:"createBody",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.view.alpha=1;var n=[this.position.x/50,this.position.y/50];this.shape=this.createShape(),this.body=new o.Body({type:t,position:n,mass:e,damping:0,angularDamping:0}),this.body.addShape(this.shape),_.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyBody(t),this.parent&&this.parent.removeChild(this)}},{key:"isGoal",value:function(){return!1}},{key:"destroyBody",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(t?_.removeBody(this.body):F.push(this.body),this.body=void 0)}},{key:"correctType",value:function(){return 0!==this.type&&(this.type<20||250===this.type||251===this.type||this.type===ue.skullType||this.type===ue.anyType)}}])&&_t(e.prototype,n),r&&_t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(w.b);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ut(t,e){return(Ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kt(t);if(e){var o=Kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Vt(t)}function Vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kt(t){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ut(t,e)}(u,t);var e,n,r,o,i,a=Yt(u);function u(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Wt(this,u),Xt(Vt(t=a.call(this)),"art",void 0),u.createTextures(),t.art=m.Sprite.from(u.textures[0]),t.art.anchor.set(.5,.5),t.addChild(t.art),t.scale.set(0,0),e&&t.animate(n),t}return e=u,n=[{key:"animate",value:(o=regeneratorRuntime.mark((function t(){var e,n=this,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:0,t.abrupt("return",new Promise((function(t){var r=0,o={a:0};x.a.to(o,{a:1,delay:e,duration:e+.4,onUpdate:function(){var t=Math.floor(2*o.a);t!==r&&(r=t,n.art.texture=u.textures[r])}}),x.a.to(n.scale,{x:1,y:1,duration:e+.1}),x.a.to(n.scale,{x:1.3,y:1.3,delay:e+.2,duration:.3}),x.a.to(n,{alpha:0,delay:e+.2,duration:.5,onComplete:function(){t()}})})));case 2:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){zt(i,n,r,a,u,"next",t)}function u(t){zt(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})}],r=[{key:"createTextures",value:function(){u.textures||(u.textures=[m.Texture.from("game_explosion_0.png"),m.Texture.from("game_explosion_1.png"),m.Texture.from("game_explosion_2.png")])}}],n&&Ht(e.prototype,n),r&&Ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(m.Container);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zt(){return(Zt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=te(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function te(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ie(t)););return t}function ee(t,e){return(ee=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ne(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ie(t);if(e){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(t,e){if(e&&("object"===qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oe(t)}function oe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ie(t){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ae(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Xt(Jt,"textures",void 0);var ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}(a,t);var e,n,r,i=ne(a);function a(t,e,n){var r,u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return $t(this,a),ae(oe(r=i.call(this,n)),"sameColorNeighbors",new Map),ae(oe(r),"stepsAmount",3),ae(oe(r),"steps",1),ae(oe(r),"savedType",-1),ae(oe(r),"skullMeter",1),ae(oe(r),"_kinematic",!1),ae(oe(r),"permanentSkull",!1),ae(oe(r),"busy",!1),ae(oe(r),"sensorShape",void 0),r.permanentSkull=n===a.skullType,r.position.set(t,e),u&&r.createBody(o.Body.DYNAMIC),r}return e=a,(n=[{key:"kinematic",get:function(){return this._kinematic},set:function(t){this._kinematic=t}},{key:"createBody",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;Zt(ie(a.prototype),"createBody",this).call(this,t,e),this.sensorShape=new o.Circle({radius:(this.getRadius()+5)/50}),this.sensorShape.sensor=!0,this.sensorShape.material=N.material,this.sensorShape.data=!0,this.body.addShape(this.sensorShape)}},{key:"animateAndDestroy",value:function(){var t=this;this.killTween(),x.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),this.destroyBody()}},{key:"killTween",value:function(){x.a.killTweensOf(this.view.scale)}},{key:"clean",value:function(){this.busy=!1,Zt(ie(a.prototype),"clean",this).call(this)}},{key:"decreaseSkullMeter",value:function(){this.type!==a.skullType||this.permanentSkull||(this.skullMeter-=1,-1===this.skullMeter&&this.removeSkull())}},{key:"isSkull",value:function(){return this.type===a.skullType}},{key:"setSkull",value:function(){this.savedType=this.type,this.skullMeter=3,this.kinematic=!1,this.body.gravityScale=1,this.type=a.skullType,this.view.texture=m.Texture.from("".concat(this.type,".png"))}},{key:"removeSkull",value:function(){this.type=this.savedType,this.savedType=-1,this.view.texture=this.getTexture()}},{key:"setBomb",value:function(){var t=this;this.busy||(this.type=a.bombType,this.view.texture=m.Texture.from("bomb.png"),this.killTween(),this.busy=!0,x.a.to(this.view.scale,{x:.4,y:.4,duration:1,onUpdate:function(){t.updateShape()}}),x.a.to(this.view.scale,{x:1.2,y:1.2,delay:1,duration:.2,onUpdate:function(){t.updateShape()},onComplete:function(){var e=new Jt;t.addChild(e),t.animateAndDestroy()}}))}},{key:"boom",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.increase(this.stepsAmount-this.steps,t)}},{key:"getRadius",value:function(){return 35}},{key:"getTexture",value:function(){return m.Texture.from("".concat(this.type,".png"))}},{key:"createView",value:function(){var t=new m.Sprite(this.getTexture());return t.scale.set(.5,.5),t}},{key:"createShape",value:function(){var t=new o.Circle({radius:this.getRadius()/50});return t.material=N.material,t}},{key:"increase",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.busy||!this.body)return 0;var r=0;if(this.busy=!0,t+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=t,this.steps>=this.stepsAmount)n&&(r=1),this.killTween(),this.sameColorNeighbors.forEach((function(t,o){if(o!==e){var i=o.increase(e.stepsAmount-o.steps,n);n&&(r+=i)}})),x.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody(n);else{var o=a.scaleFactor*this.steps;x.a.to(this.view.scale,{x:o,y:o,duration:.2,onUpdate:function(){e.updateShape()},onComplete:function(){e.busy=!1}})}return r}},{key:"updateShape",value:function(){this.shape.radius=this.getRadius()/a.scaleFactor*this.view.scale.x/50,this.shape.updateBoundingRadius(),this.sensorShape.radius=(this.getRadius()+5)/a.scaleFactor*this.view.scale.x/50,this.sensorShape.updateBoundingRadius(),this.body.updateBoundingRadius(),this.body.updateMassProperties()}}])&&Qt(e.prototype,n),r&&Qt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);ae(ue,"goalType",1e3),ae(ue,"endType",500),ae(ue,"bombType",2e3),ae(ue,"skullType",3e3),ae(ue,"anyType",4e3),ae(ue,"scaleFactor",.5);var ce=n(4);function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fe(t,e){return(fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ye(t);if(e){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ye(t){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var de=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}(a,t);var e,n,r,i=pe(a);function a(t,e,n,r,u){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(c=i.call(this,0)).position.set(t,e),c.view.width=n,c.view.height=r,c.createBody(o.Body.STATIC),c.body.mass=0,c.body.angle=ce.b*u,c}return e=a,(n=[{key:"createShape",value:function(){return new o.Box({width:this.view.width/50,height:this.view.height/50})}},{key:"createView",value:function(){var t=new g.a(m.Texture.WHITE);return t.anchor.set(.5),t.tint=0,t.visible=!1,t.alpha=0,t}},{key:"isObstacle",value:function(){return!1}},{key:"correctType",value:function(){return!1}},{key:"animateAndDestroy",value:function(){var t=this;x.a.killTweensOf(this.view.scale),x.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),this.destroyBody()}}])&&le(e.prototype,n),r&&le(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Ft);function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function we(t,e){return(we=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Oe(t);if(e){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(t,e){if(e&&("object"===ve(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xe(t)}function xe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oe(t){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&we(t,e)}(c,t);var e,n,r,i,a,u=ge(c);function c(t,e,n,r){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),Pe(xe(i=u.call(this,300)),"rocket",!0),Pe(xe(i),"startX",void 0),Pe(xe(i),"startY",void 0),Pe(xe(i),"endX",void 0),Pe(xe(i),"endY",void 0),i.startX=t,i.startY=e,i.endX=n,i.endY=r,i.position.set(t,e),t!==n&&(i.view.angle=90),i.createBody(o.Body.DYNAMIC),i}return e=c,(n=[{key:"createShape",value:function(){var t=new o.Box({width:4,height:4});return t.sensor=!0,t}},{key:"createView",value:function(){return new m.Sprite(m.Texture.from("powerup_rocket.png"))}},{key:"animate",value:(i=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var n={x:e.startX,y:e.startY};x.a.to(n,{x:e.endX,y:e.endY,duration:1,ease:O.b.easeIn,onComplete:function(){e.clean(),t()},onUpdate:function(){e.body.position=[n.x/50,n.y/50]}})})));case 1:case"end":return t.stop()}}),t)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){be(o,n,r,a,u,"next",t)}function u(t){be(o,n,r,a,u,"throw",t)}a(void 0)}))},function(){return a.apply(this,arguments)})}])&&me(e.prototype,n),r&&me(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(Ft);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function je(){return(je="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ce(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Ce(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=De(t)););return t}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=De(t);if(e){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(t,e){if(e&&("object"===Te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ae(t)}function Ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_e(t,e)}(i,t);var e,n,r,o=Ee(i);function i(t,e,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Be(this,i),Le(Ae(r=o.call(this,t,e,n,a)),"delay",void 0),r}return e=i,(n=[{key:"resetDeathCounter",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0)}},{key:"startCountDeath",value:function(){var t=this;this.delay||(this.delay=x.a.delayedCall(4,(function(){t.delay=void 0,t.emit("gameover")})))}},{key:"destroyBody",value:function(t){this.resetDeathCounter(),this.off("gameover"),je(De(i.prototype),"destroyBody",this).call(this,t)}},{key:"setSkull",value:function(){je(De(i.prototype),"setSkull",this).call(this),this.view.texture=m.Texture.from("3001.png")}},{key:"createView",value:function(){return new m.Sprite(this.getTexture())}},{key:"getTexture",value:function(){return m.Texture.from("hero.png")}},{key:"getRadius",value:function(){return 50}},{key:"isGoal",value:function(){return!0}}])&&Re(e.prototype,n),r&&Re(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(ue);function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function ze(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Ne(i,r,o,a,u,"next",t)}function u(t){Ne(i,r,o,a,u,"throw",t)}a(void 0)}))}}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e){return(He=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ve(t);if(e){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ye(this,n)}}function Ye(t,e){if(e&&("object"===Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ge(t)}function Ge(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ve(t){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&He(t,e)}(u,t);var e,n,r,o,i,a=Ue(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Ke(Ge(t=a.call(this,"","")),"_id",void 0),Ke(Ge(t),"icon",void 0),Ke(Ge(t),"txt",void 0),Ke(Ge(t),"amount",void 0),t.amount=1,t.txt=new m.Text(t.amount.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),t.txt.anchor.set(.5,.5),t.txt.x=90,t.txt.y=90,t.addChild(t.txt),t.icon=m.Sprite.from(m.Texture.from("bonus_ads.png")),t.icon.x=15,t.icon.y=35,t.addChild(t.icon),t.icon.visible=!1,t.on("pointerup",(function(){t.onPressed()})),t}return e=u,n=[{key:"id",get:function(){return this._id}},{key:"setData",value:(i=ze(regeneratorRuntime.mark((function t(e,n,r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._id=e,this.normalTexture=n,this.downTexture=r,this.btn.texture=this.normalTexture,this.icon.visible=!1,t.next=7,Z(u.getStorageId(this.id),void 0);case 7:if(void 0!==(o=t.sent)){t.next=12;break}return o="1",t.next=12,Q(u.getStorageId(this.id),o);case 12:this.amount=parseInt(o),this.txt.text=o,this.updateTxt(),this.scale.set(.6,.6);case 16:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return i.apply(this,arguments)})},{key:"updateTxt",value:function(){0===this.amount?(this.btn.alpha=.6,this.icon.visible=!0,this.txt.visible=!1):(this.btn.alpha=1,this.icon.visible=!1,this.txt.visible=!0)}},{key:"onPressed",value:(o=ze(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.amount>0)){t.next=8;break}return this.amount--,t.next=4,Q(u.getStorageId(this.id),this.amount.toString());case 4:this.updateTxt(),this.emit("activate",this.id),t.next=12;break;case 8:N.paused=!0,N.paused=!1,this.emit("activate",this.id);case 12:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}],r=[{key:"getStorageId",value:function(t){return"powerup_"+t.toString()}}],n&&We(e.prototype,n),r&&We(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(gt);function Je(t){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=en(t);if(e){var o=en(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ze(this,n)}}function Ze(t,e){if(e&&("object"===Je(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tn(t)}function tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function en(t){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(i,t);var e,n,r,o=Qe(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),nn(tn(t=o.call(this)),"bar",void 0),nn(tn(t),"barMask",void 0),nn(tn(t),"initialWidth",596),nn(tn(t),"initialHeight",30),nn(tn(t),"isFrozen",void 0),nn(tn(t),"delay",void 0),nn(tn(t),"frozen",void 0),nn(tn(t),"frozenBack",void 0),nn(tn(t),"back",void 0),nn(tn(t),"barBorder",void 0),t.back=m.Sprite.from(m.Texture.from("timer_1.png")),t.addChild(t.back),t.frozenBack=m.Sprite.from(m.Texture.from("timer_frozen_1.png")),t.frozenBack.visible=!1,t.addChild(t.frozenBack),t.bar=m.Sprite.from(m.Texture.from("timer_2.png")),t.addChild(t.bar),t.barMask=new m.Sprite(m.Texture.WHITE),t.barMask.x=16,t.barMask.width=0,t.barMask.height=t.bar.height,t.addChild(t.barMask),t.bar.mask=t.barMask,t.barBorder=m.Sprite.from(m.Texture.from("timer_0.png")),t.barBorder.anchor.set(.5,.5),t.barBorder.x=100,t.barBorder.y=.5*t.bar.height,t.addChild(t.barBorder),t.barBorder.visible=!1,t.frozen=new m.Sprite(m.Texture.from("timer_frozen_0.png")),t.frozen.visible=!1,t.addChild(t.frozen),t}return e=i,(n=[{key:"setProgress",value:function(t){this.barMask.width=this.initialWidth*t,this.barBorder.visible=t>.01&&t<.99,this.barBorder.x=this.barMask.x+this.initialWidth*t}},{key:"unFreeze",value:function(){var t=this;this.isFrozen=!1,x.a.killTweensOf(this.frozen),x.a.to(this.frozenBack,{alpha:0,duration:.3}),x.a.to(this.back,{alpha:1,duration:.3}),x.a.to(this.frozen,{alpha:0,duration:.3,onComplete:function(){t.frozen.visible=!1,t.frozenBack.visible=!1}})}},{key:"freeze",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.isFrozen=!0,this.frozen.visible=!0,this.frozen.alpha=0,this.frozenBack.visible=!0,this.frozenBack.alpha=0,x.a.killTweensOf(this.frozen),x.a.killTweensOf(this.frozenBack),x.a.killTweensOf(this.back),x.a.to(this.frozen,{alpha:1,duration:.3}),x.a.to(this.frozenBack,{alpha:1,duration:.3}),x.a.to(this.back,{alpha:0,duration:.3}),this.delay&&this.delay.kill(),-1!==e&&(this.delay=x.a.delayedCall(e,(function(){t.unFreeze()})))}},{key:"clear",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0),x.a.killTweensOf(this.frozen),this.frozen.visible=!1,this.frozenBack.visible=!1,this.back.alpha=1,this.isFrozen=!1}}])&&qe(e.prototype,n),r&&qe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function un(t,e){return(un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fn(t);if(e){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(t,e){if(e&&("object"===on(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ln(t)}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fn(t){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&un(t,e)}(i,t);var e,n,r,o=cn(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),pn(ln(t=o.call(this)),"bar",void 0),pn(ln(t),"max",void 0),pn(ln(t),"current",void 0),pn(ln(t),"initialWidth",170),pn(ln(t),"barMask",void 0),pn(ln(t),"barBorder",void 0),pn(ln(t),"barShine",void 0);var e=m.Sprite.from(m.Texture.from("battery_empty.png"));return t.addChild(e),t.bar=m.Sprite.from(m.Texture.from("battery_full.png")),t.addChild(t.bar),t.barMask=new m.Sprite(m.Texture.WHITE),t.barMask.width=0,t.barMask.height=t.bar.height,t.barMask.x=27,t.addChild(t.barMask),t.barBorder=m.Sprite.from(m.Texture.from("battery_border.png")),t.barBorder.anchor.set(.5,.5),t.barBorder.y=.5*t.bar.height,t.addChild(t.barBorder),t.barBorder.visible=!1,t.barShine=new m.AnimatedSprite([m.Texture.from("battery_charging0.png"),m.Texture.from("battery_charging1.png"),m.Texture.from("battery_charging2.png"),m.Texture.from("battery_charging1.png")]),t.addChild(t.barShine),t.barShine.animationSpeed=.3,t.barShine.visible=!1,t.bar.mask=t.barMask,t.current=0,t.max=10,t}return e=i,(n=[{key:"maximum",set:function(t){this.max=t}},{key:"reset",value:function(t){x.a.killTweensOf(this.barMask),this.current=0,t?this.barMask.width=0:x.a.to(this.barMask,{width:0,duration:.1}),this.barBorder.visible=!1}},{key:"update",value:function(t){var e=this;this.current+=t,this.current=Math.min(this.current,this.max),this.barShine.visible=!0,this.barShine.gotoAndPlay(0);var n=this.current>=this.max,r=this.current/this.max;return this.barBorder.visible=r>.05&&r<.9,x.a.killTweensOf(this.barMask),x.a.to(this.barMask,{width:this.initialWidth*r,duration:.2}),x.a.to(this.barBorder,{x:this.barMask.x+this.initialWidth*r,duration:.2,onComplete:function(){e.barShine.visible=!1,e.barShine.stop()}}),n&&(this.barShine.visible=!1,this.barShine.stop(),this.current=0,x.a.to(this.barMask,{width:0,delay:.2,duration:.2}),x.a.to(this.barBorder,{x:this.barMask.x,duration:.2,onUpdate:function(){e.barBorder.visible=r>.05&&r<.9}})),n}}])&&an(e.prototype,n),r&&an(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function yn(t){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gn(t);if(e){var o=gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mn(this,n)}}function mn(t,e){if(e&&("object"===yn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wn(t)}function wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gn(t){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vn(t,e)}(i,t);var e,n,r,o=bn(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),kn(wn(t=o.call(this)),"back",void 0),kn(wn(t),"blocks",void 0),kn(wn(t),"startX",void 0),kn(wn(t),"startY",void 0),kn(wn(t),"txt",void 0),t.blocks=[],t.back=new m.NineSlicePlane(m.Texture.from("top_back.png"),46,50,46,50),t.back.width=.96*N.originalWidth,t.back.height=300,t.back.position.set(.5*-t.back.width,0),t.addChild(t.back),t.txt=new m.Text("From: Leopold",{fontSize:25,fill:0,fontWeight:"bold",align:"left"}),t.txt.anchor.set(0,.5),t.txt.position.set(.5*-t.back.width+40,30),t.addChild(t.txt),t.clear(),t}return e=i,(n=[{key:"setLines",value:function(t){this.txt.text="From: "+i.senders[Math.floor(Math.random()*i.senders.length)];var e=t.length;this.back.height=75*e+70,this.startX=-300,this.startY=95;for(var n=0;n<e;n++){for(var r=this.startX,o=0;o<t[n].length;o++){var a=new ue(r,this.startY,t[n][o],!1);this.addBlock(a),r+=74}this.startY+=70}}},{key:"addBlock",value:function(t){this.blocks.push(t),this.addChild(t),t.visible=!1}},{key:"show",value:function(){this.blocks.forEach((function(t){t.visible=!0}))}},{key:"clear",value:function(){var t=this;this.blocks.forEach((function(e){t.removeChild(e)})),this.blocks=[]}}])&&dn(e.prototype,n),r&&dn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jn(t);if(e){var o=jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}function Bn(t,e){if(e&&("object"===On(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rn(t)}function Rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jn(t){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}kn(xn,"senders",["Mom","Dad","Boss","Red Hair","Stupid guy","Handsome stranger","Vampire","Lady Hamilton","Dude","Sis","Bro","Grany","Kurt","Kristin","Leo Di","Emergency"]);var Cn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sn(t,e)}(i,t);var e,n,r,o=Tn(i);function i(){var t,e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),e=Rn(t),r=void 0,(n="txt")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;var a=new m.Sprite(m.Texture.from("letter_button.png"));return a.anchor.set(.5,.5),t.addChild(a),t.txt=new m.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:60,fill:0,align:"center",fontWeight:"bold"}),t.txt.anchor.set(.5,.5),t.addChild(t.txt),t}return e=i,(n=[{key:"letter",set:function(t){" "===t&&(t="*"),this.txt.text=t}}])&&Pn(e.prototype,n),r&&Pn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function An(t,e){return(An=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fn(t);if(e){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ln(this,n)}}function Ln(t,e){if(e&&("object"===_n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}function In(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fn(t){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&An(t,e)}(u,t);var e,n,r,o,i,a=Dn(u);function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Nn(In(t=a.call(this)),"bound",new m.Rectangle),Nn(In(t),"back",void 0),Nn(In(t),"letters",void 0),Nn(In(t),"stringLetters",void 0),Nn(In(t),"getPoint",void 0),t.back=m.Sprite.from(m.Texture.WHITE),t.back.anchor.set(.5,.5),t.back.width=N.originalWidth,t.back.height=N.originalHeight,t.addChild(t.back),t.stringLetters=t.getLetters(),t.letters=[];for(var e=0;e<t.stringLetters.length;e++){var n=new Cn;n.visible=!1,t.addChild(n),t.letters.push(n)}return t}return e=u,(n=[{key:"start",value:(o=regeneratorRuntime.mark((function t(e){var n,r,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.getPoint=e,this.visible=!0,this.back.alpha=0,n=[],r=0,o=0;o<this.stringLetters.length;o++)r++," "===this.stringLetters[o]&&(n.push(r),r=0);return 0===n.length?n.push(this.stringLetters.length):n.push(r),t.abrupt("return",new Promise((function(t){x.a.to(i.back,{alpha:.7,duration:1});for(var e=0,r=-30,o=n[e],a=60/(o-1),u=100*o,c=.5*-u,s=u/(o-1),l=-400,f=[],p=i.stringLetters.length,h=0;h<p;h++){var y=i.letters.pop();f.push(y),y.visible=!0,y.letter=i.stringLetters[h],y.position.set(-400,700),y.scale.set(.1,.1),y.angle=r-30,x.a.to(y,{angle:r,x:c,y:l,delay:.1*h,duration:.5}),x.a.to(y.scale,{x:1,y:1,delay:.1*h,duration:.5})," "===i.stringLetters[h]?(e++,r=-30,a=60/((o=n[e])-1),c=.5*-(u=100*o),l+=140,s=u/(o-1)):(r+=a,c+=s)}x.a.to(i.back,{alpha:0,delay:1.2,duration:.5}),x.a.delayedCall(1+.1*(i.stringLetters.length-1),(function(){i.animate(f).then((function(){t()}))}))})));case 8:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){En(i,n,r,a,u,"next",t)}function u(t){En(i,n,r,a,u,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"clean",value:function(){this.getPoint=void 0,x.a.killTweensOf(this.back)}},{key:"goOut",value:function(){}}])&&Mn(e.prototype,n),r&&Mn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(m.Container);function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yn(){return(Yn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Gn(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Gn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qn(t)););return t}function Vn(t,e){return(Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qn(t);if(e){var o=qn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xn(this,n)}}function Xn(t,e){if(e&&("object"===Wn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Jn(t)}function Jn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qn(t){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vn(t,e)}(i,t);var e,n,r,o=Kn(i);function i(){var t;Hn(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return $n(Jn(t=o.call.apply(o,[this].concat(n))),"points",[]),t}return e=i,(n=[{key:"activeBound",get:function(){if(this.points.length>0){for(var t=[],e=0;e<this.points.length;e++){var n=this.points[e];t.push(new m.Rectangle(n[0]-1,n[1]-1,2,2))}return this.points=[],t}}},{key:"clean",value:function(){this.points=[],Yn(qn(i.prototype),"clean",this).call(this)}},{key:"getLetters",value:function(){return["B","O","O","M"," ","B","O","N","U","S"]}},{key:"animate",value:function(t){var e=this;return this.points=[],new Promise((function(n){if(e.getPoint){for(var r=function(n){var r=e.getPoint();if(!r)return"continue";x.a.to(t[n].scale,{x:0,y:0,duration:.2}),x.a.to(t[n],{x:50*r[0],y:50*r[1],duration:.2,onComplete:function(){e.points.push(r)}})},o=0;o<t.length;o++)r(o);x.a.delayedCall(.25,(function(){n()}))}else n()}))}}])&&Un(e.prototype,n),r&&Un(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(zn);function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ir(t);if(e){var o=ir(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(t,e){if(e&&("object"===Zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return or(t)}function or(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ar(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ur=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&er(t,e)}(i,t);var e,n,r,o=nr(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ar(or(t=o.call(this)),"scoreTxt",void 0),ar(or(t),"scoreNumber",void 0);var e=m.Sprite.from(m.Texture.from("score_place.png"));return t.addChild(e),t.scoreNumber=0,t.scoreTxt=new m.Text(t.scoreFormatted(0),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:16777215,align:"center",letterSpacing:7,fontWeight:"bold"}),t.scoreTxt.anchor.set(.5,.5),t.scoreTxt.position.set(.5*e.width,.5*e.height),t.addChild(t.scoreTxt),t}return e=i,(n=[{key:"score",set:function(t){var e=this,n={score:this.scoreNumber};this.scoreTxt.text=this.scoreFormatted(this.scoreNumber),x.a.to(n,{score:t,duration:.1,ease:O.f.easeNone,onUpdate:function(){e.scoreTxt.text=e.scoreFormatted(Math.floor(n.score))}}),this.scoreNumber=t}},{key:"scoreFormatted",value:function(t){for(var e=t.toString(),n=6-e.length,r=0;r<n;r++)e="0"+e;return e}}])&&tr(e.prototype,n),r&&tr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function cr(t){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lr(t,e){return(lr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hr(t);if(e){var o=hr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pr(this,n)}}function pr(t,e){if(e&&("object"===cr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hr(t){return(hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lr(t,e)}(i,t);var e,n,r,o=fr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,"pause_button.png","pause_button.png")}return e=i,n&&sr(e.prototype,n),r&&sr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(gt);function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function br(t,e){return(br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=kr(t);if(e){var o=kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wr(this,n)}}function wr(t,e){if(e&&("object"===dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gr(t)}function gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kr(t){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&br(t,e)}(i,t);var e,n,r,o=mr(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),xr(gr(t=o.call(this)),"rect",void 0),xr(gr(t),"laser",void 0),t.laser=m.Sprite.from(m.Texture.WHITE),t.laser.width=500,t.laser.height=10,t.laser.tint=5085951,t.laser.alpha=0,t.laser.anchor.set(.5,.5),t.addChild(t.laser),t.laser.visible=!1,t}return e=i,(n=[{key:"activeBound",get:function(){if(this.rect)return[this.rect]}},{key:"getLetters",value:function(){return["{","}"]}},{key:"animate",value:function(t){var e=this;return new Promise((function(n){if(e.getPoint||2!==t.length){var r=e.getPoint();x.a.to(t[0],{x:-300,angle:0,y:50*r,duration:.2}),x.a.to(t[1],{x:300,angle:0,y:50*r,duration:.2}),x.a.delayedCall(.2,(function(){e.laser.visible=!0,e.laser.y=50*r,e.rect=new m.Rectangle(-7,r-.5,14,1),x.a.to(e.laser,{alpha:.6,duration:.1}),x.a.delayedCall(.1,(function(){e.rect=void 0,x.a.to(t[0],{alpha:0,duration:.1}),x.a.to(t[1],{alpha:0,duration:.1}),x.a.to(e.laser,{alpha:0,duration:.1}),x.a.delayedCall(.1,(function(){n()}))}))}))}else n()}))}}])&&vr(e.prototype,n),r&&vr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(zn);function Pr(t){return(Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Br(t,e){return(Br=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr(t);if(e){var o=Cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jr(this,n)}}function jr(t,e){if(e&&("object"===Pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _r,Er,Mr,Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Br(t,e)}(i,t);var e,n,r,o=Rr(i);function i(){return Sr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getLetters",value:function(){return i.all[Math.floor(Math.random()*i.all.length)]}}])&&Tr(e.prototype,n),r&&Tr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(Qn);function Dr(t){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fr(t,e){return(Fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Wr(t);if(e){var o=Wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zr(this,n)}}function zr(t,e){if(e&&("object"===Dr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Wr(t){return(Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}_r=Ar,Er="all",Mr=["YOU ARE JUST GREAT".split(""),"YOU ARE GREAT".split(""),"SUPER PUPER BOOM".split(""),"WISH YOU LUCK, DUDE!".split("")],Er in _r?Object.defineProperty(_r,Er,{value:Mr,enumerable:!0,configurable:!0,writable:!0}):_r[Er]=Mr;var Hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fr(t,e)}(i,t);var e,n,r,o=Nr(i);function i(){return Lr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"isObstacle",value:function(){return!0}}])&&Ir(e.prototype,n),r&&Ir(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(de);function Ur(t){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e){return(Gr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xr(t);if(e){var o=Xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(t,e){if(e&&("object"===Ur(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xr(t){return(Xr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gr(t,e)}(a,t);var e,n,r,i=Vr(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t[0],t[1],100,100,0)).view.scale.set(1,1),e.type=250,e}return e=a,(n=[{key:"createView",value:function(){var t=new m.Sprite(m.Texture.from("app_static.png"));return t.anchor.set(.5),t}},{key:"createShape",value:function(){var t=new o.Box({width:this.view.width/50,height:this.view.height/50});return t.data=!0,t}}])&&Yr(e.prototype,n),r&&Yr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Hr);function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qr(t,e){return(Qr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=no(t);if(e){var o=no(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return to(this,n)}}function to(t,e){if(e&&("object"===qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return eo(t)}function eo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function no(t){return(no=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ro(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oo,io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qr(t,e)}(a,t);var e,n,r,i=Zr(a);function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),ro(eo(n=i.call(this,t[0],t[1],100,100,0)),"moving",!1),ro(eo(n),"lives",void 0),ro(eo(n),"txt",void 0),ro(eo(n),"explosion",void 0),n.type=251,n.lives=e,n.txt=new m.Text(n.lives.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),n.txt.anchor.set(.5,.5),n.txt.y=20,n.view.addChild(n.txt),n.view.scale.set(1,1),n.explosion=new Jt(!1),n.explosion.visible=!1,n.addChild(n.explosion),n}return e=a,(n=[{key:"changePosition",value:function(){var t=this;if(!this.moving){this.lives--;var e=this.lives<=0;this.moving=!0;var n=this.view.scale.x;x.a.to(this.view.scale,{x:.01,y:.01,duration:.1,onUpdate:function(){t.shape.width=t.shape.height=100*t.view.scale.x/50,t.shape.updateBoundingRadius(),t.body.updateBoundingRadius(),t.body.updateMassProperties()},onComplete:function(){if(e)t.destroyBody(),t.explosion.visible=!0,t.explosion.animate().then((function(){t.clean()}));else{t.txt.text=t.lives.toString();var r=9*Math.random()-4.5,o=5*-Math.random();t.body.position=[r,o],x.a.to(t.view.scale,{x:n,y:n,duration:.4,onUpdate:function(){t.shape.width=t.shape.height=100*t.view.scale.x/50,t.shape.updateBoundingRadius(),t.body.updateBoundingRadius(),t.body.updateMassProperties()},onComplete:function(){t.moving=!1}})}}})}}},{key:"createView",value:function(){var t=new m.Sprite(m.Texture.from("app_random.png"));return t.anchor.set(.5),t}},{key:"createShape",value:function(){var t=new o.Box({width:this.view.width/50,height:this.view.height/50});return t.data=!0,t}}])&&$r(e.prototype,n),r&&$r(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Hr);function ao(t){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||co(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(t,e){if(t){if("string"==typeof t)return so(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(t,e):void 0}}function so(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fo(t,e){return(fo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function po(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vo(t);if(e){var o=vo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ho(this,n)}}function ho(t,e){if(e&&("object"===ao(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return yo(t)}function yo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.Begin="begin",t.Moving="moving",t.Heart="heart",t.NewLine="newLine",t.Recharge="recharge",t.Unbreak="unbreak",t.IAPBonus="iapbonus",t.IAPBonus2="iapbonus2",t.ChangePosition="changed",t.Skull="skull",t.AnyType="anytype"}(oo||(oo={}));var mo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fo(t,e)}(i,t);var e,n,r,o=po(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),bo(yo(t=o.call(this)),"allConditions",void 0),bo(yo(t),"textMap",void 0),bo(yo(t),"tutorial",void 0),bo(yo(t),"txt",void 0),bo(yo(t),"back",void 0),t.allConditions=new Map,t.textMap=new Map,t.textMap.set(oo.Begin,"Save the Heart by moving it to the top!"),t.textMap.set(oo.Moving,"Tap the screen and move your finger to aim. Release to shoot."),t.textMap.set(oo.Heart,"The Heart is free and happy now!"),t.textMap.set(oo.NewLine,"It's time for a new emoji load!"),t.textMap.set(oo.Recharge,"Charge it fully to get a bonus!"),t.textMap.set(oo.Unbreak,"This app is invincible!"),t.textMap.set(oo.IAPBonus,"but this bonuses will help you."),t.textMap.set(oo.IAPBonus2,"and this one too!"),t.textMap.set(oo.ChangePosition,"This app should be destroyed! Aim to it!"),t.textMap.set(oo.Skull,"Do not touch this Skulls by Heart or by throwed Emoji!"),t.textMap.set(oo.AnyType,"This ball is matching with any emoji!"),t.back=m.Sprite.from(m.Texture.WHITE),t.back.interactive=!0,t.back.width=N.originalWidth,t.back.height=N.originalHeight,t.addChild(t.back),t.back.position.set(.5*-t.back.width,.5*-t.back.height),t.back.tint=0,t.back.alpha=.3,t.tutorial=new m.NineSlicePlane(m.Texture.from("tutorial.png"),52,52,90,93),t.addChild(t.tutorial),t.txt=new m.Text("",{fontSize:50,fontWeight:"bold",fill:16777215,wordWrap:!0,wordWrapWidth:300}),t.addChild(t.txt),t.visible=!1,t}return e=i,(n=[{key:"addCondition",value:function(t,e){this.allConditions.set(t,e)}},{key:"update",value:function(){var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=co(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this.allConditions);try{for(e.s();!(t=e.n()).done;){var n=uo(t.value,2),r=n[0],o=(0,n[1])();if(o.success){this.show(r,o.data),this.allConditions.delete(r);break}}}catch(t){e.e(t)}finally{e.f()}}},{key:"isDone",value:function(t){return void 0===this.allConditions.get(t)}},{key:"show",value:function(t,e){var n=this,r=this.textMap.get(t);this.txt.text=r,this.tutorial.scale.set(1,1),this.tutorial.pivot.set(this.txt.width+100,this.txt.height+100),this.tutorial.width=this.txt.width+100,this.tutorial.height=this.txt.height+100,this.tutorial.scale.set(0,0);var o={x:1,y:1},i=e.pos,a=e.scale;o.x*=a.x,o.y*=a.y,this.tutorial.position.copyFrom(i),this.txt.position.copyFrom(i),1===a.x?this.txt.x-=60+this.txt.width:this.txt.x+=60,1===a.y?this.txt.y-=60+this.txt.height:this.txt.y+=52,this.txt.scale.set(0,0),this.back.alpha=0;var u=o.x/30,c=o.y/30,s=window.setInterval((function(){n.back.alpha+=.01,n.tutorial.scale.x+=u,n.tutorial.scale.y+=c,n.txt.scale.x+=1/30,n.txt.scale.y+=1/30,n.back.alpha>=.3&&window.clearInterval(s)}),10);this.visible=!0,La(!0,!0),window.setTimeout((function(){La(!1,!0),x.a.globalTimeline.pause(),N.paused=!0,n.back.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,n.hide()}))}),400)}},{key:"hide",value:function(){var t=this;N.paused=!1,x.a.globalTimeline.resume(),x.a.to(this,{alpha:0,duration:.3,onComplete:function(){t.visible=!1,t.alpha=1}}),this.back.off("pointerup")}}])&&lo(e.prototype,n),r&&lo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container),wo=n(198);function go(t){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ko(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xo(t,e){return(xo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=To(t);if(e){var o=To(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Po(this,n)}}function Po(t,e){if(e&&("object"===go(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return So(t)}function So(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ro=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xo(t,e)}(i,t);var e,n,r,o=Oo(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Bo(So(t=o.call(this)),"iconL0",void 0),Bo(So(t),"iconR0",void 0),Bo(So(t),"iconL1",void 0),Bo(So(t),"iconR1",void 0);var e=new m.NineSlicePlane(m.Texture.from("top_back.png"),46,50,46,50);e.tint=0,e.width=370,e.height=250,e.pivot.set(185,100),t.addChild(e),e.y=-50;var n=new m.Text("level powerups:",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:35,fill:16777215,align:"center",fontWeight:"bold"});n.anchor.set(.5,.5),n.position.set(0,-115),t.addChild(n);var r=new m.NineSlicePlane(m.Texture.from("top_back.png"),46,50,46,50);r.pivot.set(80,80),r.width=160,r.height=160,t.addChild(r);var a=new m.NineSlicePlane(m.Texture.from("top_back.png"),46,50,46,50);a.pivot.set(80,80),a.width=160,a.height=160,t.addChild(a),r.position.set(-85,0),a.position.set(85,0);var u=new m.Container,c=new m.Container;t.addChild(u),t.addChild(c),u.position.x=-85,c.position.x=85;var s=m.Sprite.from(m.Texture.WHITE);s.anchor.set(0,.5),s.width=140,s.height=140,t.addChild(s);var l=m.Sprite.from(m.Texture.WHITE);return l.anchor.set(0,.5),l.width=140,l.height=140,t.addChild(l),s.position.x=-145,l.position.x=5,u.mask=s,c.mask=l,t.iconL0=m.Sprite.from(i.randomTexture),t.iconL0.anchor.set(.5,.5),t.iconL0.scale.set(.5,.5),u.addChild(t.iconL0),t.iconR0=m.Sprite.from(i.randomTexture),t.iconR0.anchor.set(.5,.5),t.iconR0.scale.set(.5,.5),c.addChild(t.iconR0),t.iconL1=m.Sprite.from(i.randomTexture),t.iconL1.anchor.set(.5,.5),t.iconL1.scale.set(.5,.5),u.addChild(t.iconL1),t.iconL1.y=140,t.iconR1=m.Sprite.from(i.randomTexture),t.iconR1.anchor.set(.5,.5),t.iconR1.scale.set(.5,.5),c.addChild(t.iconR1),t.iconR1.y=140,t}return e=i,r=[{key:"prepareTextures",value:function(){this.allTextures=new Map,this.allTextures.set(hi.RocketUp,m.Texture.from("powerup_rocket.png")),this.allTextures.set(hi.Kill,m.Texture.from("powerup_bomb.png")),this.allTextures.set(hi.Freeze,m.Texture.from("powerup_freeze.png"))}},{key:"getTexture",value:function(t){return this.allTextures.get(t)}},{key:"randomTexture",get:function(){var t=Array.from(this.allTextures.keys()),e=t[Math.floor(Math.random()*t.length)];return this.getTexture(e)}}],(n=[{key:"start",value:function(t){var e=this;x.a.to({a:0},{a:1,duration:2,onUpdate:function(){if(e.iconL0.y>=140){e.iconL0.texture=i.randomTexture,e.iconR0.texture=i.randomTexture;var t=e.iconL0;e.iconL0=e.iconL1,e.iconL1=t,t=e.iconR0,e.iconR0=e.iconR1,e.iconR1=t,e.iconL0.y=0,e.iconR0.y=0}e.iconL0.y+=10,e.iconR0.y+=10,e.iconL1.y=e.iconL0.y-140,e.iconR1.y=e.iconR0.y-140},onComplete:function(){e.iconL0.y=0,e.iconR0.y=0,e.iconR1.y=140,e.iconL1.y=140,e.iconL0.texture=i.getTexture(t[0]),e.iconR0.texture=i.getTexture(t[1])}})}}])&&ko(e.prototype,n),r&&ko(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function jo(t){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Co(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function _o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eo(t,e){return(Eo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lo(t);if(e){var o=Lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ao(this,n)}}function Ao(t,e){if(e&&("object"===jo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Do(t)}function Do(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lo(t){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Io(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Bo(Ro,"allTextures",void 0);var Fo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eo(t,e)}(u,t);var e,n,r,o,i,a=Mo(u);function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Io(Do(t=a.call(this)),"back",void 0),Io(Do(t),"popup",void 0),Io(Do(t),"callback",void 0),Io(Do(t),"scoreTxt",void 0),Io(Do(t),"title",void 0),Io(Do(t),"stars",void 0),Io(Do(t),"emitter",void 0),Io(Do(t),"prizeIcon",void 0),Io(Do(t),"onTickEvent",(function(e){t.emitter.update(e/70)})),t.back=m.Sprite.from(m.Texture.WHITE),t.back.anchor.set(.5,.5),t.back.width=N.originalWidth,t.back.height=N.originalHeight,t.back.tint=0,t.back.alpha=0,t.addChild(t.back);var e=new m.Container;t.addChild(e),t.popup=new m.Container,t.popup.scale.set(0,0),t.addChild(t.popup);var n=new m.NineSlicePlane(m.Texture.from("top_back.png"),46,50,46,50);n.pivot.set(300,400),n.width=600,n.height=800,t.popup.addChild(n),t.title=new m.Text("Well done!",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"}),t.title.anchor.set(.5,.5),t.title.position.y=-340,t.popup.addChild(t.title),t.scoreTxt=new m.Text("0",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:120,fill:0,align:"center",letterSpacing:7,fontWeight:"bold"}),t.scoreTxt.anchor.set(.5,.5),t.scoreTxt.y=40,t.popup.addChild(t.scoreTxt),t.stars=[];for(var r=-120,o=0;o<3;o++){var i=m.Sprite.from(m.Texture.from("like.png"));i.anchor.set(.5,.5),i.position.set(r,-150),t.popup.addChild(i),t.stars.push(i),i.visible=!1,r+=120}t.popup.addChild(t.stars[1]),t.prizeIcon=new m.Sprite,t.prizeIcon.anchor.set(.5,.5),t.prizeIcon.scale.set(.5,.5),t.prizeIcon.position.copyFrom(t.stars[2]),t.prizeIcon.x+=50,t.prizeIcon.y-=50,t.popup.addChild(t.prizeIcon),t.prizeIcon.visible=!1;var c=new gt("ok_button.png","ok_button.png");return c.on("pointerup",(function(){t.hide()})),c.position.y=300,t.popup.addChild(c),t.emitter=new wo.a(e,"like.png",N.particles),t}return e=u,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function t(e,n,r,o,i,a,u){var c,s,l,f,p,h,y,d,v,b=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=N.levels[a].idealTime,s=e&&r<c?Math.round(1e3*(1-r/c)):0,console.log(a.toString(),u,r,s),n+=s,this.title.text=e?"Well done!":"So sorry...",!(void 0!==(l=u?u[0]:void 0)&&n>=o[2])){t.next=23;break}return t.next=9,Z("powerupDone"+a.toString(),"0");case 9:if(f=t.sent,console.log("pd",f),"0"!==f){t.next=23;break}return this.prizeIcon.visible=!0,this.prizeIcon.scale.set(0,0),this.prizeIcon.texture=Ro.getTexture(l),t.next=17,Z(Xe.getStorageId(l),"0");case 17:return p=t.sent,h=parseInt(p),t.next=21,Q(Xe.getStorageId(l),(h+1).toString());case 21:return t.next=23,Q("powerupDone"+a.toString(),"1");case 23:for(y=0;y<this.stars.length;y++)(d=this.stars[y]).visible=!0,d.scale.set(0,0),d.showed=!1;this.callback=i,this.visible=!0,this.back.alpha=0,this.popup.scale.set(0,0),v={s:0},this.scoreTxt.text="0",x.a.to(v,{s:n,delay:1,duration:2,onUpdate:function(){b.scoreTxt.text=Math.round(v.s).toString();for(var t=0;t<o.length;t++){var e=b.stars[t];if(v.s>=o[t]&&!e.showed){e.showed=!0;var n=1===t?1.5:1;x.a.to(e.scale,{x:n,y:n,duration:.2,ease:O.a.easeOut}),b.prizeIcon.visible&&2===t&&x.a.to(b.prizeIcon.scale,{x:.5,y:.5,duration:.2,ease:O.a.easeOut})}}}}),x.a.to(this.back,{alpha:.5,duration:.5}),x.a.to(this.popup.scale,{x:1,y:1,duration:1,ease:O.a.easeOut}),e&&x.a.delayedCall(1,(function(){b.emitter.emit=!0,m.Ticker.shared.add(b.onTickEvent)}));case 34:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Co(i,n,r,a,u,"next",t)}function u(t){Co(i,n,r,a,u,"throw",t)}a(void 0)}))},function(t,e,n,r,o,a,u){return i.apply(this,arguments)})},{key:"hide",value:function(){var t=this;x.a.to(this.back,{alpha:0,duration:.2}),x.a.to(this.popup.scale,{x:0,y:0,duration:.2,onComplete:function(){t.emitter.emit=!1,t.emitter.cleanup(),m.Ticker.shared.remove(t.onTickEvent),t.prizeIcon.visible=!1,t.visible=!1,t.callback()}})}}])&&_o(e.prototype,n),r&&_o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(m.Container);function No(t){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Wo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ho(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yo(t,e){return(Yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Go(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xo(t);if(e){var o=Xo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vo(this,n)}}function Vo(t,e){if(e&&("object"===No(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ko(t)}function Ko(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xo(t){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yo(t,e)}(u,t);var e,n,r,o,i,a=Go(u);function u(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),Jo(Ko(t=a.call(this)),"texts",void 0),Jo(Ko(t),"usingTexts",void 0),Jo(Ko(t),"back",void 0),Jo(Ko(t),"wheelbox",void 0),Jo(Ko(t),"tween",void 0),Jo(Ko(t),"nameBack",void 0),t.back=m.Sprite.from(m.Texture.WHITE),t.back.anchor.set(.5,.5),t.back.width=N.originalWidth,t.back.height=N.originalHeight,t.back.alpha=0,t.addChild(t.back),t.nameBack=new m.NineSlicePlane(m.Texture.from("name_back.png"),80,80,80,80),t.nameBack.width=600,t.nameBack.alpha=0,t.addChild(t.nameBack),t.texts=[],t.usingTexts=[];for(var e=0;e<4;e++){var n=t.getNewText();t.texts.push(n)}return t.wheelbox=new Ro,t.addChild(t.wheelbox),t.visible=!1,t}return e=u,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function t(e,n){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){r.visible=!0,r.back.alpha=0,r.nameBack.alpha=0,r.wheelbox.position.y=1e3;var o=n&&n.length>0?5:3;x.a.to(r.back,{alpha:.7,duration:.5}),x.a.to(r.nameBack,{alpha:1,duration:.5});for(var i=e.name.split(" "),a=-70*i.length/2+35-100,u=a,c=function(t){var e=i[t],n=void 0;(n=r.texts.length>0?r.texts.pop():r.getNewText()).alpha=1,n.visible=!0,n.text=e,r.addChild(n),r.usingTexts.push(n),n.y=a,n.x=t%2?-500-n.width/2:500+n.width/2,x.a.to(n,{x:0,duration:1,ease:O.d.easeOut}),x.a.to(n,{alpha:0,delay:o-1,duration:.5,onComplete:function(){r.texts.push(n)}}),a+=70},s=0;s<i.length;s++)c(s);x.a.to(r.back,{alpha:0,delay:o-1,duration:.5}),x.a.to(r.nameBack,{alpha:0,delay:o-1,duration:.5}),n&&n.length>0&&(r.wheelbox.visible=!0,r.wheelbox.alpha=1,x.a.to(r.wheelbox,{y:a+140,delay:1,duration:.5,ease:O.d.easeOut,onComplete:function(){r.wheelbox.start(n)}}),x.a.to(r.wheelbox,{alpha:0,delay:o-1,duration:.5}),a+=120+r.wheelbox.height/2);var l=Math.max(400,a-u+100);r.nameBack.pivot.set(300,l/2),r.nameBack.height=l,n&&n.length>0?r.nameBack.y=u-80+l/2:r.nameBack.y=-100,r.tween=x.a.delayedCall(o,(function(){r.usingTexts=[],r.visible=!1,r.tween=void 0,t()}))})));case 1:case"end":return t.stop()}}),t)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){Ho(i,n,r,a,u,"next",t)}function u(t){Ho(i,n,r,a,u,"throw",t)}a(void 0)}))},function(t,e){return i.apply(this,arguments)})},{key:"clear",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0),x.a.killTweensOf(this.wheelbox),x.a.killTweensOf(this.back);var t,e=zo(this.usingTexts);try{for(e.s();!(t=e.n()).done;){var n=t.value;x.a.killTweensOf(n),this.removeChild(n)}}catch(t){e.e(t)}finally{e.f()}this.visible=!1}},{key:"getNewText",value:function(){var t=new m.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});return t.anchor.set(.5,.5),t}}])&&Uo(e.prototype,n),r&&Uo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(m.Container);function $o(t){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zo(t,e){return(Zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ri(t);if(e){var o=ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ei(this,n)}}function ei(t,e){if(e&&("object"===$o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ni(t)}function ni(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ri(t){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zo(t,e)}(i,t);var e,n,r,o=ti(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(ni(t=o.call(this)),"callback",void 0);var e=m.Sprite.from(m.Texture.WHITE);e.anchor.set(.5,.5),e.width=N.originalWidth,e.height=N.originalHeight,e.tint=0,e.alpha=.6,t.addChild(e);var n=new m.NineSlicePlane(m.Texture.from("top_back.png"),46,50,46,50);n.width=500,n.height=360,n.pivot.set(250,180),t.addChild(n);var r=new m.Text("Exit?",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});r.anchor.set(.5,.5),r.position.y=-120,t.addChild(r);var a=new gt("ok_button.png","ok_button.png");a.on("pointerup",(function(e){e.stopPropagation(),e.stopped=!0,t.hide(!0)})),a.position.set(-110,110),a.scale.set(.8,.8),t.addChild(a);var u=new gt("x_button.png","x_button.png");return u.on("pointerup",(function(e){e.stopPropagation(),e.stopped=!0,t.hide(!1)})),u.position.set(110,110),u.scale.set(.8,.8),t.addChild(u),t.visible=!1,t}return e=i,(n=[{key:"show",value:function(t){this.callback=t,this.alpha=1,this.visible=!0}},{key:"hide",value:function(t){var e=this;this.callback(t),this.callback=void 0,x.a.to(this,{alpha:0,duration:.4,onComplete:function(){e.visible=!1}})}}])&&Qo(e.prototype,n),r&&Qo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function ii(t){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ui(t,e){return(ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ci(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fi(t);if(e){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return si(this,n)}}function si(t,e){if(e&&("object"===ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return li(t)}function li(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fi(t){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hi,yi,di,vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ui(t,e)}(i,t);var e,n,r,o=ci(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),pi(li(t=o.call(this)),"part0",void 0),pi(li(t),"part1",void 0),t.part0=m.Sprite.from(m.Texture.from("direction.png")),t.part0.anchor.set(.5,1),t.addChild(t.part0),t.part0.height=1200,t.part1=m.Sprite.from(m.Texture.from("direction.png")),t.part1.anchor.set(.5,1),t.addChild(t.part1),t.part1.height=700,t}return e=i,(n=[{key:"draw",value:function(t){var e=Ci.BottomPoint,n=Math.atan2(t.y-e,t.x);this.part0.rotation=n+Math.PI/2;var r=1200*Math.cos(n),o=e+1200*Math.sin(n),i=1200;r<-315||r>315?(r=(i=Math.abs(r)/r*315/Math.cos(n))*Math.cos(n),o=i*Math.sin(n),this.part1.visible=!0,this.part1.position.set(r,o),this.part1.rotation=-n-Math.PI/2):this.part1.visible=!1,this.part0.height=i}}])&&ai(e.prototype,n),r&&ai(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function bi(t){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mi(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function wi(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){mi(i,r,o,a,u,"next",t)}function u(t){mi(i,r,o,a,u,"throw",t)}a(void 0)}))}}function gi(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return ki(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ki(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ki(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pi(t,e){return(Pi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ri(t);if(e){var o=Ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ti(this,n)}}function Ti(t,e){if(e&&("object"===bi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bi(t)}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ri(t){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ji(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.None=0]="None",t[t.Kill=1]="Kill",t[t.Freeze=2]="Freeze",t[t.RocketUp=3]="RocketUp"}(hi||(hi={})),function(t){t[t.None=0]="None",t[t.BoomLetters=1]="BoomLetters",t[t.LaserLetters=2]="LaserLetters",t[t.BigBoomLetters=3]="BigBoomLetters",t[t.All=4]="All"}(yi||(yi={})),function(t){t[t.None=0]="None",t[t.Random=1]="Random",t[t.Static=2]="Static",t[t.HeartMiddle=3]="HeartMiddle",t[t.Skulls=4]="Skulls"}(di||(di={}));var Ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pi(t,e)}(g,t);var e,n,r,i,a,u,c,s,l,f,p,h,y,d,v,b,w=Si(g);function g(){var t;xi(this,g);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ji(Bi(t=w.call.apply(w,[this].concat(n))),"gameContainer",void 0),ji(Bi(t),"fxContainer",void 0),ji(Bi(t),"frontContainer",void 0),ji(Bi(t),"backContainer",void 0),ji(Bi(t),"moveBox",void 0),ji(Bi(t),"staticBox",void 0),ji(Bi(t),"bottomOpenWall",void 0),ji(Bi(t),"activeBlock",void 0),ji(Bi(t),"maxY",void 0),ji(Bi(t),"tick",0),ji(Bi(t),"levelStartTime",void 0),ji(Bi(t),"moving",void 0),ji(Bi(t),"isActivePowerup",void 0),ji(Bi(t),"preview",void 0),ji(Bi(t),"nextLines",void 0),ji(Bi(t),"previewBlocks",void 0),ji(Bi(t),"nextType",void 0),ji(Bi(t),"nextBlock",void 0),ji(Bi(t),"isTransition",void 0),ji(Bi(t),"powerup1",void 0),ji(Bi(t),"powerup2",void 0),ji(Bi(t),"nextTimer",void 0),ji(Bi(t),"randomBodiesPositions",void 0),ji(Bi(t),"activeBonus",void 0),ji(Bi(t),"boomMeter",void 0),ji(Bi(t),"scorePlace",void 0),ji(Bi(t),"pad",void 0),ji(Bi(t),"padRect",void 0),ji(Bi(t),"downRect",void 0),ji(Bi(t),"topRect",void 0),ji(Bi(t),"levelId",void 0),ji(Bi(t),"meterBonus",void 0),ji(Bi(t),"obstacles",void 0),ji(Bi(t),"score",void 0),ji(Bi(t),"tutorial",void 0),ji(Bi(t),"goalBlock",void 0),ji(Bi(t),"boltsActive",void 0),ji(Bi(t),"levelFinished",void 0),ji(Bi(t),"levelStart",void 0),ji(Bi(t),"pausePopup",void 0),ji(Bi(t),"waitForOver",void 0),ji(Bi(t),"activeBlockDelay",void 0),t}return e=g,(n=[{key:"create",value:function(){var t=this;Ro.prepareTextures(),this.backContainer=new m.Container,this.addChild(this.backContainer),this.gameContainer=new m.Container,this.addChild(this.gameContainer),this.fxContainer=new m.Container,this.addChild(this.fxContainer),this.frontContainer=new m.Container,this.addChild(this.frontContainer),this.levelFinished=new Fo,this.frontContainer.addChild(this.levelFinished),this.levelFinished.visible=!1,this.pad=new m.Sprite(m.Texture.from("launchpad.png")),this.pad.anchor.set(.5,1),this.pad.position.y=.5*N.originalHeight-30,this.gameContainer.addChild(this.pad);var e=new m.NineSlicePlane(m.Texture.from("phone.png"),104,100,104,100);e.width=N.originalWidth+50,e.height=N.originalHeight+40,e.position.set(.5*-e.width,.5*-e.height),this.addChild(e);var n=new m.Container;n.position.set(0,.5*-N.originalHeight+40),this.gameContainer.addChild(n);var r=new yr;r.position.set(-230,30),r.on("pointerup",(function(){t.showPause()})),n.addChild(r),this.powerup1=new Xe,this.powerup1.position.set(-255,620),this.gameContainer.addChild(this.powerup1),this.powerup1.on("activate",(function(e){t.startPowerup(e)})),this.powerup2=new Xe,this.powerup2.position.set(255,620),this.gameContainer.addChild(this.powerup2),this.powerup2.on("activate",(function(e){t.startPowerup(e)})),this.powerup1.visible=!1,this.powerup2.visible=!1,this.preview=new vi,this.gameContainer.addChild(this.preview),this.preview.visible=!1,this.previewBlocks=new xn,this.gameContainer.addChild(this.previewBlocks),this.previewBlocks.y=-900-this.previewBlocks.height;var o=new m.NineSlicePlane(m.Texture.from("progress_bar.png"),6,4,6,4);o.width=600,o.height=15,o.position.set(-300,500),this.gameContainer.addChild(o),this.nextTimer=new rn,this.nextTimer.position.set(-316,-637),this.gameContainer.addChild(this.nextTimer),this.boomMeter=new hn,this.boomMeter.position.set(165,-725),this.boomMeter.scale.set(.85,.85),this.gameContainer.addChild(this.boomMeter),this.scorePlace=new ur,this.scorePlace.position.set(-150,-725),this.gameContainer.addChild(this.scorePlace),this.padRect=new m.Rectangle(-140,610,280,150),this.downRect=new m.Rectangle(-400,500,800,300),this.topRect=new m.Rectangle(.5*-N.originalWidth,.5*-N.originalHeight,N.originalWidth,180),this.tutorial=new mo,this.frontContainer.addChild(this.tutorial),this.levelStart=new qo,this.frontContainer.addChild(this.levelStart),this.pausePopup=new oi,this.frontContainer.addChild(this.pausePopup),this.tutorial.addCondition(oo.Begin,(function(){var e,n=null===(e=t.goalBlock)||void 0===e?void 0:e.position;return{success:t.bottomOpenWall&&0===t.levelId&&!t.levelStart.visible&&(null==n?void 0:n.y)<-100,data:{pos:n,scale:{x:(null==n?void 0:n.x)<-20?-1:1,y:-1}}}})),this.tutorial.addCondition(oo.Moving,(function(){return{success:t.bottomOpenWall&&0===t.levelId&&!t.levelStart.visible,data:{pos:{x:40,y:0},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(oo.Heart,(function(){var e,n=null===(e=t.goalBlock)||void 0===e?void 0:e.position;return{success:t.isTransition,data:{pos:n,scale:{x:(null==n?void 0:n.x)<-20?-1:1,y:-1}}}})),this.tutorial.addCondition(oo.NewLine,(function(){return{success:t.moving,data:{pos:{x:290,y:-550},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(oo.Recharge,(function(){return{success:t.boltsActive,data:{pos:{x:300,y:-650},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(oo.Unbreak,(function(){return{success:t.bottomOpenWall&&t.powerup1.visible&&6===t.levelId&&1===t.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(oo.IAPBonus,(function(){return{success:!t.tutorial.visible&&t.tutorial.isDone(oo.Unbreak)&&t.bottomOpenWall&&t.powerup1.visible&&6===t.levelId&&1===t.obstacles.length,data:{pos:{x:-255,y:620},scale:{x:-1,y:1}}}})),this.tutorial.addCondition(oo.IAPBonus2,(function(){return{success:!t.tutorial.visible&&t.tutorial.isDone(oo.IAPBonus)&&t.bottomOpenWall&&t.powerup1.visible&&6===t.levelId&&1===t.obstacles.length,data:{pos:{x:255,y:620},scale:{x:1,y:1}}}})),this.tutorial.addCondition(oo.ChangePosition,(function(){return{success:t.bottomOpenWall&&t.powerup1.visible&&7===t.levelId&&1===t.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(oo.Skull,(function(){var e,n,r={x:25,y:-125},o=gi(_.bodies);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i&&i.userData&&i.userData.type===ue.skullType){r=i.userData.position;break}}}catch(t){o.e(t)}finally{o.f()}return{success:t.bottomOpenWall&&13===t.levelId&&!t.levelStart.visible,data:{pos:r,scale:{x:(null===(e=r)||void 0===e?void 0:e.x)<-20?-1:1,y:-1}}}})),this.tutorial.addCondition(oo.AnyType,(function(){var e={x:-100,y:g.BottomPoint+20};return{success:t.bottomOpenWall&&t.powerup1.visible&&t.levelId>9&&t.nextType===ue.anyType,data:{pos:e,scale:{x:-1,y:1}}}}))}},{key:"start",value:(b=wi(regeneratorRuntime.mark((function t(){var e,n,r,o,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(nt(),this.waitForOver=!1,this.boltsActive=!1,this.score=0,this.scorePlace.score=0,e=i.length,n=new Array(e),r=0;r<e;r++)n[r]=i[r];return this.levelId=n[0][0],this.activeBonus=yi.None,this.randomBodiesPositions=[],this.obstacles=[],this.isTransition=!1,this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.generateLineBlocks(),this.tick=0,this.maxY=-800,this.moving=!1,this.nextTimer.freeze(),Ya("start","game","level"),Ha(Ea.Start),N.paused=!1,t.next=24,this.generateStartBlocks();case 24:return o=this.generateIAPS(),t.next=27,this.levelStart.show(this.currentLevelData,o);case 27:this.currentLevelData.iaps&&(this.powerup1.setData(o[0],Ro.getTexture(o[0]),Ro.getTexture(o[0])),this.powerup2.setData(o[1],Ro.getTexture(o[1]),Ro.getTexture(o[1])),this.powerup1.visible=!0,this.powerup2.visible=!0),this.boomMeter.maximum=this.currentLevelData.boomMeter,this.addActiveBlock(),this.nextTimer.unFreeze(),this.levelStartTime=(new Date).getTime(),E.stage.on("pointerup",this.onClick,this),E.stage.on("pointerdown",this.onTapStart,this);case 34:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"close",value:(v=wi(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){E.stage.off("pointerup"),E.stage.off("pointerdown"),N.paused=!1,e.waitForOver=!0,La(!1),e.boltsActive=!1,e.nextTimer.clear(),e.boomMeter.reset(!0),e.levelStart.clear(),e.moveBox&&e.moveBox.clean(),e.staticBox&&e.staticBox.clean(),e.bottomOpenWall&&e.bottomOpenWall.clean(),e.activeBlock&&e.activeBlock.clean(),e.activeBonus=yi.None,e.tick=0,e.moving=!1,e.isActivePowerup=!1,e.previewBlocks&&e.previewBlocks.clear(),e.nextBlock&&e.nextBlock.clean(),e.preview.visible=!1,e.powerup1.visible=!1,e.powerup2.visible=!1,e.nextLines=[],e.randomBodiesPositions=[],e.obstacles=[],e.fxContainer.removeChildren(),_.bodies.forEach((function(t){t&&t.userData&&t.userData.clean()}));for(var n=e.gameContainer.children.length-1;n>=0;n--){var r=e.gameContainer.children[n];r.createBody&&e.gameContainer.removeChild(r)}x.a.globalTimeline.clear();var o=window.setInterval((function(){var e=_.bodies.filter((function(t){return t&&t.userData}));0===e.length?(window.clearInterval(o),t()):console.log(e)}),50)})));case 1:case"end":return t.stop()}}),t)}))),function(){return v.apply(this,arguments)})},{key:"showPause",value:function(){x.a.globalTimeline.pause(),N.paused=!0,this.pausePopup.show((function(t){N.paused=!1,x.a.globalTimeline.resume(),t&&L.start(ca)}))}},{key:"generateIAPS",value:function(){if(this.currentLevelData.iaps){for(var t=[hi.Kill,hi.RocketUp,hi.Freeze],e=[],n=0;n<2;n++){var r=Math.floor(Math.random()*t.length);e.push(t[r]),t.splice(r,1)}return e}}},{key:"unusedBlocksRemoved",value:function(t,e){if(!this.isTransition){var n=5*t;t>=5&&e&&(this.fireMissle(1,e),n+=50),this.addScore(n),this.activeBonus||this.levelId>1&&this.playBolts(t,e)}}},{key:"addToBoomMeter",value:function(t){if(!this.activeBonus&&this.boomMeter.update(t)){var e=this.getRandomBonus();this.setActiveBonus(e)}}},{key:"playBolts",value:(d=wi(regeneratorRuntime.mark((function t(e,n){var r,o,i,a,u=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e<2)&&n){t.next=2;break}return t.abrupt("return");case 2:this.boltsActive=!0,r=e,e=Math.min(e,6),o=r/e,i=regeneratorRuntime.mark((function t(e){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Math.floor(4*Math.random()),(i=new m.Sprite(m.Texture.from("bolt".concat(r,".png")))).anchor.set(.5,.5),i.scale.set(.1,.1),i.rotation=Math.PI/2+Math.atan2(-680-n.y,270-n.x),i.position.copyFrom(n),u.fxContainer.addChild(i),x.a.to(i.scale,{x:1.5,y:1.5,duration:.4,ease:O.f.easeNone}),x.a.to(i.scale,{x:0,y:0,delay:.4,duration:.4,ease:O.f.easeNone}),x.a.to(i.position,{x:270,y:-680,duration:.8,ease:O.f.easeNone,onComplete:function(){u.addToBoomMeter(o),u.fxContainer.removeChild(i)}}),t.next=12,u.delay(.1);case 12:case"end":return t.stop()}}),t)})),a=0;case 9:if(!(a<e)){t.next=14;break}return t.delegateYield(i(a),"t0",11);case 11:a++,t.next=9;break;case 14:this.boltsActive=!1;case 15:case"end":return t.stop()}}),t,this)}))),function(t,e){return d.apply(this,arguments)})},{key:"addScore",value:function(t){this.score+=t,this.scorePlace.score=this.score}},{key:"currentLevelData",get:function(){return N.levels[this.levelId]}},{key:"getRandomPosition",value:function(){if(!this.isTransition){var t=Math.floor(Math.random()*this.randomBodiesPositions.length),e=this.randomBodiesPositions[t];if(this.randomBodiesPositions.splice(t,1),!(Math.abs(e[1])>=20))return e}}},{key:"setActiveBonus",value:(y=wi(regeneratorRuntime.mark((function t(e){var n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.activeBonus=e,this.nextTimer.freeze(),this.addScore(100),n=void 0,t.t0=e,t.next=t.t0===yi.BoomLetters||t.t0===yi.BigBoomLetters?7:t.t0===yi.LaserLetters?10:13;break;case 7:return this.meterBonus=e===yi.BoomLetters?new Qn:new Ar,n=function(){return r.getRandomPosition()},t.abrupt("break",14);case 10:return this.meterBonus=new Or,n=function(){var t=r.getRandomPosition();if(t)return t[1]},t.abrupt("break",14);case 13:return t.abrupt("return");case 14:return this.frontContainer.addChild(this.meterBonus),t.next=17,this.meterBonus.start(n);case 17:this.clearMeterBonus(!1),this.nextTimer.unFreeze();case 19:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"getRandomBonus",value:function(){var t=this.currentLevelData.bonuses;return t[Math.floor(Math.random()*t.length)]}},{key:"fireMissle",value:(h=wi(regeneratorRuntime.mark((function t(e,n){var r,o,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isTransition){t.next=2;break}return t.abrupt("return");case 2:La(!0),e=Math.min(e,this.randomBodiesPositions.length),r=regeneratorRuntime.mark((function t(e){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=i.getRandomPosition())&&!i.isTransition){t.next=3;break}return t.abrupt("return","continue");case 3:return(o=new m.Sprite(m.Texture.from("like.png"))).anchor.set(.5,.5),o.scale.set(.1,.1),o.position.copyFrom(n),i.fxContainer.addChild(o),x.a.to(o.scale,{x:1.5,y:1.5,duration:.5,ease:O.f.easeNone}),x.a.to(o.scale,{x:0,y:0,delay:.5,duration:.5,ease:O.f.easeNone}),x.a.to(o.position,{x:50*r[0],y:50*r[1],duration:1,ease:O.f.easeNone,onComplete:function(){i.createExplosion(o.position,0),Aa.push(r),i.fxContainer.removeChild(o)}}),t.next=13,i.delay(.2);case 13:case"end":return t.stop()}}),t)})),o=0;case 7:if(!(o<e)){t.next=15;break}return t.delegateYield(r(o),"t0",9);case 9:if("continue"!==t.t0){t.next=12;break}return t.abrupt("continue",12);case 12:o++,t.next=7;break;case 15:x.a.delayedCall(.2,(function(){La(!1)}));case 16:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"createExplosion",value:function(t,e){var n=new Jt(!0,e);n.position.copyFrom(t),this.fxContainer.addChild(n)}},{key:"clearActiveBlocks",value:function(){this.activeBlockDelay&&this.activeBlockDelay.kill(),x.a.killTweensOf(this.activeBlock),x.a.killTweensOf(this.nextBlock),x.a.killTweensOf(this.preview),this.nextBlock&&(this.pad.removeChild(this.nextBlock),this.nextBlock.clean()),this.activeBlock&&(this.gameContainer.removeChild(this.activeBlock),this.activeBlock.clean(),this.preview.visible=!1),this.activeBlock=void 0,this.nextBlock=void 0,this.nextType=void 0}},{key:"stopBonuses",value:function(){this.activeBonus=yi.None,this.clearActiveBlocks()}},{key:"levelComplete",value:function(){this.stopBonuses(),this.isTransition=!0,this.moving=!1,this.obstacles.forEach((function(t){t.clean()})),this.obstacles=[],this.previewBlocks.y=-900-this.previewBlocks.height,this.previewBlocks&&this.previewBlocks.clear(),this.bottomOpenWall&&this.bottomOpenWall.animateAndDestroy(),this.bottomOpenWall=void 0,this.moveBox&&this.moveBox.animateAndDestroy(),this.staticBox&&this.staticBox.animateAndDestroy()}},{key:"heartDeath",value:function(){this.goalBlock.isSkull()||(this.goalBlock.setSkull(),this.moveBalls())}},{key:"moveBalls",value:function(){var t=this;if(!this.isTransition&&!this.moving){this.moving=!0;var e=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};this.previewBlocks.show(),x.a.to(this.previewBlocks,{y:-570,duration:1.1}),x.a.to(r,{y:(70*e-500)/50,delay:.1,duration:1,ease:O.f.easeNone,onUpdate:function(){t.moveBox.body?t.moveBox.body.position=[r.x,r.y]:x.a.killTweensOf(r)},onComplete:function(){t.moveBox.body.position=[0,-11.5],t.addLineBlocks(),t.generateLineBlocks(),x.a.to(t.previewBlocks,{y:-900-t.previewBlocks.height,duration:.5}),t.moving=!1}})}}},{key:"update",value:function(t){var e=this;if(!N.paused&&!this.waitForOver){this.drawMouse();var n=this.meterBonus&&this.meterBonus.activeBound||void 0;this.maxY=-800;var r=!1,i=!1,a=void 0,u=[];if(this.randomBodiesPositions=[],_.bodies.forEach((function(t){var c=t.position;t.userData.kinematic&&t!==e.moveBox.body&&(c[1]<-9.1||c[1]>(g.BottomPoint+10)/50)&&(t.userData.shape.material=N.material,t.gravityScale=1),t.type===o.Body.DYNAMIC&&c[1]>-g.BottomPoint/50&&t.userData&&t.userData.type!==ue.goalType&&e.randomBodiesPositions.push(t.position),!e.isTransition&&t.type===o.Body.DYNAMIC&&c[1]>e.maxY&&(e.maxY=c[1]),e.isTransition&&t.type===o.Body.DYNAMIC&&c[1]>-g.BottomPoint/50&&(r=!0),e.isTransition&&t.type===o.Body.DYNAMIC&&c[1]<3*-g.BottomPoint/50&&t.userData.clean(),t.type===o.Body.DYNAMIC&&t.userData&&t.userData.isGoal()&&(a=t.userData,!e.isTransition&&c[1]>9&&(i=!0)),!e.isTransition&&n&&t.type===o.Body.DYNAMIC&&t.userData&&t.userData.type!==ue.goalType&&n.forEach((function(e){e.contains(c[0],c[1])&&u.push(t)}))})),a&&!i&&a.resetDeathCounter(),this.goalBlock=a,this.tutorial.update(),this.isTransition&&!r&&!this.levelFinished.visible){this.previewBlocks.y=-900-this.previewBlocks.height,this.nextTimer.clear(),this.boomMeter.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1;var c=(new Date).getTime()-this.levelStartTime;this.levelFinished.show(!0,this.score,c,this.currentLevelData.starsConditions,(function(){e.moveToNextLevel()}),this.levelId,this.generateIAPS()),this.nextTimer.freeze(),this.obstacles=[]}if(!this.moving&&!this.isTransition){if(a&&i&&a.startCountDeath(),!this.nextTimer.isFrozen){this.tick+=Math.floor(60*t);var s=this.tick%this.currentLevelData.time;this.nextTimer.setProgress(s/this.currentLevelData.time),0===s&&(this.nextTimer.setProgress(1),u=[],this.moveBalls())}if(u.length>0){var l=0;u.forEach((function(t){var n=t.userData;l+=n.boom(!1),e.createExplosion(n.position,.2*Math.random())})),console.log(l),this.unusedBlocksRemoved(l)}}}}},{key:"moveToNextLevel",value:function(){var t=this;console.log("finished",this.levelId,this.score),N.levels.length>this.levelId+1&&((this.score>this.currentLevelData.score||!this.currentLevelData.score)&&(this.currentLevelData.score=this.score,Q(this.currentLevelData.name,this.score.toString()),console.log("set score")),this.levelId+=1,this.currentLevelData.score||0===this.currentLevelData.score||(this.currentLevelData.score=0,Q(this.currentLevelData.name,"0"))),this.boomMeter.maximum=this.currentLevelData.boomMeter,this.score=0,this.scorePlace.score=0,this.createMoveWalls(),this.generateNewBlocks().then((function(){var e=t.generateIAPS();t.levelStart.show(t.currentLevelData,e).then((function(){t.currentLevelData.iaps&&(t.powerup1.setData(e[0],Ro.getTexture(e[0]),Ro.getTexture(e[0])),t.powerup2.setData(e[1],Ro.getTexture(e[1]),Ro.getTexture(e[1])),t.powerup1.visible=!0,t.powerup2.visible=!0),t.generateLineBlocks(),t.addActiveBlock(),t.previewBlocks.y=-900-t.previewBlocks.height,t.nextTimer.unFreeze(),t.levelStartTime=(new Date).getTime()}))})),this.isTransition=!1,N.paused=!1}},{key:"startPowerup",value:(p=wi(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.isActivePowerup||N.paused||this.isTransition)){t.next=2;break}return t.abrupt("return");case 2:this.isActivePowerup=!0,t.t0=e,t.next=t.t0===hi.RocketUp?6:t.t0===hi.Kill?9:t.t0===hi.Freeze?12:14;break;case 6:return t.next=8,this.startVerticalRocket();case 8:return t.abrupt("break",14);case 9:return n=this.getRandomType(),_.bodies.forEach((function(t){var e=t.userData;e&&e.type===n&&e.setBomb()})),t.abrupt("break",14);case 12:return this.nextTimer.freeze(10),t.abrupt("break",14);case 14:this.isActivePowerup=!1;case 15:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"startVerticalRocket",value:(f=wi(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=560*Math.random()-280,t.next=3,this.startRocket(e,g.BottomPoint,e,-450);case 3:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"startRocket",value:(l=wi(regeneratorRuntime.mark((function t(e,n,r,o){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=new Se(e,n,r,o),this.gameContainer.addChild(i),t.next=4,i.animate();case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n,r){return l.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextBlock&&this.pad.removeChild(this.nextBlock),this.nextType=-1!==t?t:this.getRandomType(!0),this.nextBlock=new ue(-90,-20,this.nextType,!1),this.pad.addChild(this.nextBlock),-1===t&&(this.nextBlock.alpha=0,x.a.to(this.nextBlock,{alpha:1,duration:.3}))}},{key:"getRandomType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.levelId>9&&Math.random()<.02?ue.anyType:Math.floor(Math.random()*this.currentLevelData.blocks)+1}},{key:"addActiveBlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextType||(this.nextType=this.getRandomType(!0)),this.activeBlock=new ue(0,g.BottomPoint,this.nextType,!1),this.activeBlock.kinematic=!0,this.gameContainer.addChild(this.activeBlock),this.generateActiveBlock(t),this.preview.position.copyFrom(this.activeBlock.position),this.preview.visible=!0,-1===t&&(this.activeBlock.alpha=0,this.preview.alpha=0,x.a.to(this.activeBlock,{alpha:1,duration:.3}),x.a.to(this.preview,{alpha:.8,duration:.3}))}},{key:"switchBlockes",value:(s=wi(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.activeBlock.type,n=this.nextType,t.next=4,new Promise((function(t){x.a.to(r.nextBlock,{x:0,y:-50,duration:.2}),x.a.to(r.activeBlock,{x:-90,y:700,duration:.2,onComplete:function(){t()}})}));case 4:this.clearActiveBlocks(),this.nextType=n,this.addActiveBlock(e);case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"drawMouse",value:function(){var t=this.toLocal(E.renderer.plugins.interaction.eventData.data.global);this.isTransition||N.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(t.x,t.y)||this.topRect.contains(t.x,t.y)||this.preview.draw(t)}},{key:"onTapStart",value:function(t){var e=this.toLocal(t.data.global);this.isTransition||N.paused||this.topRect.contains(e.x,e.y)||(this.padRect.contains(e.x,e.y)?this.switchBlockes():this.downRect.contains(e.x,e.y)||this.drawMouse())}},{key:"onClick",value:function(t){var e=this,n=this.toLocal(t.data.global);if(!(this.isTransition||N.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(n.x,n.y)||this.topRect.contains(n.x,n.y))){this.activeBlock.createBody(o.Body.DYNAMIC,30),this.activeBlock.shape.material=N.activeBallMaterial;var r=this.activeBlock;this.activeBlock=void 0,this.preview.visible=!1;var i=Math.atan2((n.y-g.BottomPoint)/50,n.x/50);r.body.gravityScale=0,r.body.applyImpulse([450*Math.cos(i),450*Math.sin(i)]),this.activeBlockDelay=x.a.delayedCall(.4,(function(){e.activeBlockDelay=void 0,e.addActiveBlock()})),_.bodies.forEach((function(t){t&&t.userData&&t.userData.type===ue.skullType&&t.userData.decreaseSkullMeter()}))}}},{key:"generateLineBlocks",value:function(){var t=this.currentLevelData.lines;this.previewBlocks.clear(),this.nextLines=[];for(var e=0;e<t;e++){this.nextLines[e]=[];for(var n=0;n<9;n++)this.nextLines[e][n]=Math.floor(Math.random()*this.currentLevelData.blocks)+1}this.previewBlocks.setLines(this.nextLines)}},{key:"addLineBlocks",value:function(){for(var t,e=-500,n=0;n<this.nextLines.length;n++){t=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=new ue(t,e,this.nextLines[n][r]);this.gameContainer.addChild(o),t+=74}e+=70}}},{key:"delay",value:(c=wi(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){x.a.delayedCall(e,(function(){t()}))})));case 1:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)})},{key:"generateNewBlocks",value:(u=wi(regeneratorRuntime.mark((function t(){var e,n,r,o,i,a,u,c,s,l,f,p,h,y,d=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=this.currentLevelData,n=e.startAmount,r=e.blocks,o=e.obstacles,i=!1,a=0,o&&o.length>0&&o.forEach((function(t){d.createObstacle(t),t.type===di.HeartMiddle?i=!0:t.type===di.Skulls&&(a=t.amount)})),u=[],c=0;c<a;c++){for(s=Math.floor(Math.random()*(n-19));u.includes(s);)s=Math.floor(Math.random()*(n-19));u.push(s)}l=0;case 7:if(!(l<n)){t.next=23;break}return f=-1,f=u.includes(l)?ue.skullType:Math.floor(Math.random()*r)+1,p=new ue(50*Math.random()-25,900,f),this.gameContainer.addChild(p),t.next=14,this.delay(.001);case 14:if(!i||l!==Math.floor(n/2)){t.next=20;break}return(h=new Ie(0,1100,ue.goalType)).on("gameover",this.onGameOver,this),this.gameContainer.addChild(h),t.next=20,this.delay(1);case 20:l++,t.next=7;break;case 23:if(i){t.next=29;break}return t.next=26,this.delay(1);case 26:(y=new Ie(0,1100,ue.goalType)).on("gameover",this.onGameOver,this),this.gameContainer.addChild(y);case 29:return t.next=31,this.delay(1);case 31:this.createBottomExit();case 32:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"createObstacle",value:function(t){if(t.type!==di.HeartMiddle&&t.type!==di.Skulls){var e=void 0;switch(t.type){case di.Static:e=new Jr(t.position);break;case di.Random:e=new io(t.position,t.lives)}this.gameContainer.addChild(e),this.obstacles.push(e)}}},{key:"onGameOver",value:function(){var t,e,n,r=this;null===(t=this.nextTimer)||void 0===t||t.clear(),null===(e=this.boomMeter)||void 0===e||e.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1,this.score=0,this.levelFinished.show(!1,this.score,Number.MAX_SAFE_INTEGER,this.currentLevelData.starsConditions,(function(){r.restartLevel()}),this.levelId,void 0),null===(n=this.nextTimer)||void 0===n||n.freeze(),this.obstacles=[],N.paused=!0}},{key:"restartLevel",value:function(){this.isTransition=!0,L.restart(this.levelId)}},{key:"generateStartBlocks",value:(a=wi(regeneratorRuntime.mark((function t(){var e,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.createMoveWalls(),(e=new de(-400,-50,100,1800,0)).shape.material=N.bounceMaterial,this.gameContainer.addChild(e),(n=new de(400,-50,100,1800,0)).shape.material=N.bounceMaterial,this.gameContainer.addChild(n),r=new de(-225,800,250,100,0),this.gameContainer.addChild(r),o=new de(225,800,250,100,0),this.gameContainer.addChild(o),i=new de(-150,1100,100,500,0),this.gameContainer.addChild(i),a=new de(150,1100,100,500,0),this.gameContainer.addChild(a),u=new de(0,1300,200,100,0),this.gameContainer.addChild(u),t.next=19,this.generateNewBlocks();case 19:N.started=!0;case 20:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"createMoveWalls",value:function(){this.moveBox=new de(0,-575,710,50,0),this.moveBox.type=ue.endType,this.gameContainer.addChild(this.moveBox),this.staticBox=new de(0,-625,710,50,0),this.gameContainer.addChild(this.staticBox)}},{key:"createBottomExit",value:function(){this.bottomOpenWall=new de(0,800,200,100,0),this.gameContainer.addChild(this.bottomOpenWall)}},{key:"clearMeterBonus",value:(i=wi(regeneratorRuntime.mark((function t(){var e,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(n.length>0&&void 0!==n[0])||n[0],!this.meterBonus){t.next=6;break}if(e){t.next=5;break}return t.next=5,this.meterBonus.goOut();case 5:this.meterBonus&&(this.meterBonus.clean(),this.frontContainer.removeChild(this.meterBonus),this.meterBonus=void 0);case 6:this.activeBonus=yi.None;case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}])&&Oi(e.prototype,n),r&&Oi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),g}(st);function _i(t){return(_i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mi(t,e){return(Mi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ii(t);if(e){var o=Ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Di(this,n)}}function Di(t,e){if(e&&("object"===_i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Li(t)}function Li(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ii(t){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}ji(Ci,"BottomPoint",670);var Ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mi(t,e)}(i,t);var e,n,r,o=Ai(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Fi(Li(t=o.call(this)),"explosion",void 0),Fi(Li(t),"face",void 0),Fi(Li(t),"logo",void 0),t.explosion=m.Sprite.from(m.Texture.from("splash_explosion.png")),t.explosion.anchor.set(.5),t.explosion.scale.set(0,0),t.explosion.position.y=.5*-N.originalHeight+516,t.explosion.alpha=0,t.addChild(t.explosion),t.face=m.Sprite.from(m.Texture.from("splash_logo_face.png")),t.face.position.set(-131,-350),t.face.alpha=0,t.addChild(t.face),t.logo=m.Sprite.from(m.Texture.from("splash_logo.png")),t.logo.anchor.set(.5),t.logo.position.set(0,-260),t.logo.scale.set(3,3),t.logo.alpha=0,t.addChild(t.logo),t}return e=i,(n=[{key:"start",value:function(){this.explosion.position.y=.5*-N.originalHeight+516,this.explosion.scale.set(0,0),this.explosion.alpha=0,this.face.position.set(-131,-350),this.face.alpha=0,this.logo.position.set(0,-260),this.logo.scale.set(3,3),this.logo.alpha=0,x.a.to(this.explosion,{alpha:1,duration:.2}),x.a.to(this.explosion.scale,{x:1,y:1,duration:1,ease:O.c.easeOut}),x.a.to(this.logo,{alpha:1,delay:.2,duration:.2}),x.a.to(this.logo.scale,{x:1,y:1,delay:.2,duration:1,ease:O.a.easeOut}),x.a.to(this.face,{alpha:1,delay:1.09,duration:.1}),x.a.to(this.face,{y:-448,delay:1.1,duration:2,ease:O.f.easeNone})}},{key:"stop",value:function(){x.a.killTweensOf(this.explosion),x.a.killTweensOf(this.explosion.scale),x.a.killTweensOf(this.logo),x.a.killTweensOf(this.logo.scale),x.a.killTweensOf(this.face)}}])&&Ei(e.prototype,n),r&&Ei(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function zi(t){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hi(t,e){return(Hi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ui(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vi(t);if(e){var o=Vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yi(this,n)}}function Yi(t,e){if(e&&("object"===zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gi(t)}function Gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vi(t){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ki(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hi(t,e)}(i,t);var e,n,r,o=Ui(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ki(Gi(t=o.call(this)),"txt",void 0),Ki(Gi(t),"lockedTxt",void 0),Ki(Gi(t),"hearts",void 0),t.txt=new m.Text("Level 1",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),t.txt.anchor.set(.5,1),t.txt.position.set(0,-75),t.addChild(t.txt);var e=new m.NineSlicePlane(m.Texture.from("top_back.png"),46,50,46,50);e.pivot.set(160,70),e.width=320,e.height=140,e.tint=14540253,t.addChild(e),t.lockedTxt=new m.Text("Locked",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:11184810,fontWeight:"bold",align:"center"}),t.lockedTxt.anchor.set(.5,.5),t.lockedTxt.position.set(0,0),t.addChild(t.lockedTxt),t.hearts=[];for(var n=-90,r=0;r<3;r++){var a=new m.Sprite(m.Texture.from("like.png"));a.alpha=.3,a.anchor.set(.5,.5),a.scale.set(.6),a.position.x=n,t.addChild(a),t.hearts.push(a),n+=90}return t}return e=i,(n=[{key:"updateData",value:function(t,e){this.txt.text="Level ".concat(t+1);for(var n=0;n<3;n++)this.hearts[n].alpha=e>=n+1?1:e>=0?.3:0;this.lockedTxt.visible=-1===e}}])&&Wi(e.prototype,n),r&&Wi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),i}(m.Container);function Ji(t){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qi(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return $i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function $i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qi(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Zi(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Qi(i,r,o,a,u,"next",t)}function u(t){Qi(i,r,o,a,u,"throw",t)}a(void 0)}))}}function ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ea(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function na(t,e){return(na=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=aa(t);if(e){var o=aa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oa(this,n)}}function oa(t,e){if(e&&("object"===Ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ia(t)}function ia(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aa(t){return(aa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ua(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ca=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}(s,t);var e,n,r,o,i,a,u,c=ra(s);function s(){var t;ta(this,s);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ua(ia(t=c.call.apply(c,[this].concat(n))),"logo",void 0),ua(ia(t),"activeLevelItem",void 0),ua(ia(t),"activeLevelId",void 0),ua(ia(t),"left",void 0),ua(ia(t),"right",void 0),ua(ia(t),"canPlay",void 0),ua(ia(t),"playBtn",void 0),t}return e=s,(n=[{key:"create",value:function(){var t=this;this.logo=new Ni,this.addChild(this.logo),this.playBtn=new gt("start_button.png","start_button.png"),this.playBtn.position.y=N.originalHeight/3-30,this.addChild(this.playBtn),this.playBtn.on("pointerup",(function(){Ya("click","menu","play"),t.onPlayClicked()})),this.createMapItems()}},{key:"start",value:function(){Ya("start","menu","level"),this.logo.start(),this.setActiveLevel()}},{key:"close",value:(u=Zi(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ya("close","menu","level"),this.logo.stop();case 2:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"setActiveLevel",value:(a=Zi(regeneratorRuntime.mark((function t(){var e,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=N.levels,n=0,r=-1,o=qi(e),t.prev=4,o.s();case 6:if((i=o.n()).done){t.next=20;break}return a=i.value,t.next=10,Z(a.name,"");case 10:if(u=t.sent,r=-1,""!==u&&(a.score=parseInt(u),r=Da(a.score,a.starsConditions)),0!==r&&-1!==r){t.next=17;break}return t.abrupt("break",20);case 17:n++;case 18:t.next=6;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),o.e(t.t0);case 25:return t.prev=25,o.f(),t.finish(25);case 28:this.activeLevelId=n,this.canPlay=-1!==r,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 32:case"end":return t.stop()}}),t,this,[[4,22,25,28]])}))),function(){return a.apply(this,arguments)})},{key:"updateButtons",value:function(){this.playBtn.disabled=!this.canPlay,this.left.visible=this.activeLevelId>0,this.right.visible=this.activeLevelId<N.levels.length-1}},{key:"createMapItems",value:function(){var t=this;this.activeLevelItem=new Xi,this.activeLevelItem.position.set(0,N.originalHeight/3-230),this.addChild(this.activeLevelItem),this.left=new jt("",100,0,6308578),this.left.position.set(-230,this.activeLevelItem.y),this.addChild(this.left),this.right=new jt("",100,0,6308578),this.right.position.set(230,this.activeLevelItem.y),this.addChild(this.right),this.left.on("pointerup",(function(){Ya("click","menu","left"),t.activeLevelId--,t.updateActive()})),this.right.on("pointerup",(function(){Ya("click","menu","right"),t.activeLevelId++,t.updateActive()}))}},{key:"updateActive",value:(i=Zi(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=N.levels[this.activeLevelId],t.next=3,Z(e.name,"");case 3:n=t.sent,r=-1,""!==n&&(e.score=parseInt(n),r=Da(e.score,e.starsConditions)),this.canPlay=!0,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 9:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"onPlayClicked",value:(o=Zi(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.canPlay){t.next=2;break}return t.abrupt("return");case 2:if(!q||!X.shouldPlayFirstAds()){t.next=5;break}return t.next=5,tt(G.Interstitial);case 5:L.start(Ci,this.activeLevelId);case 6:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})}])&&ea(e.prototype,n),r&&ea(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(st),sa=n(199);function la(t){return(la="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fa(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function pa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ya(t,e){return(ya=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function da(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ma(t);if(e){var o=ma(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return va(this,n)}}function va(t,e){if(e&&("object"===la(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ba(t)}function ba(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ma(t){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ya(t,e)}(u,t);var e,n,r,o,i,a=da(u);function u(){var t;pa(this,u);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return wa(ba(t=a.call.apply(a,[this].concat(n))),"comics",void 0),wa(ba(t),"step",void 0),wa(ba(t),"nextBtn",void 0),wa(ba(t),"prevBtn",void 0),wa(ba(t),"okBtn",void 0),t}return e=u,(n=[{key:"create",value:function(){var t=this;this.comics=m.Sprite.from(m.Texture.from("comic_00.png")),this.comics.anchor.set(.5,.5),this.addChild(this.comics),this.nextBtn=new gt("next_button.png","next_button.png"),this.nextBtn.position.set(160,N.originalHeight/2-this.nextBtn.height/2),this.addChild(this.nextBtn),this.nextBtn.on("pointerup",(function(){Ya("click","comics","next"),t.onNextClicked()})),this.prevBtn=new gt("back_button.png","back_button.png"),this.prevBtn.position.set(-160,this.nextBtn.y),this.addChild(this.prevBtn),this.prevBtn.on("pointerup",(function(){Ya("click","comics","prev"),t.onPrevClicked()})),this.okBtn=new gt("ok_button.png","ok_button.png"),this.okBtn.on("pointerup",(function(){Q("skipcomics","1"),L.start(ca)})),this.okBtn.position.y=this.nextBtn.y-50,this.addChild(this.okBtn),this.prevBtn.visible=!1,this.nextBtn.visible=!1,this.okBtn.visible=!1}},{key:"start",value:function(){Ya("start","menu","level"),this.step=0,this.prevBtn.visible=!1,this.nextBtn.visible=!0,this.okBtn.visible=!1}},{key:"close",value:(o=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(Ya("close","menu","level"),e=0;e<6;e++)m.Texture.removeFromCache("comic_0".concat(e,".png"));this.removeChild(this.okBtn),this.okBtn=void 0,this.destroy({children:!0,texture:!0});case 5:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,r){var i=o.apply(t,e);function a(t){fa(i,n,r,a,u,"next",t)}function u(t){fa(i,n,r,a,u,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onNextClicked",value:function(){this.step++,this.step<5?(this.updateImage(),this.prevBtn.visible=!0,this.nextBtn.visible=!0):5===this.step&&(this.updateImage(),this.okBtn.visible=!0,this.prevBtn.visible=!1,this.nextBtn.visible=!1)}},{key:"onPrevClicked",value:function(){this.step--,this.prevBtn.visible=this.step>0,this.updateImage()}},{key:"updateImage",value:function(){this.comics.texture=m.Texture.from("comic_0".concat(this.step,".png"))}}])&&ha(e.prototype,n),r&&ha(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(st);function ka(t){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xa(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function Oa(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){xa(i,r,o,a,u,"next",t)}function u(t){xa(i,r,o,a,u,"throw",t)}a(void 0)}))}}function Pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sa(t,e){return(Sa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ta(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ra(t);if(e){var o=Ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ba(this,n)}}function Ba(t,e){if(e&&("object"===ka(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ra(t){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ja,Ca,_a,Ea,Ma=[],Aa=[],Da=function(t,e){for(var n=0,r=0;r<e.length&&t>e[r];r++)n++;return n},La=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];N.slowmo=t,e||x.a.globalTimeline.timeScale(N.slowmo?.3:1)},Ia=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sa(t,e)}(f,t);var e,n,r,o,i,a,u,c=Ta(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),c.call(this,720,1500)}return e=f,(n=[{key:"createStates",value:(u=Oa(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z("skipcomics","0");case 2:e=t.sent,L.add(new ca),L.add(new Ci),"0"===e?(L.add(new ga),L.start(ga)):L.start(ca);case 6:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"initContactListener",value:function(){var t=this;_.on("endContact",(function(t){if(t.shapeA.data&&t.shapeB.data){var e=t.bodyA,n=t.bodyB,r=e.userData,o=n.userData;r.correctType&&o.correctType&&(r.type!==o.type&&r.type!==ue.anyType&&o.type!==ue.anyType||0===r.type||0===o.type||r.type===ue.goalType||o.type===ue.goalType||250===r.type||250===o.type||251===r.type||251===o.type||r.type===ue.skullType||o.type===ue.skullType||(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r)))}})),_.on("beginContact",(function(e){var n=e.bodyA,r=e.bodyB,o=n.userData,i=r.userData;if(o.type===ue.goalType&&i.type===ue.endType||i.type===ue.goalType&&o.type===ue.endType)t.levelComplete();else{if(o.type===ue.goalType&&i.type===ue.skullType||i.type===ue.goalType&&o.type===ue.skullType)return o.type===ue.skullType?o.boom():i.boom(),void t.gameOver();if(o.type===ue.anyType&&i.type===ue.skullType||i.type===ue.anyType&&o.type===ue.skullType)return o.boom(),void i.boom();if(o.rocket||i.rocket){var a=void 0,u=void 0;o.rocket&&i.correctType()&&i.type!==ue.goalType&&!i.isGoal()?(a=n,u=i):i.rocket&&o.correctType()&&o.type!==ue.goalType&&!o.isGoal()&&(a=r,u=o),a&&u&&u.boom()}if(e.shapeA.data&&e.shapeB.data&&o.correctType&&i.correctType){o.type!==i.type&&o.type!==ue.anyType&&i.type!==ue.anyType||0===o.type||0===i.type||o.type===ue.goalType||i.type===ue.goalType||250===o.type||250===i.type||251===o.type||251===i.type||o.type===ue.skullType||i.type===ue.skullType||(o.sameColorNeighbors.set(i,!0),i.sameColorNeighbors.set(o,!0));var c=void 0,s=void 0,l=void 0;if(o.kinematic&&0!==o.type?(c=n,s=o,l=i):i.kinematic&&0!==i.type&&(c=r,s=i,l=o),c){if(c.gravityScale=1,s.shape.material=N.material,c.mass=5,c.updateMassProperties(),251===l.type&&l.changePosition(),o.type===ue.goalType||i.type===ue.goalType)return;if(o.type!==i.type&&o.type!==ue.anyType&&i.type!==ue.anyType||0===o.type||0===i.type||250===o.type||250===i.type||251===o.type||251===i.type||o.type===ue.skullType||i.type===ue.skullType)l.type===ue.skullType&&s.setSkull();else{o.kinematic=!1,i.kinematic=!1,o.body.gravityScale=1,i.body.gravityScale=1;var f=s.steps;s.animateAndDestroy(),Ma.push({block:s===o?i:o,steps:f})}}else{if(o.kinematic?(n.gravityScale=1,o.shape.material=N.material,n.mass=5,n.updateMassProperties()):i.kinematic&&(r.gravityScale=1,i.shape.material=N.material,r.mass=5,r.updateMassProperties()),o.type===ue.goalType||i.type===ue.goalType)return;if(o.type!==i.type&&o.type!==ue.anyType&&i.type!==ue.anyType||0===o.type||0===i.type||250===o.type||250===i.type||251===o.type||251===i.type||o.type===ue.skullType||i.type===ue.skullType||o.steps===i.steps&&!o.kinematic&&!i.kinematic)o.kinematic&&251===i.type||i.kinematic&&251===o.type?251===i.type?i.changePosition():o.changePosition():(o.kinematic&&i.type===ue.skullType||i.kinematic&&o.type===ue.skullType)&&(i.type===ue.skullType?o.setSkull():i.setSkull());else if(o.kinematic){o.kinematic=!1,i.kinematic=!1,o.body.gravityScale=1,i.body.gravityScale=1;var p=o.steps;o.animateAndDestroy(),Ma.push({block:i,steps:p})}else{o.kinematic=!1,i.kinematic=!1,o.body.gravityScale=1,i.body.gravityScale=1;var h=i.steps;i.animateAndDestroy(),Ma.push({block:o,steps:h})}}}}}))}},{key:"customLogic",value:function(t){var e=L.activeState,n=!e||!e.unusedBlocksRemoved,r=F.length,o=void 0;if(!n&&(e.update(t),r>0)){var i=F[Math.floor(Math.random()*r)];i&&(o=i.userData.position)}F.forEach((function(t){_.removeBody(t)})),this.clearBodyArray(),n||(Ma.forEach((function(t){return t.block.increase(t.steps)})),Ma=[],Aa.forEach((function(t){var e=_.hitTest(t,_.bodies,0);if(e&&e.length>0){var n=e[0].userData;n&&n.correctType&&n.type!==ue.goalType&&n.boom&&(r+=n.boom())}})),r>0&&e.unusedBlocksRemoved(r,o)),Aa=[]}},{key:"levelComplete",value:function(){L.activeState.levelComplete()}},{key:"gameOver",value:function(){L.activeState.heartDeath()}},{key:"load",value:(a=Oa(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){s.init("assets/sounds"),X.startLoading();var r=new l.b;r.add("base0","assets/atlases/base0.json"),r.add("base1","assets/atlases/base1.json"),r.add("levels","assets/levels.json"),r.add("particles","assets/emitter.json"),s.add("music",{autoplay:!0,loop:!0,volume:.6}),r.onProgress.add((function(t){})),r.onError.add((function(t,e,r){Ga({error:"loading (".concat(r.url,")")}),n()})),r.load(Oa(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.loadFonts();case 2:return N.levels=r.resources.levels.data.levels,N.particles=r.resources.particles.data,n.next=6,e.startAfterLoading();case 6:t();case 7:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"loadFonts",value:(i=Oa(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){sa.load({custom:{families:["FontsFree-Net-AmericanTypewriterBold"],urls:["assets/fonts/font.css"]},active:function(){t()},timeout:6e4})})));case 1:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=Oa(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=document.getElementById("preloader"))&&(e.style.display="none"),t.next=4,et();case 4:case"end":return t.stop()}}),t)}))),function(){return o.apply(this,arguments)})}])&&Pa(e.prototype,n),r&&Pa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),f}(z);!function(t){t[t.Undefined=0]="Undefined",t[t.Clicked=1]="Clicked",t[t.Show=2]="Show",t[t.FailedShow=3]="FailedShow",t[t.RewardReceived=4]="RewardReceived"}(ja||(ja={})),function(t){t[t.Undefined=0]="Undefined",t[t.Unknown=1]="Unknown",t[t.Offline=2]="Offline",t[t.NoFill=3]="NoFill",t[t.InternalError=4]="InternalError",t[t.InvalidRequest=5]="InvalidRequest",t[t.UnableToPrecache=6]="UnableToPrecache"}(Ca||(Ca={})),function(t){t[t.Undefined=0]="Undefined",t[t.Video=1]="Video",t[t.RewardedVideo=2]="RewardedVideo",t[t.Playable=3]="Playable",t[t.Interstitial=4]="Interstitial",t[t.OfferWall=5]="OfferWall",t[t.Banner=6]="Banner"}(_a||(_a={})),function(t){t[t.Undefined=0]="Undefined",t[t.Start=1]="Start",t[t.Complete=2]="Complete",t[t.Fail=3]="Fail"}(Ea||(Ea={})),r.GameAnalytics.setEnabledInfoLog(!1);var Fa=!1,Na="en";function za(t,e){r.GameAnalytics.initialize(t,e),console.log("Network: ".concat("0",", live: ").concat(Fa)),Ya("set","network","0",Fa?1:0),Ya("start","app","game"),new Ia}function Wa(t,e,n){r.GameAnalytics.addDesignEvent("".concat(t,":").concat(e),n),gtag("event",t,{event_category:e,value:n})}function Ha(t,e,n){r.GameAnalytics.addProgressionEvent(t,"level",n,void 0,e),gtag("event","progression",{event_category:t===Ea.Start?"start":t!==Ea.Fail?"complete":"fail",value:e})}function Ua(t,e,n){void 0===n?r.GameAnalytics.addAdEvent(t,e,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(t,e,"0","ad",n);var o="",i="";switch(e){case _a.Interstitial:i="inter";break;case _a.RewardedVideo:i="reward"}switch(t){case ja.FailedShow:o="showError";break;case ja.Show:o="show";break;case ja.RewardReceived:o="success"}gtag("event",o,{event_category:i})}function Ya(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(t,":").concat(e,":").concat(n),o),gtag("event",t,{event_category:e,event_label:n,value:o})}function Ga(t){var e=JSON.stringify(t);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,e),gtag("event","show",{event_category:"error",event_label:"error",value:e})}function Va(t){Fa=t}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){$().then((function(t){Na=t.language,Fa=t.success,za(t.gameKey,t.secretKey)})).catch((function(t){Na="en",Fa=!1,za("858dec355a72c9195a2a9d7b5b236599","da73f2e7aa8cb82c345aa88235b57abb415e1cd5")}))},o.Broadphase.canCollide=function(t,e){var n,r,i=o.Body.KINEMATIC,a=o.Body.STATIC,u=t.type,c=e.type,s=null===(n=t.userData)||void 0===n?void 0:n.type,l=null===(r=e.userData)||void 0===r?void 0:r.type;return(u!==a||c!==a)&&(u===i&&c===a||u===a&&c===i?s>=250&&s<=260&&l<20||l>=250&&l<=260&&s<20:(u!==i||c!==i)&&((t.sleepState!==o.Body.SLEEPING||e.sleepState!==o.Body.SLEEPING)&&!(t.sleepState===o.Body.SLEEPING&&c===a||e.sleepState===o.Body.SLEEPING&&u===a)))}}});
//# sourceMappingURL=bundle.7b5081fd4357ca382620.js.map