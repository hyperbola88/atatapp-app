!function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;i.push([199,1]),n()}({199:function(e,t,n){n(200),e.exports=n(407)},407:function(e,t,n){"use strict";n.r(t),n.d(t,"EGAAdAction",(function(){return er})),n.d(t,"EGAAdError",(function(){return tr})),n.d(t,"EGAAdType",(function(){return nr})),n.d(t,"EGAProgressionStatus",(function(){return rr})),n.d(t,"live",(function(){return ur})),n.d(t,"lang",(function(){return cr})),n.d(t,"sendValueEvent",(function(){return lr})),n.d(t,"sendProgressionEvent",(function(){return fr})),n.d(t,"sendAdEvent",(function(){return pr})),n.d(t,"sendEvent",(function(){return hr})),n.d(t,"sendError",(function(){return yr})),n.d(t,"setLive",(function(){return dr}));var r=n(43),o=n(193);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"path",void 0),a(this,"all",void 0),a(this,"musics",void 0),a(this,"mutedSounds",void 0),a(this,"mutedMusic",void 0)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.path=e,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(e){this.mutedMusic=e,this.musics.music.mute(e)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(e){for(var t in this.mutedSounds=e,this.all)this.all[t]&&this.all[t].mute(e)}},{key:"add",value:function(e,t){var n=this;if(!this.all[e]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(t){return"".concat(n.path,"/").concat(e,".").concat(t)})),i=new o.Howl({src:r,autoplay:null==t?void 0:t.autoplay,loop:null==t?void 0:t.loop,volume:(null==t?void 0:t.volume)||1});"music"!==e?this.all[e]=i:this.musics[e]=i}}},{key:"play",value:function(e){this.all[e]?this.all[e].play():console.error("no sound was found")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),c=n(16),s=n(69),l=n(70),f=n(51);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,"states",void 0),h(this,"currentState",void 0),h(this,"stage",void 0),this.stage=t,this.states=new Map}var t,n,r;return t=e,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(e){this.states.set(e.constructor,e),e.create()}},{key:"start",value:function(e){var t=this.states.get(e);if(!t)throw new Error("No state ".concat(e));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.start(r),this.currentState=t,this.stage.addChild(this.currentState)}},{key:"restart",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=this.currentState;this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState)),window.setTimeout((function(){o.start(n),e.currentState=o,e.stage.addChild(e.currentState)}),100)}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),d=n(8),v=n(7),b=n(21),m=n(1),w=n(9),g=n(5);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===k(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S,T,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(i,e);var t,n,r,o=P(i);function i(e,t){var n,r,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=j(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=b.a.from(m.q.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*e,c.height=2*t,c.interactive=!0,n.addChild(c),n.sprite=b.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return t=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,w.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var e=this;this.sprite.rotation=0,w.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:g.f.easeNone,onComplete:function(){e.rotate()}})}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.b),C=n(11),E=n.n(C);function A(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}f.a.registerPlugin(c.a),c.b.registerPlugin(s.a),c.b.registerPlugin(l.a);var D,I,L=[],N={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,material:void 0},F=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={width:t,height:n,autoDensity:!0,resolution:2};N.originalWidth=t,N.originalHeight=n,T=new f.a(o),document.body.appendChild(T.view),d.g.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,T.view.style.left="0%",T.view.style.top="0%",T.view.style.width="100%",T.view.style.height="100%",T.renderer.plugins.interaction,T.stage.interactive=!0,T.ticker.maxFPS=60;var i=new v.b;T.stage.addChild(i),S=new E.a.World({gravity:[0,-10]}),this.initContactListener();var a=new C.Material;N.material=a,S.addContactMaterial(new C.ContactMaterial(a,a,{restitution:0})),S.emitImpactEvent=!1,T.ticker.add((function(){N.paused||(S.step(1/60,.1,3),S.bodies.forEach((function(e){var t=e.userData;if(t&&t.transform){var n=e.position;t.position.set(50*n[0],50*n[1]),t.rotation=e.angle}})),r.customLogic())})),this.start(T,i),(I=new _(t,n)).hide(),i.addChild(I)}var t,n,r,o,i;return t=e,(n=[{key:"customLogic",value:function(){L.forEach((function(e){return S.removeBody(e)})),this.clearBodyArray()}},{key:"clearBodyArray",value:function(){L=[]}},{key:"start",value:(o=regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new v.b,n.addChild(r),o=new v.b,n.addChild(o),D=new y(o),e.next=7,this.load();case 7:i=b.a.from(d.e.from("back1.png")),r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var e=a(),n=e.width,i=e.height;t.renderer.resize(n,i);var u=n/i>N.originalWidth/N.originalHeight?n/N.originalWidth:i/N.originalHeight;r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),N.realHeight=i,I.height=i,I.scale.x=I.scale.y;var c=i/N.originalHeight;N.scale=c,o.scale.set(c,c),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),I.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 14:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){A(i,n,r,a,u,"next",e)}function u(e){A(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function W(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function H(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){W(i,r,o,a,u,"next",e)}function u(e){W(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,a,u,c,s,l,f,p,h;return t=e,(n=[{key:"showGlobalLeaders",value:function(e){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(h=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(e){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(e){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=H(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=H(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"setScore",value:(c=H(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"getScore",value:(u=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0);case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,language:"en",gameKey:"",secretKey:""});case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=H(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var U;function V(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){V(i,r,o,a,u,"next",e)}function u(e){V(i,r,o,a,u,"throw",e)}a(void 0)}))}}!function(e){e[e.RewardedVideo=2]="RewardedVideo",e[e.Interstitial=4]="Interstitial"}(U||(U={}));var K,q=!0,X=function(){var e=G(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){(K=new z)&&K.init().then((function(t){e(t)})).catch((function(e){yr({error:"initSocial"}),t()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=G(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,I&&I.show(),r=u.muteMusic,o=u.muteSounds,u.muteMusic=!0,u.muteSounds=!0,e.t0=t,e.next=e.t0===U.Interstitial?9:e.t0===U.RewardedVideo?13:17;break;case 9:return e.next=11,K.showInter();case 11:return n=!0,e.abrupt("break",17);case 13:return e.next=15,K.showReward();case 15:return n=e.sent,e.abrupt("break",17);case 17:return q=!1,I&&I.hide(),u.muteMusic=r,u.muteSounds=o,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=G(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",K.finishLoading());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(i,e);var t,n,r,o=te(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,n&&$(t.prototype,n),r&&$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(v.b);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(){return(ue="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=ce(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function ce(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pe(e)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ge(e)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(i,e);var t,n,r,o=me(i);function i(e,t,n,r){var a,u,c,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a=o.call(this,"",""),u=ge(a),s=void 0,(c="txt")in u?Object.defineProperty(u,c,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[c]=s,a.txt=new d.d(e,{fontFamily:"Arial",fontSize:t,fill:r}),a.txt.anchor.set(.5,.5),a.addChild(a.txt),a.btn.tint=n,a.btn.width=a.txt.width+100,a.btn.height=a.txt.height+50,a}return t=i,(n=[{key:"text",set:function(e){this.txt.text=e}}])&&ve(t.prototype,n),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(i,e);var t,n,r,o=le(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ye(pe(n=o.call(this)),"normalTexture",void 0),ye(pe(n),"downTexture",void 0),ye(pe(n),"isDisabled",!1),ye(pe(n),"isDown",void 0),ye(pe(n),"btn",void 0),n.normalTexture=""===e?m.q.WHITE:m.q.from(e),n.downTexture=""===e?m.q.WHITE:m.q.from(t),n.btn=b.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(pe(n))).on("pointerup",n.onButtonUp.bind(pe(n))).on("pointerupoutside",n.onButtonUp.bind(pe(n))).on("pointerout",n.onButtonOut.bind(pe(n))),n.disabled=!1,n}return t=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(e){this.isDisabled=e,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(e){this.isDisabled||(u.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(e){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),ue(he(i.prototype),"destroy",this).call(this,e)}}])&&ae(t.prototype,n),r&&ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.b));function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(i,e);var t,n,r,o=je(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),_e(Se(t=o.call(this)),"body",void 0),_e(Se(t),"shape",void 0),_e(Se(t),"type",void 0),_e(Se(t),"view",void 0),t.type=e,t.view=t.createView(),t.view.anchor.set(.5,.5),t.addChild(t.view),t}return t=i,(n=[{key:"createBody",value:function(e){this.view.alpha=1;var t=[this.position.x/50,this.position.y/50];this.shape=this.createShape(),this.body=new C.Body({type:e,position:t,mass:5,damping:0,angularDamping:0}),this.body.addShape(this.shape),S.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){this.destroyBody(),this.parent&&this.parent.removeChild(this)}},{key:"destroyBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(e?S.removeBody(this.body):L.push(this.body),this.body=void 0)}}])&&Pe(t.prototype,n),r&&Pe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.b),Ee=n(198);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(){return(Ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Le(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Le(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ye(e)););return e}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ye(e);if(t){var o=Ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(i,e);var t,n,r,o=Fe(i);function i(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Me(this,i),ze(He(r=o.call(this,n)),"sameColorNeighbors",new Map),ze(He(r),"stepsAmount",3),ze(He(r),"steps",1),ze(He(r),"_kinematic",!1),ze(He(r),"busy",!1),ze(He(r),"sensorShape",void 0),n===i.rainbowType&&(r.stepsAmount=10),r.position.set(e,t),a&&r.createBody(C.Body.DYNAMIC),r}return t=i,(n=[{key:"kinematic",get:function(){return this._kinematic},set:function(e){this._kinematic=e,this.filters=e?[new Ee.a({color:16711680,quality:.3,outerStrength:2})]:[]}},{key:"createBody",value:function(e){Ie(Ye(i.prototype),"createBody",this).call(this,e),this.sensorShape=new C.Circle({radius:(this.getRadius()+5)/50}),this.sensorShape.sensor=!0,this.sensorShape.material=N.material,this.sensorShape.data=!0,this.body.addShape(this.sensorShape)}},{key:"animateAndDestroy",value:function(){var e=this;w.a.killTweensOf(this.view.scale),w.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody()}},{key:"clean",value:function(){this.busy=!1,Ie(Ye(i.prototype),"clean",this).call(this)}},{key:"boom",value:function(){this.increase(this.stepsAmount-this.steps,!0)}},{key:"getRadius",value:function(){return 35}},{key:"createView",value:function(){var e=new d.c(d.e.from("".concat(this.type,".png")));return e.scale.set(.5,.5),e}},{key:"createShape",value:function(){var e=new C.Circle({radius:this.getRadius()/50});return e.material=N.material,e}},{key:"correctType",value:function(){return 0!==this.type&&this.type<20}},{key:"increase",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.busy&&this.body)if(this.busy=!0,e+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=e,this.steps>=this.stepsAmount)w.a.killTweensOf(this.view.scale),this.sameColorNeighbors.forEach((function(e,r){r!==t&&r.increase(t.stepsAmount-r.steps,n)})),w.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),this.destroyBody(n);else{var r=i.scaleFactor*this.steps;w.a.to(this.view.scale,{x:r,y:r,duration:.2,onUpdate:function(){t.shape.radius=t.getRadius()/i.scaleFactor*t.view.scale.x/50,t.shape.updateBoundingRadius(),t.sensorShape.radius=(t.getRadius()+5)/i.scaleFactor*t.view.scale.x/50,t.sensorShape.updateBoundingRadius(),t.body.updateBoundingRadius(),t.body.updateMassProperties(),t.busy=!1}})}}}])&&De(t.prototype,n),r&&De(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ce);ze(Ue,"goalType",1e3),ze(Ue,"endType",500),ze(Ue,"rainbowType",250),ze(Ue,"scaleFactor",.5);var Ve=n(2);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ze=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(i,e);var t,n,r,o=Xe(i);function i(e,t,n,r,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,0)).position.set(e,t),u.view.width=n,u.view.height=r,u.createBody(C.Body.STATIC),u.body.mass=0,u.body.angle=Ve.b*a,u}return t=i,(n=[{key:"createShape",value:function(){return new C.Box({width:this.view.width/50,height:this.view.height/50})}},{key:"createView",value:function(){var e=new b.a(d.e.WHITE);return e.anchor.set(.5),e.tint=0,e}},{key:"animateAndDestroy",value:function(){var e=this;w.a.killTweensOf(this.view.scale),w.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody()}}])&&Ke(t.prototype,n),r&&Ke(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ce);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(e,t){if(t&&("object"===$e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(i,e);var t,n,r,o=nt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this);var t=new d.b;return t.beginFill(16711680,1),t.drawCircle(0,0,70),e.addChild(t),e.scale.set(0,0),e.animate(),e}return t=i,(n=[{key:"animate",value:function(){var e=this;w.a.to(this.scale,{x:1.5,y:1.5,duration:.3,onComplete:function(){e.destroy()}}),w.a.to(this,{alpha:0,delay:.12,duration:.18})}}])&&et(t.prototype,n),r&&et(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(d.a);function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ut(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ht(e);if(t){var o=ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pt(e)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&st(e,t)}(u,e);var t,n,r,o,i,a=lt(u);function u(e,t,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),yt(pt(o=a.call(this,0)),"rocket",!0),yt(pt(o),"startX",void 0),yt(pt(o),"startY",void 0),yt(pt(o),"endX",void 0),yt(pt(o),"endY",void 0),o.startX=e,o.startY=t,o.endX=n,o.endY=r,o.position.set(e,t),e!==n&&(o.view.angle=90),o.createBody(C.Body.KINEMATIC),o}return t=u,(n=[{key:"createShape",value:function(){var e=new C.Box({width:2,height:2});return e.sensor=!0,e}},{key:"createView",value:function(){return new d.c(d.e.from("rocket1.png"))}},{key:"animate",value:(o=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n={x:t.startX,y:t.startY};w.a.to(n,{x:t.endX,y:t.endY,duration:1,ease:g.b.easeIn,onComplete:function(){t.clean(),e()},onUpdate:function(){t.body.position=[n.x/50,n.y/50]}})})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){ut(i,n,r,a,u,"next",e)}function u(e){ut(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&ct(t.prototype,n),r&&ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Ce);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=gt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function gt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Rt(e)););return e}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xt(this,n)}}function xt(e,t){if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pt(e)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(i,e);var t,n,r,o=Ot(i);function i(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return bt(this,i),jt(Pt(r=o.call(this,e,t,n,a)),"delay",void 0),r}return t=i,(n=[{key:"resetDeathCounter",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0)}},{key:"startCountDeath",value:function(){var e=this;this.delay||(this.delay=w.a.delayedCall(4,(function(){e.delay=void 0,e.emit("gameover")})))}},{key:"destroyBody",value:function(e){this.resetDeathCounter(),this.off("gameover"),wt(Rt(i.prototype),"destroyBody",this).call(this,e)}},{key:"createView",value:function(){return new d.c(d.e.from("hero.png"))}},{key:"getRadius",value:function(){return 50}}])&&mt(t.prototype,n),r&&mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ue);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mt(e);if(t){var o=Mt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Et(this,n)}}function Et(e,t){if(t&&("object"===St(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return At(e)}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_t(e,t)}(i,e);var t,n,r,o=Ct(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Dt(At(r=o.call(this,e.toString(),30,t,n)),"id",void 0),Dt(At(r),"a",void 0),r.a=e,r}return t=i,(n=[{key:"amount",get:function(){return this.a},set:function(e){this.a=e,this.text=this.a.toString()}}])&&Tt(t.prototype,n),r&&Tt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Oe);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var o=zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yt(e)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}(i,e);var t,n,r,o=Wt(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ut(Yt(e=o.call(this)),"bar",void 0),Ut(Yt(e),"isFrozen",void 0),Ut(Yt(e),"delay",void 0),e.bar=new d.c(d.e.WHITE),e.bar.width=700,e.bar.height=50,e.addChild(e.bar),e.bar.anchor.set(.5,.5),e}return t=i,(n=[{key:"setProgress",value:function(e){this.bar.width=700*e}},{key:"freeze",value:function(e){var t=this;this.isFrozen=!0,this.delay&&this.delay.kill(),this.delay=w.a.delayedCall(e,(function(){t.isFrozen=!1}))}},{key:"clear",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0),this.isFrozen=!1}}])&&Nt(t.prototype,n),r&&Nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(d.a);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zt(e);if(t){var o=Zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jt(this,n)}}function Jt(e,t){if(t&&("object"===Gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qt(e)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en,tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(i,e);var t,n,r,o=Xt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$t(Qt(e=o.call(this)),"bar",void 0),$t(Qt(e),"max",void 0),$t(Qt(e),"current",void 0),$t(Qt(e),"initialHeight",800);var t=new d.c(d.e.WHITE);return t.tint=3355443,t.width=32,t.height=e.initialHeight+2,t.y=1,e.addChild(t),t.anchor.set(.5,1),e.bar=new d.c(d.e.WHITE),e.bar.width=30,e.bar.height=1,e.addChild(e.bar),e.bar.anchor.set(.5,1),e.current=0,e.max=10,e}return t=i,(n=[{key:"maximum",set:function(e){this.max=e}},{key:"update",value:function(e){0===e?this.current=0:e<3?e=0:(this.current+=e,this.current=Math.min(this.current,this.max));var t=this.current>=this.max;return w.a.killTweensOf(this.bar),w.a.to(this.bar,{height:this.initialHeight*(this.current/this.max),duration:.2}),t&&(this.current=0,w.a.to(this.bar,{height:0,delay:.2,duration:.2})),t}}])&&Kt(t.prototype,n),r&&Kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(d.a);function nn(e){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function on(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rn(i,r,o,a,u,"next",e)}function u(e){rn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(e,t){if(t&&("object"===nn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ln(e)}function ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.None=0]="None",e[e.Rainbow=1]="Rainbow",e[e.Kill=2]="Kill",e[e.Freeze=3]="Freeze",e[e.All=4]="All"}(en||(en={}));var hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}(u,e);var t,n,r,o,i,a=cn(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),pn(ln(e=a.call(this)),"txt",void 0),pn(ln(e),"bonus",void 0);var t=new d.c(d.e.WHITE);return t.anchor.set(.5,.5),t.tint=1118481,t.width=150,t.height=50,e.addChild(t),e.txt=new d.d("...",{fontSize:25,fill:16777215,align:"center"}),e.txt.anchor.set(.5,.5),e.addChild(e.txt),e}return t=u,(n=[{key:"show",value:(i=on(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.bonus=t,this.visible=!0,n="",e.t0=t,e.next=e.t0===en.Rainbow?6:e.t0===en.Freeze?8:e.t0===en.Kill?10:12;break;case 6:return n="Rainbow",e.abrupt("break",12);case 8:return n="Freezer",e.abrupt("break",12);case 10:return n="Killer",e.abrupt("break",12);case 12:return this.txt.text=n,this.delay(2).then((function(){r.txt.text="..."})),e.next=16,this.delay(2);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"hide",value:function(){this.visible=!1}},{key:"delay",value:(o=on(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){w.a.delayedCall(t,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})}])&&an(t.prototype,n),r&&an(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(d.a);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function vn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dn(i,r,o,a,u,"next",e)}function u(e){dn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kn(this,n)}}function kn(e,t){if(t&&("object"===yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return On(e)}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wn(e,t)}(v,e);var t,n,r,o,i,a,u,c,s,l,f,p,h,y=gn(v);function v(){var e;bn(this,v);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pn(On(e=y.call.apply(y,[this].concat(n))),"moveBox",void 0),Pn(On(e),"staticBox",void 0),Pn(On(e),"bottomOpenWall",void 0),Pn(On(e),"activeBlock",void 0),Pn(On(e),"maxY",void 0),Pn(On(e),"level",void 0),Pn(On(e),"tick",0),Pn(On(e),"moving",void 0),Pn(On(e),"isActivePowerup",void 0),Pn(On(e),"preview",void 0),Pn(On(e),"mousePressed",void 0),Pn(On(e),"nextLines",void 0),Pn(On(e),"previewBlocks",void 0),Pn(On(e),"nextType",void 0),Pn(On(e),"nextBlock",void 0),Pn(On(e),"isTransition",void 0),Pn(On(e),"powerup1",void 0),Pn(On(e),"powerup2",void 0),Pn(On(e),"powerups",void 0),Pn(On(e),"powerupButtons",void 0),Pn(On(e),"nextTimer",void 0),Pn(On(e),"random3BodyPos",void 0),Pn(On(e),"activeBonus",void 0),Pn(On(e),"boomMeter",void 0),Pn(On(e),"bonusChooser",void 0),e}return t=v,(n=[{key:"create",value:function(){var e=this;this.powerup1=new It(0,0,16777215),this.powerup1.id=0,this.powerup1.position.set(-390,900),this.addChild(this.powerup1),this.powerup1.on("pointerup",(function(){e.startPowerup(e.powerup1.id)})),this.powerup2=new It(0,16711680,0),this.powerup2.id=1,this.powerup2.position.set(-265,900),this.addChild(this.powerup2),this.powerup2.on("pointerup",(function(){e.startPowerup(e.powerup2.id)})),this.powerupButtons=[],this.powerupButtons.push(this.powerup1),this.powerupButtons.push(this.powerup2),this.preview=new d.b,this.addChild(this.preview),this.previewBlocks=new d.a,this.addChild(this.previewBlocks);var t=new d.b;t.lineStyle(4,0,.3),t.moveTo(-400,500),t.lineTo(400,500),this.addChild(t),this.nextTimer=new Vt,this.nextTimer.position.set(0,-600),this.boomMeter=new tn,this.boomMeter.position.set(-400,400),this.bonusChooser=new hn,this.bonusChooser.position.set(-425,-450)}},{key:"start",value:(h=vn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(K.gameplayStart(),this.activeBonus=en.None,this.random3BodyPos=[],this.powerups=[2,3],t=0;t<this.powerupButtons.length;t++)this.powerupButtons[t].amount=this.powerups[t];return this.isTransition=!1,this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.level=4,this.generateLineBlocks(this.level-3),this.tick=0,this.maxY=0,this.moving=!1,hr("start","game","level"),fr(rr.Start),N.paused=!1,e.next=19,this.generateStartBlocks();case 19:this.addChild(this.nextTimer),this.boomMeter.maximum=25,this.addChild(this.boomMeter),this.addActiveBlock(),this.addChild(this.bonusChooser),T.stage.on("pointerup",this.onClick,this),T.stage.on("pointerdown",this.onTapStart,this),d.f.shared.add(this.update,this);case 27:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"updateBoomMeter",value:(p=vn(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransition){e.next=2;break}return e.abrupt("return");case 2:if(!this.boomMeter.update(t)){e.next=10;break}return N.paused=!0,n=this.getRandomBonus(),e.next=8,this.bonusChooser.show(n);case 8:this.setActiveBonus(this.bonusChooser.bonus),N.paused=!1;case 10:case"end":return e.stop()}}),e,this)}))),function(e){return p.apply(this,arguments)})},{key:"setActiveBonus",value:function(e){switch(this.activeBonus=e,e){case en.Rainbow:this.clearActiveBlocks(),this.addActiveBlock();break;case en.Freeze:this.nextTimer.freeze(10);break;case en.Kill:var t=this.getRandomType();S.bodies.forEach((function(e){var n=e.userData;n&&n.type===t&&n.boom()}))}}},{key:"getRandomBonus",value:function(){var e=en.All-1;return Math.floor(Math.random()*e)+1}},{key:"fireMissle",value:(f=vn(regeneratorRuntime.mark((function e(t,n){var r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Math.min(t,this.random3BodyPos.length),r=regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.random3BodyPos[t]){e.next=3;break}return e.abrupt("return","continue");case 3:return(o=new d.c(d.e.from("rocket1.png"))).anchor.set(.5,.5),o.scale.set(.5,.5),o.position.copyFrom(n),i.addChild(o),w.a.to(o.position,{x:50*r[0],y:50*r[1],duration:.5,ease:g.d.easeIn,onComplete:function(){i.createExplosion(o.position),ir.push(r),i.removeChild(o)}}),e.next=11,i.delay(.2);case 11:case"end":return e.stop()}}),e)})),o=0;case 3:if(!(o<t)){e.next=11;break}return e.delegateYield(r(o),"t0",5);case 5:if("continue"!==e.t0){e.next=8;break}return e.abrupt("continue",8);case 8:o++,e.next=3;break;case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return f.apply(this,arguments)})},{key:"createExplosion",value:function(e){var t=new it;t.position.copyFrom(e),this.addChild(t)}},{key:"clearActiveBlocks",value:function(){this.nextBlock&&(this.removeChild(this.nextBlock),this.nextBlock.clean()),this.activeBlock&&(this.removeChild(this.activeBlock),this.activeBlock.clean()),this.activeBlock=void 0,this.nextBlock=void 0,this.nextType=void 0}},{key:"stopBonuses",value:function(){this.activeBonus=en.None,this.clearActiveBlocks()}},{key:"levelComplete",value:function(){var e=this;this.stopBonuses(),this.isTransition=!0,this.moving=!1,this.previewBlocks.children.forEach((function(t){t.createBody(C.Body.DYNAMIC),e.addChild(t)})),this.previewBlocks&&this.previewBlocks.removeChildren(),this.bottomOpenWall&&this.bottomOpenWall.animateAndDestroy(),this.moveBox&&this.moveBox.animateAndDestroy(),this.staticBox&&this.staticBox.animateAndDestroy(),this.mousePressed=!1}},{key:"moveBalls",value:function(){var e=this;if(!this.isTransition){this.moving=!0;var t=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};w.a.to(r,{y:(70*t-500)/50,delay:.1,duration:1,ease:g.f.easeNone,onUpdate:function(){e.moveBox.body?e.moveBox.body.position=[r.x,r.y]:w.a.killTweensOf(r)},onComplete:function(){e.moveBox.body.position=[0,-11.5],e.addLineBlocks(),e.generateLineBlocks(e.level-3),e.moving=!1}})}}},{key:"update",value:function(){var e=this;if(!N.paused){this.drawMouse();var t=!1,n=!1,r=void 0,o=[];this.random3BodyPos=[],S.bodies.forEach((function(i){var a=i.position;i.type===C.Body.KINEMATIC&&i!==e.moveBox.body&&(a[0]<-6.3||a[0]>6.3?(i.position=[a[0]<0?-6.3:6.3,a[1]],i.velocity[0]*=-1):(a[1]<-9.1||a[1]>13.2)&&(i.position=[a[0],a[1]<-9.1?-9.1:13.2],i.type=C.Body.DYNAMIC)),i.type===C.Body.DYNAMIC&&i.userData&&i.userData.type!==Ue.goalType&&o.push(i.position),!e.isTransition&&i.type===C.Body.DYNAMIC&&a[1]>e.maxY&&(e.maxY=a[1]),e.isTransition&&i.type===C.Body.DYNAMIC&&a[1]<-12&&(t=!0),e.isTransition&&i.type===C.Body.DYNAMIC&&a[1]<-36&&i.userData.clean(),i.type===C.Body.DYNAMIC&&i.userData&&i.userData.type===Ue.goalType&&(r=i.userData,!e.isTransition&&a[1]>9&&(n=!0))}));var i=Math.min(3,o.length);if(i>0)for(;i>0;){var a=Math.floor(Math.random()*o.length);this.random3BodyPos.push(o[a]),o.splice(a,1),i--}if(r&&!n&&r.resetDeathCounter(),this.isTransition&&!t&&(this.nextTimer.clear(),this.boomMeter.update(0),this.tick=0,this.level+=1,this.level>7&&(this.level=7),this.createMoveWalls(),this.addChild(this.nextTimer),this.generateNewBlocks().then((function(){e.generateLineBlocks(e.level-3),e.addActiveBlock()})),this.addChild(this.bonusChooser),this.isTransition=!1),!this.moving&&!this.isTransition&&(r&&n&&r.startCountDeath(),!this.nextTimer.isFrozen)){this.tick+=1;var u=this.tick%(700*(this.level-3));this.nextTimer.setProgress(1-u/(700*(this.level-3))),0===u&&this.moveBalls()}}}},{key:"startPowerup",value:(l=vn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),!(this.isActivePowerup||N.paused||this.isTransition||this.powerups[t]<=0)){e.next=3;break}return e.abrupt("return");case 3:this.isActivePowerup=!0,e.t0=t,e.next=0===e.t0?7:1===e.t0?10:13;break;case 7:return e.next=9,this.startVerticalRocket();case 9:return e.abrupt("break",13);case 10:return e.next=12,this.startHorizontalRocket();case 12:return e.abrupt("break",13);case 13:this.powerups[t]-=1,this.powerupButtons[t].amount=this.powerups[t],this.isActivePowerup=!1;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"startVerticalRocket",value:(s=vn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=560*Math.random()-280,e.next=3,this.startRocket(t,650,t,-450);case 3:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"startHorizontalRocket",value:(c=vn(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.maxY+400,n=Math.random()*t-400,e.next=4,this.startRocket(-280,n,280,n);case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"startRocket",value:(u=vn(regeneratorRuntime.mark((function e(t,n,r,o){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new dt(t,n,r,o),this.addChild(i),e.next=4,i.animate();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return u.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){this.nextBlock&&this.removeChild(this.nextBlock),this.nextType=this.getRandomType(),this.nextBlock=new Ue(-90,650,this.nextType,!1),this.nextBlock.scale.set(.7),this.addChild(this.nextBlock)}},{key:"getRandomType",value:function(){return this.activeBonus===en.Rainbow?Ue.rainbowType:Math.floor(Math.random()*(this.nextLines.length+3))+1}},{key:"addActiveBlock",value:function(){this.nextType||(this.nextType=this.getRandomType()),this.activeBlock=new Ue(0,650,this.nextType,!1),this.activeBlock.kinematic=!0,this.addChild(this.activeBlock),this.generateActiveBlock()}},{key:"drawMouse",value:function(){if(this.mousePressed){var e=this.toLocal(T.renderer.plugins.interaction.eventData.data.global),t=Math.atan2(e.y-650,e.x);this.preview.clear(),this.preview.lineStyle(4,0,.7),this.preview.moveTo(0,650);var n=1200*Math.cos(t),r=650+1200*Math.sin(t);if(n<-315||n>315){var o=Math.abs(n)/n*315/Math.cos(t);n=o*Math.cos(t),r=650+o*Math.sin(t),this.preview.lineTo(n,r),n-=(1200-o)*Math.cos(-t),r-=(1200-o)*Math.sin(-t),this.preview.lineTo(n,r)}else this.preview.lineTo(n,r)}}},{key:"onTapStart",value:function(e){var t=this.toLocal(e.data.global);this.isTransition||N.paused||!this.activeBlock||this.isActivePowerup||t.y>800||(this.mousePressed=!0,this.drawMouse())}},{key:"onClick",value:function(e){var t=this;this.preview.clear();var n=this.toLocal(e.data.global);if(!(this.isTransition||N.paused||!this.activeBlock||this.isActivePowerup||n.y>800)){this.activeBlock.createBody(C.Body.DYNAMIC);var r=this.activeBlock;this.activeBlock=void 0;var o=Math.atan2((n.y-650)/50,n.x/50);r.body.type=C.Body.KINEMATIC,r.body.velocity=[10*Math.cos(o),10*Math.sin(o)],this.mousePressed=!1,w.a.delayedCall(.2,(function(){t.addActiveBlock()}))}}},{key:"generateLineBlocks",value:function(e){this.previewBlocks.removeChildren();var t=-620-70*e;this.nextLines=[];for(var n=0;n<e;n++){var r=-300;this.nextLines[n]=[];for(var o=0;o<9;o++){this.nextLines[n][o]=Math.floor(Math.random()*this.level)+1;var i=new Ue(r,t,this.nextLines[n][o],!1);this.previewBlocks.addChild(i),r+=74}t+=70}}},{key:"addLineBlocks",value:function(){var e;this.previewBlocks.removeChildren();for(var t=-500,n=0;n<this.nextLines.length;n++){e=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=new Ue(e,t,this.nextLines[n][r]);this.addChild(o),e+=74}t+=70}}},{key:"delay",value:(a=vn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){w.a.delayedCall(t,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"generateNewBlocks",value:(i=vn(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<70)){e.next=10;break}return n=Math.floor(Math.random()*this.level)+1,r=new Ue(50*Math.random()-25,900,n),this.addChild(r),e.next=7,this.delay(.001);case 7:t++,e.next=1;break;case 10:return e.next=12,this.delay(1);case 12:return(o=new Bt(0,1100,Ue.goalType)).on("gameover",this.onGameOver),this.addChild(o),e.next=17,this.delay(1);case 17:this.createBottomExit();case 18:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onGameOver",value:function(){D.start(Vn)}},{key:"generateStartBlocks",value:(o=vn(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createMoveWalls(),t=new Ze(-400,-50,100,1800,0),this.addChild(t),n=new Ze(400,-50,100,1800,0),this.addChild(n),r=new Ze(-225,800,250,100,0),this.addChild(r),o=new Ze(225,800,250,100,0),this.addChild(o),i=new Ze(-150,1100,100,500,0),this.addChild(i),a=new Ze(150,1100,100,500,0),this.addChild(a),u=new Ze(0,1300,200,100,0),this.addChild(u),e.next=17,this.generateNewBlocks();case 17:N.started=!0;case 18:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"createMoveWalls",value:function(){this.moveBox=new Ze(0,-575,700,50,0),this.moveBox.type=Ue.endType,this.addChild(this.moveBox),this.staticBox=new Ze(0,-625,700,50,0),this.addChild(this.staticBox)}},{key:"createBottomExit",value:function(){this.bottomOpenWall=new Ze(0,800,200,100,0),this.addChild(this.bottomOpenWall)}},{key:"close",value:function(){T.stage.off("pointerup"),T.stage.off("pointerdown"),d.f.shared.remove(this.update),this.moveBox&&this.moveBox.clean(),this.staticBox&&this.staticBox.clean(),this.bottomOpenWall&&this.bottomOpenWall.clean(),this.activeBlock&&this.activeBlock.clean(),this.tick=0,this.moving=!1,this.isActivePowerup=!1,this.preview.clear(),this.mousePressed=!1,this.previewBlocks&&this.previewBlocks.removeChildren(),this.nextBlock&&this.nextBlock.clean()}}])&&mn(t.prototype,n),r&&mn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),v}(oe);function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=En(e);if(t){var o=En(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _n(this,n)}}function _n(e,t){if(t&&("object"===jn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}function Cn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sn(e,t)}(i,e);var t,n,r,o=Tn(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),An(Cn(e=o.call(this)),"explosion",void 0),An(Cn(e),"face",void 0),An(Cn(e),"logo",void 0),e.explosion=d.c.from(d.e.from("splash_explosion.png")),e.explosion.anchor.set(.5),e.explosion.scale.set(0,0),e.explosion.position.y=-156,e.explosion.alpha=0,e.addChild(e.explosion),e.face=d.c.from(d.e.from("splash_logo_face.png")),e.face.position.set(-131,-350),e.face.alpha=0,e.addChild(e.face),e.logo=d.c.from(d.e.from("splash_logo.png")),e.logo.anchor.set(.5),e.logo.position.set(0,-260),e.logo.scale.set(3,3),e.logo.alpha=0,e.addChild(e.logo),e}return t=i,(n=[{key:"start",value:function(){this.explosion.position.y=-156,this.explosion.scale.set(0,0),this.explosion.alpha=0,this.face.position.set(-131,-350),this.face.alpha=0,this.logo.position.set(0,-260),this.logo.scale.set(3,3),this.logo.alpha=0,w.a.to(this.explosion,{alpha:1,duration:.2}),w.a.to(this.explosion.scale,{x:1,y:1,duration:1,ease:g.c.easeOut}),w.a.to(this.logo,{alpha:1,delay:.2,duration:.2}),w.a.to(this.logo.scale,{x:1,y:1,delay:.2,duration:1,ease:g.a.easeOut}),w.a.to(this.face,{alpha:1,delay:1.09,duration:.1}),w.a.to(this.face,{y:-448,delay:1.1,duration:2,ease:g.f.easeNone})}},{key:"stop",value:function(){w.a.killTweensOf(this.explosion),w.a.killTweensOf(this.explosion.scale),w.a.killTweensOf(this.logo),w.a.killTweensOf(this.logo.scale),w.a.killTweensOf(this.face)}}])&&Bn(t.prototype,n),r&&Bn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(d.a);function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ln(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zn(e);if(t){var o=zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}function Hn(e,t){if(t&&("object"===Dn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Yn(e)}function Yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fn(e,t)}(u,e);var t,n,r,o,i,a=Wn(u);function u(){var e;Ln(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Un(Yn(e=a.call.apply(a,[this].concat(n))),"logo",void 0),e}return t=u,(n=[{key:"create",value:function(){var e=this;this.logo=new Mn,this.addChild(this.logo);var t=new Oe("PLAY",100,0,16777215);t.position.y=N.originalHeight/3-30,this.addChild(t),t.on("pointerup",(function(){hr("click","menu","play"),e.onPlayClicked()}))}},{key:"start",value:function(){hr("start","menu","level"),this.logo.start()}},{key:"close",value:function(){hr("close","menu","level"),this.logo.stop()}},{key:"onPlayClicked",value:(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!q||!K.shouldPlayFirstAds()){e.next=3;break}return e.next=3,J(U.Interstitial);case 3:D.start(Rn);case 4:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){In(i,n,r,a,u,"next",e)}function u(e){In(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&Nn(t.prototype,n),r&&Nn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(oe);function Gn(e){return(Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function qn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Kn(i,r,o,a,u,"next",e)}function u(e){Kn(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jn(e,t){return(Jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$n(e);if(t){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zn(this,n)}}function Zn(e,t){if(t&&("object"===Gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var er,tr,nr,rr,or=[],ir=[],ar=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jn(e,t)}(s,e);var t,n,r,o,i,a=Qn(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),a.call(this,756,1344)}return t=s,(n=[{key:"createStates",value:function(){D.add(new Vn),D.add(new Rn),D.start(Vn)}},{key:"initContactListener",value:function(){var e=this;S.on("endContact",(function(e){if(e.shapeA.data&&e.shapeB.data){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;r.correctType&&o.correctType&&r.type===o.type&&0!==r.type&&(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r))}})),S.on("beginContact",(function(t){var n=t.bodyA,r=t.bodyB,o=n.userData,i=r.userData;if(o.type===Ue.goalType&&i.type===Ue.endType||i.type===Ue.goalType&&o.type===Ue.endType)e.levelComplete();else{if(!o.correctType||!i.correctType){var a=void 0,u=void 0;o.rocket&&i.correctType&&i.type!==Ue.goalType?(a=n,u=i):i.rocket&&o.correctType&&o.type!==Ue.goalType&&(a=r,u=o),a&&u&&u.boom()}if(t.shapeA.data&&t.shapeB.data&&o.correctType&&i.correctType){o.type===i.type&&0!==o.type&&(o.sameColorNeighbors.set(i,!0),i.sameColorNeighbors.set(o,!0));var c=void 0,s=void 0;if(n.type===C.Body.KINEMATIC&&0!==o.type?(c=n,s=o):r.type===C.Body.KINEMATIC&&0!==i.type&&(c=r,s=i),c)if(c.type=C.Body.DYNAMIC,o.type===i.type){var l=s.steps;s.animateAndDestroy(),or.push({block:s===o?i:o,steps:l})}else D.activeState.updateBoomMeter(1);else if(o.type===i.type&&0!==o.type&&(o.steps!==i.steps||o.kinematic||i.kinematic))if(o.kinematic){var f=o.steps;o.animateAndDestroy(),or.push({block:i,steps:f})}else{var p=i.steps;i.animateAndDestroy(),or.push({block:o,steps:p})}}}}))}},{key:"customLogic",value:function(){var e=L.length>=5,t=2===L.length,n=L.length>=3,r=t?1:n?2:e?3:0,o=D.activeState;if(o&&o.updateBoomMeter){if(r>0){var i=L[Math.floor(Math.random()*L.length)];if(i){var a=i.userData;o.fireMissle(r,a.position)}}L.length>0&&o.updateBoomMeter(r>0?L.length+1:1);var u=!1;L.forEach((function(e){var t=e.userData;t&&t.type===Ue.rainbowType&&t.steps>3&&(u=!0),S.removeBody(e)})),this.clearBodyArray(),or.forEach((function(e){return e.block.increase(e.steps)})),or=[],ir.forEach((function(e){var t=S.hitTest(e,S.bodies,0);if(t&&t.length>0){var n=t[0].userData;n&&n.correctType&&n.type!==Ue.goalType&&n.boom()}})),ir=[],u&&(S.bodies.forEach((function(e){var t=e.userData;t&&t.correctType&&t.correctType()&&(o.createExplosion(t.position),t.boom())})),o.stopBonuses())}}},{key:"levelComplete",value:function(){D.activeState.levelComplete()}},{key:"load",value:(i=qn(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){u.init("assets/sounds"),K.startLoading();var r=new c.b;r.add("base","assets/atlases/base.json"),r.onProgress.add((function(e){})),r.onError.add((function(e,t,r){yr({error:"loading (".concat(r.url,")")}),n()})),r.load(qn(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.startAfterLoading();case 2:e();case 3:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=qn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("preloader"))&&(t.style.display="none"),e.next=4,Q();case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&Xn(t.prototype,n),r&&Xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(F);!function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(er||(er={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(tr||(tr={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(nr||(nr={})),function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.Complete=2]="Complete",e[e.Fail=3]="Fail"}(rr||(rr={})),r.GameAnalytics.setEnabledInfoLog(!1);var ur=!1,cr="en";function sr(e,t){r.GameAnalytics.initialize(e,t),console.log("Network: ".concat("0",", live: ").concat(ur)),hr("set","network","0",ur?1:0),hr("start","app","game"),new ar}function lr(e,t,n){r.GameAnalytics.addDesignEvent("".concat(e,":").concat(t),n),gtag("event",e,{event_category:t,value:n})}function fr(e,t,n){r.GameAnalytics.addProgressionEvent(e,"level",n,void 0,t),gtag("event","progression",{event_category:e===rr.Start?"start":e!==rr.Fail?"complete":"fail",value:t})}function pr(e,t,n){void 0===n?r.GameAnalytics.addAdEvent(e,t,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(e,t,"0","ad",n);var o="",i="";switch(t){case nr.Interstitial:i="inter";break;case nr.RewardedVideo:i="reward"}switch(e){case er.FailedShow:o="showError";break;case er.Show:o="show";break;case er.RewardReceived:o="success"}gtag("event",o,{event_category:i})}function hr(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(e,":").concat(t,":").concat(n),o),gtag("event",e,{event_category:t,event_label:n,value:o})}function yr(e){var t=JSON.stringify(e);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,t),gtag("event","show",{event_category:"error",event_label:"error",value:t})}function dr(e){ur=e}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){X().then((function(e){cr=e.language,ur=e.success,sr(e.gameKey,e.secretKey)})).catch((function(e){cr="en",ur=!1,sr("858dec355a72c9195a2a9d7b5b236599","da73f2e7aa8cb82c345aa88235b57abb415e1cd5")}))}}});
//# sourceMappingURL=bundle.6a28300873011a35a5f2.js.map