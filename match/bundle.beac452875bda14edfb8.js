!function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;i.push([200,1]),n()}({200:function(e,t,n){n(201),e.exports=n(408)},408:function(e,t,n){"use strict";n.r(t),n.d(t,"EGAAdAction",(function(){return Ka})),n.d(t,"EGAAdError",(function(){return Va})),n.d(t,"EGAAdType",(function(){return Xa})),n.d(t,"EGAProgressionStatus",(function(){return Ja})),n.d(t,"live",(function(){return Qa})),n.d(t,"lang",(function(){return eu})),n.d(t,"sendProgressionEvent",(function(){return nu})),n.d(t,"sendAdEvent",(function(){return ru})),n.d(t,"sendEvent",(function(){return ou})),n.d(t,"sendError",(function(){return iu})),n.d(t,"setLive",(function(){return au}));var r=n(46),o=n(193);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"path",void 0),a(this,"all",void 0),a(this,"musics",void 0),a(this,"mutedSounds",void 0),a(this,"mutedMusic",void 0)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.path=e,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(e){var t;this.mutedMusic=e,null===(t=this.musics.music)||void 0===t||t.mute(e)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(e){for(var t in this.mutedSounds=e,this.all)this.all[t]&&this.all[t].mute(e)}},{key:"add",value:function(e,t){var n=this;if(!this.all[e]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(t){return"".concat(n.path,"/").concat(e,".").concat(t)})),i=new o.Howl({src:r,autoplay:null==t?void 0:t.autoplay,loop:null==t?void 0:t.loop,volume:(null==t?void 0:t.volume)||1});"music"!==e?this.all[e]=i:this.musics[e]=i}}},{key:"playRandom",value:function(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Math.floor(Math.random()*t),o=!1,i=0;i<t;i++)if(this.all[e+i.toString()].playing()){o=!0;break}o&&n||this.play(e+r.toString())}},{key:"play",value:function(e){this.all[e]?this.all[e].play():console.error("no sound was found")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),c=n(16),s=n(69),l=n(70),f=n(51);function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),y(this,"states",void 0),y(this,"currentState",void 0),y(this,"stage",void 0),this.stage=t,this.states=new Map}var t,n,r,o,i;return t=e,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(e){this.states.set(e.constructor,e),e.create()}},{key:"start",value:function(e){var t=this.states.get(e);if(!t)throw new Error("No state ".concat(e));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.start(r),this.currentState=t,this.stage.addChild(this.currentState)}},{key:"restart",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,i=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];if(o=this.currentState,!this.currentState){e.next=6;break}return e.next=5,this.currentState.close();case 5:this.stage.removeChild(this.currentState);case 6:window.setTimeout((function(){o.start(n),i.currentState=o,i.stage.addChild(i.currentState)}),100);case 7:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){p(i,n,r,a,u,"next",e)}function u(e){p(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=n(1),b=n(9),m=n(21),w=n(3),g=n(2),k=n(7);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _,C,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(i,e);var t,n,r,o=T(i);function i(e,t){var n,r,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=B(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=m.a.from(w.db.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*e,c.height=2*t,c.interactive=!0,n.addChild(c),n.sprite=m.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return t=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,g.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var e=this;this.sprite.rotation=0,g.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:k.f.easeNone,onComplete:function(){e.rotate()}})}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b),E=n(10),A=n.n(E);function L(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}f.a.registerPlugin(c.a),c.b.registerPlugin(s.b),c.b.registerPlugin(l.c);var D,I,N=[],Y={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,levels:[],particles:void 0,material:new E.Material,bounceMaterial:new E.Material,activeBallMaterial:new E.Material,slowmo:!1},F=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={width:t,height:n,autoDensity:!0,resolution:2,backgroundColor:12309476};Y.originalWidth=t,Y.originalHeight=n,C=new f.a(o),document.body.appendChild(C.view),v.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,C.view.style.left="0%",C.view.style.top="0%",C.view.style.width="100%",C.view.style.height="100%",C.renderer.plugins.interaction,C.stage.interactive=!0,C.ticker.maxFPS=60;var i=new b.b;C.stage.addChild(i),_=new A.a.World({gravity:[0,-10]}),this.initContactListener();var a=new E.Material,u=new E.Material,c=new E.Material;Y.material=a,Y.bounceMaterial=c,Y.activeBallMaterial=u,_.addContactMaterial(new E.ContactMaterial(a,a,{restitution:0,stiffness:E.Equation.DEFAULT_STIFFNESS/3})),_.addContactMaterial(new E.ContactMaterial(u,c,{restitution:1,stiffness:E.Equation.DEFAULT_STIFFNESS/3})),_.emitImpactEvent=!1,C.ticker.add((function(){if(!Y.paused){var e=1/(Y.slowmo?400:60);_.step(e,.1,3),_.bodies.forEach((function(e){var t=e.userData;if(t&&t.transform){var n=e.position;t.position.set(50*n[0],50*n[1]),t.rotateView?t.rotateView(e.angle):t.rotation=e.angle}})),r.customLogic(e)}})),this.start(C,i),(I=new j(t,n)).hide(),i.addChild(I)}var t,n,r,o,i;return t=e,(n=[{key:"customLogic",value:function(e){var t=this.preCleanUnused(e);this.cleanUnusedBobies(),this.postCleanUnused(t)}},{key:"cleanUnusedBobies",value:function(){N.forEach((function(e){return _.removeBody(e)})),N=[]}},{key:"start",value:(o=regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new b.b,n.addChild(r),o=new b.b,n.addChild(o),D=new d(o),e.next=7,this.load();case 7:i=m.a.from(v.Texture.from("back1.png")),r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var e=a(),n=e.width,i=e.height;t.renderer.resize(n,i),Y.realHeight=i,I.height=i,I.scale.x=I.scale.y;var u=i/Y.originalHeight;Y.scale=u,o.scale.set(u,u),r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),I.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 14:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){L(i,n,r,a,u,"next",e)}function u(e){L(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,u,"next",e)}function u(e){U(i,r,o,a,u,"throw",e)}a(void 0)}))}}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,a,u,c,s,l,f,p,h;return t=e,(n=[{key:"showGlobalLeaders",value:function(e){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(h=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(e){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(e){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=W(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=W(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"setScore",value:(c=W(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"getScore",value:(u=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0);case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,language:"en",gameKey:"28b00d27d31d5bb1a89f2f95461df103",secretKey:"b527d253099947040f78d2b1e70f06725391e3a1"});case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ru(Ka.Show,Xa.Interstitial),e.abrupt("return",new Promise((function(e){var t=Math.random()<.5;window.setTimeout((function(){e()}),t?1e3:0)})));case 2:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ru(Ka.Show,Xa.RewardedVideo),e.abrupt("return",new Promise((function(e){window.setTimeout((function(){e(!0)}),2e3)})));case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&z(t.prototype,n),r&&z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var H;function K(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){K(i,r,o,a,u,"next",e)}function u(e){K(i,r,o,a,u,"throw",e)}a(void 0)}))}}!function(e){e[e.RewardedVideo=2]="RewardedVideo",e[e.Interstitial=4]="Interstitial"}(H||(H={}));var X,J=function(){try{return localStorage}catch(e){return}},q=!0,$=function(){var e=V(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){(X=new G)&&X.init().then((function(t){e(t)})).catch((function(e){iu({error:"initSocial"}),t()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=V(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=J())||void 0===r||r.setItem(t,n),e.next=3,X.setStorageData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=V(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.getStorageData(t,n);case 2:return(r=e.sent)===n&&(r=(null===(o=J())||void 0===o?void 0:o.getItem(t))||n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=V(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,I&&I.show(),r=u.muteMusic,o=u.muteSounds,u.muteMusic=!0,u.muteSounds=!0,e.t0=t,e.next=e.t0===H.Interstitial?9:e.t0===H.RewardedVideo?13:17;break;case 9:return e.next=11,X.showInter();case 11:return n=!0,e.abrupt("break",17);case 13:return e.next=15,X.showReward();case 15:return n=e.sent,e.abrupt("break",17);case 17:return q=!1,I&&I.hide(),u.muteMusic=r,u.muteSounds=o,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=V(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",X.finishLoading());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){X.gameplayStart()};function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(i,e);var t,n,r,o=ae(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,n&&oe(t.prototype,n),r&&oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(b.b);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(){return(pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=he(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function he(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){if(t&&("object"===le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return be(e)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge,ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(i,e);var t,n,r,o=de(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),we(be(n=o.call(this)),"normalTexture",void 0),we(be(n),"downTexture",void 0),we(be(n),"isDisabled",!1),we(be(n),"isDown",void 0),we(be(n),"btn",void 0),n.normalTexture=""===e?w.db.WHITE:w.db.from(e),n.downTexture=""===e?w.db.WHITE:w.db.from(t),n.btn=m.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(be(n))).on("pointerup",n.onButtonUp.bind(be(n))).on("pointerupoutside",n.onButtonUp.bind(be(n))).on("pointerout",n.onButtonOut.bind(be(n))),n.disabled=!1,n}return t=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(e){this.isDisabled=e,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(e){this.isDisabled||(u.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(e){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),pe(me(i.prototype),"destroy",this).call(this,e)}}])&&fe(t.prototype,n),r&&fe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Re(e);if(t){var o=Re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Be(e)}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.NO=0]="NO",e[e.WALLS=Math.pow(2,0)]="WALLS",e[e.BALLS=Math.pow(2,1)]="BALLS",e[e.MOVER=Math.pow(2,2)]="MOVER",e[e.OBSTACLES=Math.pow(2,3)]="OBSTACLES"}(ge||(ge={}));var Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(i,e);var t,n,r,o=Te(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),_e(Be(t=o.call(this)),"body",void 0),_e(Be(t),"shape",void 0),_e(Be(t),"type",void 0),_e(Be(t),"view",void 0),t.type=e,t.view=t.createView(),t.view.anchor.set(.5,.5),t.addChild(t.view),t}return t=i,(n=[{key:"createBody",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.view.alpha=1;var n=[this.position.x/50,this.position.y/50];this.shape=this.createShape(),this.body=new E.Body({type:e,position:n,mass:t,damping:0,angularDamping:0}),this.body.addShape(this.shape),_.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyBody(e),this.parent&&this.parent.removeChild(this)}},{key:"isGoal",value:function(){return!1}},{key:"destroyBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(e?_.removeBody(this.body):N.push(this.body),this.body=void 0)}},{key:"correctType",value:function(){return 0!==this.type&&(this.type<20||this.type===We.STATIC_OBSTACLE_TYPE||this.type===We.RANDOM_OBSTACLE_TYPE||this.type===We.SKULL_TYPE||this.type===We.ANY_TYPE)}}])&&Oe(t.prototype,n),r&&Oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Le(){return(Le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Me(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Me(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fe(e)););return e}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fe(e);if(t){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){if(t&&("object"===je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ye(e)}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(i,e);var t,n,r,o=Ie(i);function i(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Ee(this,i),Ue(Ye(r=o.call(this,n)),"sameColorNeighbors",new Map),Ue(Ye(r),"steps",1),Ue(Ye(r),"stepsAmount",3),Ue(Ye(r),"view2",void 0),Ue(Ye(r),"savedType",-1),Ue(Ye(r),"skullMeter",1),Ue(Ye(r),"_kinematic",!1),Ue(Ye(r),"permanentSkull",!1),Ue(Ye(r),"busy",!1),Ue(Ye(r),"sensorShape",void 0),r.permanentSkull=n===i.SKULL_TYPE,r.position.set(e,t),a&&r.createBody(E.Body.DYNAMIC),r.view2=r.createView2(),r.view2.anchor.set(.5,.5),r.addChild(r.view2),r}return t=i,(n=[{key:"rotateView",value:function(e){this.view.rotation=e}},{key:"kinematic",get:function(){return this._kinematic},set:function(e){this._kinematic=e}},{key:"createBody",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;Le(Fe(i.prototype),"createBody",this).call(this,e,n),this.sensorShape=new E.Circle({radius:(this.getRadius()+5)/50}),this.sensorShape.sensor=!0,this.sensorShape.material=Y.material,this.sensorShape.data=!0,null===(t=this.body)||void 0===t||t.addShape(this.sensorShape)}},{key:"enableGravity",value:function(){this.body&&(this.body.gravityScale=1,this.body.mass=5,this.body.updateMassProperties(),this.shape.material=Y.material)}},{key:"animateAndDestroy",value:function(){var e=this;this.killTween(),g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),g.a.to(this.view2.scale,{x:0,y:0,duration:.2}),this.destroyBody()}},{key:"killTween",value:function(){g.a.killTweensOf(this.view.scale),g.a.killTweensOf(this.view2.scale)}},{key:"clean",value:function(){this.busy=!1,Le(Fe(i.prototype),"clean",this).call(this)}},{key:"decreaseSkullMeter",value:function(){this.type!==i.SKULL_TYPE||this.permanentSkull||(this.skullMeter-=1,-1===this.skullMeter&&this.removeSkull())}},{key:"isSkull",value:function(){return this.type===i.SKULL_TYPE}},{key:"setPermanentSkull",value:function(){this.permanentSkull=!0,this.type=i.SKULL_TYPE,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2()}},{key:"setSkull",value:function(){this.savedType=this.type,this.skullMeter=3,this.kinematic=!1,this.body&&(this.body.gravityScale=1),this.type=i.SKULL_TYPE,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2()}},{key:"removeSkull",value:function(){this.type=this.savedType,this.savedType=-1,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2(),this.view2.visible=!0}},{key:"setBomb",value:function(){var e=this;this.busy||(this.type=i.BOMB_TYPE,this.view.texture=v.Texture.from("bomb.png"),this.view2.visible=!1,this.killTween(),this.busy=!0,g.a.to(this.view.scale,{x:.4,y:.4,duration:1,onUpdate:function(){e.updateShape()}}),g.a.to(this.view.scale,{x:1.2,y:1.2,delay:1,duration:.2,onUpdate:function(){e.updateShape()},onComplete:function(){var t=Hi.obtain();e.addChild(t),t.animate().then((function(){Hi.release(t)})),e.animateAndDestroy()}}))}},{key:"boom",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.increase(this.stepsAmount-this.steps,e)}},{key:"getRadius",value:function(){return 35}},{key:"getTexture",value:function(){return v.Texture.from("".concat(this.type,".png"))}},{key:"getTexture2",value:function(){return v.Texture.from("".concat(this.type,"_.png"))}},{key:"createView",value:function(){var e=new v.Sprite(this.getTexture());return e.scale.set(.5,.5),e}},{key:"createView2",value:function(){var e=new v.Sprite(this.getTexture2());return e.scale.set(.5,.5),e}},{key:"createShape",value:function(){var e=new E.Circle({radius:this.getRadius()/50});return e.material=Y.material,e}},{key:"increase",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.busy||!this.body)return 0;var r=0;this.busy=!0;var o=this.steps;if(e+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=e,this.steps>=this.stepsAmount){if(n&&(r=1),this.killTween(),this.sameColorNeighbors.forEach((function(e,o){if(o!==t){var i=o.increase(t.stepsAmount-o.steps,n);n&&(r+=i)}})),o<2)g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),g.a.to(this.view2.scale,{x:0,y:0,duration:.2});else{var a=this.view.width/2,c=0;g.a.to(this.view.scale,{x:0,y:0,duration:.3,onUpdate:function(){t.view.position.set(Math.cos(c)*a,Math.sin(c)*a),c+=Math.PI/15,a-=1},onComplete:function(){t.clean()}}),this.view2.scale.set(0,0)}u.playRandom("ball pop ",3),this.destroyBody(n)}else{u.play("ball grow");var s=i.SCALE_FACTOR*this.steps;g.a.to(this.view.scale,{x:s,y:s,duration:.2,onUpdate:function(){t.updateShape()},onComplete:function(){t.busy=!1}}),g.a.to(this.view2.scale,{x:s,y:s,duration:.2})}return r}},{key:"updateShape",value:function(){var e,t;this.shape.radius=this.getRadius()/i.SCALE_FACTOR*this.view.scale.x/50,this.shape.updateBoundingRadius(),this.sensorShape.radius=(this.getRadius()+5)/i.SCALE_FACTOR*this.view.scale.x/50,this.sensorShape.updateBoundingRadius(),null===(e=this.body)||void 0===e||e.updateBoundingRadius(),null===(t=this.body)||void 0===t||t.updateMassProperties()}}])&&Ae(t.prototype,n),r&&Ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ce);Ue(We,"BALL_SCORE",5),Ue(We,"BONUS_SCORE",100),Ue(We,"EXPLOSION_SCORE",50),Ue(We,"GOAL_TYPE",1e3),Ue(We,"END_TYPE",500),Ue(We,"STATIC_OBSTACLE_TYPE",250),Ue(We,"RANDOM_OBSTACLE_TYPE",251),Ue(We,"BOMB_TYPE",2e3),Ue(We,"SKULL_TYPE",3e3),Ue(We,"RAINBOW_TYPE",4e3),Ue(We,"ANY_TYPE",5e3),Ue(We,"SCALE_FACTOR",.5);var ze=n(4);function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Je(e);if(t){var o=Je(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xe(this,n)}}function Xe(e,t){if(t&&("object"===Ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Je(e){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ke(e,t)}(i,e);var t,n,r,o=Ve(i);function i(e,t,n,r,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,0)).position.set(e,t),u.view.width=n,u.view.height=r,u.createBody(E.Body.STATIC),u.body&&(u.body.mass=0,u.body.angle=ze.b*a),u}return t=i,(n=[{key:"createShape",value:function(){return new E.Box({width:this.view.width/50,height:this.view.height/50})}},{key:"createView",value:function(){var e=new m.a(v.Texture.WHITE);return e.anchor.set(.5),e.tint=0,e.visible=!1,e.alpha=0,e}},{key:"isObstacle",value:function(){return!1}},{key:"correctType",value:function(){return!1}},{key:"animateAndDestroy",value:function(){var e=this;g.a.killTweensOf(this.view.scale),g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody()}}])&&He(t.prototype,n),r&&He(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ce);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){if(t&&("object"===$e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(u,e);var t,n,r,o,i,a=tt(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),it(rt(e=a.call(this,300)),"startX",void 0),it(rt(e),"startY",void 0),it(rt(e),"endX",void 0),it(rt(e),"endY",void 0),e.createBody(E.Body.DYNAMIC),e.reset(),e}return t=u,(n=[{key:"createShape",value:function(){var e=new E.Box({width:4,height:4});return e.sensor=!0,e}},{key:"createView",value:function(){return new v.Sprite(v.Texture.from("powerup_rocket.png"))}},{key:"animate",value:(o=regeneratorRuntime.mark((function e(t,n,r,o){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){i.visible=!0,i.startX=t,i.startY=n,i.endX=r,i.endY=o,i.position.set(t,n),t!==r&&(i.view.angle=90);var a={x:i.startX,y:i.startY};i.body.position=[a.x/50,a.y/50],g.a.to(a,{x:i.endX,y:i.endY,duration:1,ease:k.b.easeIn,onComplete:function(){i.reset(),e()},onUpdate:function(){i.body.position=[a.x/50,a.y/50]}})})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Ze(i,n,r,a,u,"next",e)}function u(e){Ze(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t,n,r){return i.apply(this,arguments)})},{key:"reset",value:function(){this.body.gravityScale=0,this.visible=!1,this.body.position=[-40,-40]}}])&&Qe(t.prototype,n),r&&Qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Ce);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(){return(st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dt(e)););return e}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){if(t&&("object"===ut(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yt(e)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(i,e);var t,n,r,o=pt(i);function i(e,t){var n,r,a,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,e,t,We.GOAL_TYPE,!0),r=yt(n),u=void 0,(a="delay")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u,n}return t=i,(n=[{key:"resetDeathCounter",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0)}},{key:"startCountDeath",value:function(){var e=this;this.delay||(this.delay=g.a.delayedCall(4,(function(){e.delay=void 0,e.emit("gameover")})))}},{key:"destroyBody",value:function(e){this.resetDeathCounter(),this.off("gameover"),st(dt(i.prototype),"destroyBody",this).call(this,e)}},{key:"setSkull",value:function(){st(dt(i.prototype),"setSkull",this).call(this),this.view.texture=v.Texture.from("3001.png"),this.view2.texture=v.Texture.from("3001_.png")}},{key:"createView",value:function(){return new v.Sprite(this.getTexture())}},{key:"createView2",value:function(){return new v.Sprite(this.getTexture2())}},{key:"getTexture",value:function(){return v.Texture.from("hero.png")}},{key:"getTexture2",value:function(){return v.Texture.from("hero_.png")}},{key:"getRadius",value:function(){return 50}},{key:"isGoal",value:function(){return!0}}])&&ct(t.prototype,n),r&&ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(We);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mt(i,r,o,a,u,"next",e)}function u(e){mt(i,r,o,a,u,"throw",e)}a(void 0)}))}}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Tt(e);if(t){var o=Tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pt(e)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(u,e);var t,n,r,o,i,a=xt(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),St(Pt(e=a.call(this,"","")),"_id",void 0),St(Pt(e),"icon",void 0),St(Pt(e),"txt",void 0),St(Pt(e),"amount",void 0),e.amount=1,e.txt=new v.Text(e.amount.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),e.txt.anchor.set(.5,.5),e.txt.x=90,e.txt.y=90,e.addChild(e.txt),e.icon=v.Sprite.from(v.Texture.from("bonus_ads.png")),e.icon.x=15,e.icon.y=35,e.addChild(e.icon),e.icon.visible=!1,e.on("pointerup",(function(){e.onPressed()})),e}return t=u,n=[{key:"id",get:function(){return this._id}},{key:"setData",value:(i=wt(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._id=t,this.normalTexture=n,this.downTexture=r,this.btn.texture=this.normalTexture,this.icon.visible=!1,e.next=7,Q(u.getStorageId(this.id),void 0);case 7:if(void 0!==(o=e.sent)){e.next=12;break}return o="1",e.next=12,Z(u.getStorageId(this.id),o);case 12:this.amount=parseInt(o),this.txt.text=o,this.updateTxt(),this.scale.set(.6,.6);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"updateTxt",value:function(){0===this.amount?(this.btn.alpha=.6,this.icon.visible=!0,this.txt.visible=!1):(this.btn.alpha=1,this.icon.visible=!1,this.txt.visible=!0),this.txt.text=this.amount.toString()}},{key:"onPressed",value:(o=wt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ou("Game","Powerup","Click"),!(this.amount>0)){e.next=8;break}this.amount--,Z(u.getStorageId(this.id),this.amount.toString()),this.updateTxt(),this.emit("activate",this.id),e.next=16;break;case 8:return t=(new Date).getTime(),Y.paused=!0,e.next=12,ee(H.RewardedVideo);case 12:e.sent,Y.paused=!1,this.emit("activate",this.id,(new Date).getTime()-t);case 16:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],r=[{key:"getStorageId",value:function(e){return"powerup_"+e.toString()}}],n&&gt(t.prototype,n),r&&gt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(ke);function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Et(this,n)}}function Et(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return At(e)}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ct(e,t)}(i,e);var t,n,r,o=jt(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Mt(At(e=o.call(this)),"bar",void 0),Mt(At(e),"barMask",void 0),Mt(At(e),"initialWidth",596),Mt(At(e),"isFrozen",void 0),Mt(At(e),"delay",void 0),Mt(At(e),"frozen",void 0),Mt(At(e),"frozenBack",void 0),Mt(At(e),"back",void 0),Mt(At(e),"barBorder",void 0),e.back=v.Sprite.from(v.Texture.from("timer_1.png")),e.addChild(e.back),e.frozenBack=v.Sprite.from(v.Texture.from("timer_frozen_1.png")),e.frozenBack.visible=!1,e.addChild(e.frozenBack),e.bar=v.Sprite.from(v.Texture.from("timer_2.png")),e.addChild(e.bar),e.barMask=new v.Sprite(v.Texture.WHITE),e.barMask.x=16,e.barMask.width=0,e.barMask.height=e.bar.height,e.addChild(e.barMask),e.bar.mask=e.barMask,e.barBorder=v.Sprite.from(v.Texture.from("timer_0.png")),e.barBorder.anchor.set(.5,.5),e.barBorder.x=100,e.barBorder.y=.5*e.bar.height,e.addChild(e.barBorder),e.barBorder.visible=!1,e.frozen=new v.Sprite(v.Texture.from("timer_frozen_0.png")),e.frozen.visible=!1,e.addChild(e.frozen),e}return t=i,(n=[{key:"setProgress",value:function(e){this.barMask.width=this.initialWidth*e,this.barBorder.visible=e>.01&&e<.99,this.barBorder.x=this.barMask.x+this.initialWidth*e}},{key:"unFreeze",value:function(){var e=this;this.isFrozen=!1,g.a.killTweensOf(this.frozen),g.a.to(this.frozenBack,{alpha:0,duration:.3}),g.a.to(this.back,{alpha:1,duration:.3}),g.a.to(this.frozen,{alpha:0,duration:.3,onComplete:function(){e.frozen.visible=!1,e.frozenBack.visible=!1}})}},{key:"freeze",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.isFrozen=!0,this.frozen.visible=!0,this.frozen.alpha=0,this.frozenBack.visible=!0,this.frozenBack.alpha=0,g.a.killTweensOf(this.frozen),g.a.killTweensOf(this.frozenBack),g.a.killTweensOf(this.back),g.a.to(this.frozen,{alpha:1,duration:.3}),g.a.to(this.frozenBack,{alpha:1,duration:.3}),g.a.to(this.back,{alpha:0,duration:.3}),this.delay&&this.delay.kill(),-1!==t&&(this.delay=g.a.delayedCall(t,(function(){e.unFreeze()})))}},{key:"clear",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0),g.a.killTweensOf(this.frozen),this.frozen.visible=!1,this.frozenBack.visible=!1,this.back.alpha=1,this.isFrozen=!1}}])&&_t(t.prototype,n),r&&_t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ft(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zt(e);if(t){var o=zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ut(this,n)}}function Ut(e,t){if(t&&("object"===It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wt(e)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(i,e);var t,n,r,o=Ft(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Gt(Wt(e=o.call(this)),"bar",void 0),Gt(Wt(e),"max",void 0),Gt(Wt(e),"current",void 0),Gt(Wt(e),"initialWidth",170),Gt(Wt(e),"barMask",void 0),Gt(Wt(e),"barBorder",void 0),Gt(Wt(e),"barShine",void 0);var t=v.Sprite.from(v.Texture.from("battery_empty.png"));return e.addChild(t),e.bar=v.Sprite.from(v.Texture.from("battery_full.png")),e.addChild(e.bar),e.barMask=new v.Sprite(v.Texture.WHITE),e.barMask.width=0,e.barMask.height=e.bar.height,e.barMask.x=27,e.addChild(e.barMask),e.barBorder=v.Sprite.from(v.Texture.from("battery_border.png")),e.barBorder.anchor.set(.5,.5),e.barBorder.y=.5*e.bar.height,e.addChild(e.barBorder),e.barBorder.visible=!1,e.barShine=new v.AnimatedSprite([v.Texture.from("battery_charging0.png"),v.Texture.from("battery_charging1.png"),v.Texture.from("battery_charging2.png"),v.Texture.from("battery_charging1.png")]),e.addChild(e.barShine),e.barShine.animationSpeed=.3,e.barShine.visible=!1,e.bar.mask=e.barMask,e.current=0,e.max=10,e}return t=i,(n=[{key:"maximum",set:function(e){this.max=e}},{key:"reset",value:function(e){g.a.killTweensOf(this.barMask),this.current=0,e?this.barMask.width=0:g.a.to(this.barMask,{width:0,duration:.1}),this.barBorder.visible=!1}},{key:"update",value:function(e){var t=this;this.current+=e,this.current=Math.min(this.current,this.max),this.barShine.visible=!0,this.barShine.gotoAndPlay(0);var n=this.current>=this.max,r=this.current/this.max;return this.barBorder.visible=r>.05&&r<.9,g.a.killTweensOf(this.barMask),g.a.to(this.barMask,{width:this.initialWidth*r,duration:.2}),g.a.to(this.barBorder,{x:this.barMask.x+this.initialWidth*r,duration:.2,onComplete:function(){t.barShine.visible=!1,t.barShine.stop()}}),n&&(this.barShine.visible=!1,this.barShine.stop(),this.current=0,g.a.to(this.barMask,{width:0,delay:.2,duration:.2}),g.a.to(this.barBorder,{x:this.barMask.x,duration:.2,onUpdate:function(){t.barBorder.visible=r>.05&&r<.9}})),n}}])&&Nt(t.prototype,n),r&&Nt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zt(e);if(t){var o=Zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(e,t){if(t&&("object"===Kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xt(e,t)}(i,e);var t,n,r,o=Jt(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Qt($t(e=o.call(this)),"back",void 0),Qt($t(e),"blocks",void 0),Qt($t(e),"startX",void 0),Qt($t(e),"startY",void 0),Qt($t(e),"txt",void 0),e.blocks=[],e.back=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50),e.back.width=.96*Y.originalWidth,e.back.height=300,e.back.position.set(.5*-e.back.width,0),e.addChild(e.back),e.txt=new v.Text("From: Leopold",{fontSize:25,fill:0,fontWeight:"bold",align:"left"}),e.txt.anchor.set(0,.5),e.txt.position.set(.5*-e.back.width+40,30),e.addChild(e.txt),e.clear(),e}return t=i,(n=[{key:"setLines",value:function(e){this.txt.text="From: "+i.senders[Math.floor(Math.random()*i.senders.length)];var t=e.length;this.back.height=75*t+70,this.startX=-300,this.startY=95;for(var n=0;n<t;n++){for(var r=this.startX,o=0;o<e[n].length;o++){var a=new We(r,this.startY,e[n][o],!1);this.addBlock(a),r+=74}this.startY+=70}}},{key:"addBlock",value:function(e){this.blocks.push(e),this.addChild(e),e.visible=!1}},{key:"show",value:function(){this.blocks.forEach((function(e){e.visible=!0}))}},{key:"clear",value:function(){var e=this;this.blocks.forEach((function(t){e.removeChild(t)})),this.blocks=[]}}])&&Vt(t.prototype,n),r&&Vt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cn(e);if(t){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}function an(e,t){if(t&&("object"===tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return un(e)}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Qt(en,"senders",["Mom","Dad","Boss","Red Hair","Stupid guy","Handsome stranger","Vampire","Lady Hamilton","Dude","Sis","Bro","Grany","Kurt","Kristin","Leo Di","Emergency"]);var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}(i,e);var t,n,r,o=on(i);function i(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t=un(e),r=void 0,(n="txt")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;var a=new v.Sprite(v.Texture.from("letter_button.png"));return a.anchor.set(.5,.5),e.addChild(a),e.txt=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:60,fill:0,align:"center",fontWeight:"bold"}),e.txt.anchor.set(.5,.5),e.addChild(e.txt),e}return t=i,(n=[{key:"letter",set:function(e){this.txt.text=e}}])&&nn(t.prototype,n),r&&nn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bn(e);if(t){var o=bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dn(this,n)}}function dn(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vn(e)}function vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hn(e,t)}(u,e);var t,n,r,o,i,a=yn(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),mn(vn(t=a.call(this)),"bound",new v.Rectangle),mn(vn(t),"back",void 0),mn(vn(t),"letters",void 0),mn(vn(t),"stringLetters",void 0),mn(vn(t),"getPoint",void 0),t.back=v.Sprite.from(v.Texture.WHITE),t.back.anchor.set(.5,.5),t.back.width=Y.originalWidth,t.back.height=Y.originalHeight,t.addChild(t.back),t.stringLetters=t.getLetters(e),t.letters=[];for(var n=0;n<t.stringLetters.length;n++){var r=new sn;r.visible=!1,t.addChild(r),t.letters.push(r)}return t}return t=u,(n=[{key:"start",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.getPoint=t,this.visible=!0,this.back.alpha=0,n=[],r=0,o=0;o<this.stringLetters.length;o++)r++," "===this.stringLetters[o]&&(n.push(r),r=0);return 0===n.length?n.push(this.stringLetters.length):n.push(r),e.abrupt("return",new Promise((function(e){g.a.to(i.back,{alpha:.7,duration:1});for(var t=0,r=-30,o=n[t],a=60/(o-1),u=100*o,c=.5*-u,s=u/(o-1),l=-400,f=[],p=i.stringLetters.length,h=0;h<p;h++){var y=i.letters.pop();y&&(f.push(y),y.visible=!0,y.letter=i.stringLetters[h],y.position.set(-400,700),y.scale.set(.1,.1),y.angle=r-30,g.a.to(y,{angle:r,x:c,y:l,delay:.1*h,duration:.5}),g.a.to(y.scale,{x:1,y:1,delay:.1*h,duration:.5})," "===i.stringLetters[h]?(t++,r=-30,a=60/((o=n[t])-1),c=.5*-(u=100*o),l+=140,s=u/(o-1)):(r+=a,c+=s))}g.a.to(i.back,{alpha:0,delay:1.2,duration:.5}),g.a.delayedCall(1+.1*(i.stringLetters.length-1),(function(){i.animate(f).then((function(){e()}))}))})));case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){fn(i,n,r,a,u,"next",e)}function u(e){fn(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"clean",value:function(){this.getPoint=void 0,g.a.killTweensOf(this.back)}}])&&pn(t.prototype,n),r&&pn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v.Container);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(){return(On="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Pn(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Pn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_n(e)););return e}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_n(e);if(t){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}function Bn(e,t){if(t&&("object"===gn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rn(e)}function Rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tn(e,t)}(i,e);var t,n,r,o=Sn(i);function i(){var e;kn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Cn(Rn(e=o.call.apply(o,[this].concat(n))),"points",[]),e}return t=i,r=[{key:"getAllByAmount",value:function(e){if(0===e)return[];i.allTexts||(i.allTexts=new Map,["BANG!","BONUS","SMASH","KABOOM","CRASH","CLANK","THUMP","WHAM!","SUPER BOOM","SUPER BONUS","LET'S JAZZ","YOU ARE JUST GREAT","YOU ARE GREAT","SUPER PUPER BOOM","WISH YOU LUCK, DUDE!","THAT WAS DOOM!","OH MY GOD!"].forEach((function(e){var t=e.length>=17?3:e.length>=10?2:1,n=[];i.allTexts.get(t)&&(n=i.allTexts.get(t)),n.push(e),i.allTexts.set(t,n)})),console.log(i.allTexts));var t=i.allTexts.get(e);return t[Math.floor(Math.random()*t.length)].split("")}}],(n=[{key:"activeBound",get:function(){if(this.points.length>0){for(var e=[],t=0;t<this.points.length;t++){var n=this.points[t];e.push(new v.Rectangle(n[0]-1,n[1]-1,2,2))}return this.points=[],e}}},{key:"clean",value:function(){this.points=[],On(_n(i.prototype),"clean",this).call(this)}},{key:"getLetters",value:function(e){return i.getAllByAmount(e)}},{key:"animate",value:function(e){var t=this;return this.points=[],new Promise((function(n){if(t.getPoint){for(var r=function(n){var r=t.getPoint();if(!r)return"continue";g.a.to(e[n].scale,{x:0,y:0,duration:.2}),g.a.to(e[n],{x:50*r[0],y:50*r[1],duration:.2,onComplete:function(){t.points.push(r)}})},o=0;o<e.length;o++)r(o);g.a.delayedCall(.25,(function(){n()}))}else n()}))}}])&&xn(t.prototype,n),r&&xn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(wn);function En(e){return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nn(e);if(t){var o=Nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dn(this,n)}}function Dn(e,t){if(t&&("object"===En(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Cn(jn,"allTexts",void 0);var Fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ln(e,t)}(i,e);var t,n,r,o=Mn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Yn(In(e=o.call(this)),"scoreTxt",void 0),Yn(In(e),"scoreNumber",void 0);var t=v.Sprite.from(v.Texture.from("score_place.png"));return e.addChild(t),e.scoreNumber=0,e.scoreTxt=new v.Text(e.scoreFormatted(0),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:16777215,align:"center",letterSpacing:7,fontWeight:"bold"}),e.scoreTxt.anchor.set(.5,.5),e.scoreTxt.position.set(.5*t.width,.5*t.height),e.addChild(e.scoreTxt),e}return t=i,(n=[{key:"score",set:function(e){var t=this,n={score:this.scoreNumber};this.scoreTxt.text=this.scoreFormatted(this.scoreNumber),g.a.to(n,{score:e,duration:.1,ease:k.f.easeNone,onUpdate:function(){t.scoreTxt.text=t.scoreFormatted(Math.floor(n.score))}}),this.scoreNumber=e}},{key:"scoreFormatted",value:function(e){for(var t=e.toString(),n=6-t.length,r=0;r<n;r++)t="0"+t;return t}}])&&An(t.prototype,n),r&&An(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kn(e);if(t){var o=Kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hn(this,n)}}function Hn(e,t){if(t&&("object"===Un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zn(e,t)}(i,e);var t,n,r,o=Gn(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,"pause_button.png","pause_button.png")}return t=i,n&&Wn(t.prototype,n),r&&Wn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(ke);function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=er(e);if(t){var o=er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zn(this,n)}}function Zn(e,t){if(t&&("object"===Xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function Qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qn(e,t)}(i,e);var t,n,r,o=$n(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),tr(Qn(e=o.call(this,0)),"rect",void 0),tr(Qn(e),"laser",void 0),e.laser=v.Sprite.from(v.Texture.from("direction.png")),e.laser.height=500,e.laser.rotation=Math.PI/2,e.laser.alpha=0,e.laser.anchor.set(.5,.5),e.addChild(e.laser),e.laser.visible=!1,e}return t=i,(n=[{key:"activeBound",get:function(){if(this.rect)return[this.rect]}},{key:"getLetters",value:function(){return["{","}"]}},{key:"animate",value:function(e){var t=this;return new Promise((function(n){if(void 0!==t.getPoint||2!==e.length){var r=t.getPoint();g.a.to(e[0],{x:-300,angle:0,y:50*r,duration:.2}),g.a.to(e[1],{x:300,angle:0,y:50*r,duration:.2}),g.a.delayedCall(.2,(function(){t.laser.visible=!0,t.laser.y=50*r,t.rect=new v.Rectangle(-7,r-.5,14,1),g.a.to(t.laser,{alpha:1,duration:.2}),g.a.delayedCall(.2,(function(){t.rect=void 0,g.a.to(e[0],{alpha:0,duration:.2}),g.a.to(e[1],{alpha:0,duration:.2}),g.a.to(t.laser,{alpha:0,duration:.2}),g.a.delayedCall(.2,(function(){n()}))}))}))}else n()}))}}])&&Jn(t.prototype,n),r&&Jn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(wn);function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ur(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sr(e);if(t){var o=sr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(i,e);var t,n,r,o=ur(i);function i(){return or(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"isObstacle",value:function(){return!0}}])&&ir(t.prototype,n),r&&ir(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(qe);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vr(e);if(t){var o=vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dr(this,n)}}function dr(e,t){if(t&&("object"===fr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hr(e,t)}(i,e);var t,n,r,o=yr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e[0],e[1],100,100,0)).view.scale.set(1,1),t.type=We.STATIC_OBSTACLE_TYPE,t}return t=i,(n=[{key:"createView",value:function(){var e=new v.Sprite(v.Texture.from("app_static.png"));return e.anchor.set(.5),e}},{key:"createShape",value:function(){var e=new E.Box({width:this.view.width/50,height:this.view.height/50});return e.data=!0,e}}])&&pr(t.prototype,n),r&&pr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(lr);function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gr(e,t){return(gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pr(e);if(t){var o=Pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xr(this,n)}}function xr(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Or(e)}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sr,Br=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gr(e,t)}(i,e);var t,n,r,o=kr(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Tr(Or(n=o.call(this,e[0],e[1],100,100,0)),"moving",!1),Tr(Or(n),"lives",void 0),Tr(Or(n),"txt",void 0),Tr(Or(n),"explosion",void 0),n.type=We.RANDOM_OBSTACLE_TYPE,n.lives=t,n.txt=new v.Text(n.lives.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),n.txt.anchor.set(.5,.5),n.txt.y=20,n.view.addChild(n.txt),n.view.scale.set(1,1),n.explosion=Hi.obtain(),n.explosion.visible=!1,n.addChild(n.explosion),n}return t=i,(n=[{key:"changePosition",value:function(){var e=this;if(!this.moving){this.lives--;var t=this.lives<=0;this.moving=!0;var n=this.view.scale.x;g.a.to(this.view.scale,{x:.01,y:.01,duration:.1,onUpdate:function(){var t,n;e.shape.width=e.shape.height=100*e.view.scale.x/50,e.shape.updateBoundingRadius(),null===(t=e.body)||void 0===t||t.updateBoundingRadius(),null===(n=e.body)||void 0===n||n.updateMassProperties()},onComplete:function(){if(t)e.destroyBody(),e.explosion.visible=!0,e.explosion.animate().then((function(){Hi.release(e.explosion),e.clean()}));else{e.txt.text=e.lives.toString();var r=9*Math.random()-4.5,o=5*-Math.random();e.body&&(e.body.position=[r,o]),g.a.to(e.view.scale,{x:n,y:n,duration:.4,onUpdate:function(){var t,n;e.shape.width=e.shape.height=100*e.view.scale.x/50,e.shape.updateBoundingRadius(),null===(t=e.body)||void 0===t||t.updateBoundingRadius(),null===(n=e.body)||void 0===n||n.updateMassProperties()},onComplete:function(){e.moving=!1}})}}})}}},{key:"createView",value:function(){var e=new v.Sprite(v.Texture.from("app_random.png"));return e.anchor.set(.5),e}},{key:"createShape",value:function(){var e=new E.Box({width:this.view.width/50,height:this.view.height/50});return e.data=!0,e}}])&&wr(t.prototype,n),r&&wr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(lr);function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Cr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cr(e,t){if(e){if("string"==typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jr(e,t):void 0}}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ir(e);if(t){var o=Ir(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(e,t){if(t&&("object"===Rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dr(e)}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Begin="begin",e.Moving="moving",e.Heart="heart",e.NewLine="newLine",e.Recharge="recharge",e.Unbreak="unbreak",e.IAPBonus="iapbonus",e.IAPBonus2="iapbonus2",e.ChangePosition="changed",e.Skull="skull",e.AnyType="anytype",e.RainbowType="rainbowtype"}(Sr||(Sr={}));var Yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ar(e,t)}(i,e);var t,n,r,o=Lr(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Nr(Dr(e=o.call(this)),"allConditions",void 0),Nr(Dr(e),"textMap",void 0),Nr(Dr(e),"tutorial",void 0),Nr(Dr(e),"txt",void 0),Nr(Dr(e),"back",void 0),Nr(Dr(e),"startTime",void 0),e.allConditions=new Map,e.textMap=new Map,e.textMap.set(Sr.Begin,"Save the Heart by moving it to the top!"),e.textMap.set(Sr.Moving,"Tap the screen and move your finger to aim. Release to shoot."),e.textMap.set(Sr.Heart,"The Heart is free and happy now!"),e.textMap.set(Sr.NewLine,"It's time for a new emoji load!"),e.textMap.set(Sr.Recharge,"Charge it fully to get a bonus!"),e.textMap.set(Sr.Unbreak,"This app is invincible!"),e.textMap.set(Sr.IAPBonus,"but this bonuses will help you."),e.textMap.set(Sr.IAPBonus2,"and this one too!"),e.textMap.set(Sr.ChangePosition,"This app should be destroyed! Aim to it!"),e.textMap.set(Sr.Skull,"Do not touch this Skulls by Heart or by throwed Emoji!"),e.textMap.set(Sr.AnyType,"This ball is matching with any emoji!"),e.textMap.set(Sr.RainbowType,"This ball is destroying everything!"),e.back=v.Sprite.from(v.Texture.WHITE),e.back.interactive=!0,e.back.width=Y.originalWidth,e.back.height=Y.originalHeight,e.addChild(e.back),e.back.position.set(.5*-e.back.width,.5*-e.back.height),e.back.tint=0,e.back.alpha=.3,e.tutorial=new v.NineSlicePlane(v.Texture.from("tutorial.png"),52,52,90,93),e.addChild(e.tutorial),e.txt=new v.Text("",{fontSize:50,fontWeight:"bold",fill:16777215,wordWrap:!0,wordWrapWidth:300}),e.addChild(e.txt),e.visible=!1,e}return t=i,(n=[{key:"addCondition",value:function(e,t){this.allConditions.set(e,t)}},{key:"update",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Cr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this.allConditions);try{for(t.s();!(e=t.n()).done;){var n=_r(e.value,2),r=n[0],o=(0,n[1])();if(o.success){this.show(r,o.data),this.allConditions.delete(r);break}}}catch(e){t.e(e)}finally{t.f()}}},{key:"isDone",value:function(e){return void 0===this.allConditions.get(e)}},{key:"show",value:function(e,t){var n=this;this.startTime=(new Date).getTime();var r=this.textMap.get(e);if(r){this.txt.text=r,this.tutorial.scale.set(1,1),this.tutorial.pivot.set(this.txt.width+80,this.txt.height+80),this.tutorial.width=this.txt.width+80,this.tutorial.height=this.txt.height+80,this.tutorial.scale.set(0,0);var o={x:1,y:1},i=t.pos,a=t.scale;o.x*=a.x,o.y*=a.y,this.tutorial.position.copyFrom(i),this.txt.position.copyFrom(i),1===a.x?this.txt.x-=60+this.txt.width:this.txt.x+=60,1===a.y?this.txt.y-=60+this.txt.height:this.txt.y+=52,this.txt.scale.set(0,0),this.back.alpha=0;var u=o.x/15,c=o.y/15,s=window.setInterval((function(){n.back.alpha+=.02,n.tutorial.scale.x+=u,n.tutorial.scale.y+=c,n.txt.scale.x+=1/15,n.txt.scale.y+=1/15,n.back.alpha>=.3&&window.clearInterval(s)}),10);this.visible=!0,$a(!0,!0),window.setTimeout((function(){$a(!1,!0),g.a.globalTimeline.pause(),Y.paused=!0,n.back.on("pointerup",(function(e){e.stopPropagation(),e.stopped=!0,n.hide()}))}),200)}}},{key:"hide",value:function(){var e=this;Y.paused=!1,g.a.globalTimeline.resume(),g.a.to(this,{alpha:0,duration:.3,onComplete:function(){e.visible=!1,e.alpha=1}}),this.back.off("pointerup"),this.emit("hide",(new Date).getTime()-this.startTime)}}])&&Er(t.prototype,n),r&&Er(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container),Fr=n(198);function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t){return(zr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vr(e);if(t){var o=Vr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr(this,n)}}function Hr(e,t){if(t&&("object"===Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Kr(e)}function Kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vr(e){return(Vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zr(e,t)}(i,e);var t,n,r,o=Gr(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Xr(Kr(e=o.call(this)),"iconL0",void 0),Xr(Kr(e),"iconR0",void 0),Xr(Kr(e),"iconL1",void 0),Xr(Kr(e),"iconR1",void 0);var t=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);t.tint=0,t.width=370,t.height=250,t.pivot.set(185,100),e.addChild(t),t.y=-50;var n=new v.Text("level powerups:",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:35,fill:16777215,align:"center",fontWeight:"bold"});n.anchor.set(.5,.5),n.position.set(0,-115),e.addChild(n);var r=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);r.pivot.set(80,80),r.width=160,r.height=160,e.addChild(r);var a=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);a.pivot.set(80,80),a.width=160,a.height=160,e.addChild(a),r.position.set(-85,0),a.position.set(85,0);var u=new v.Container,c=new v.Container;e.addChild(u),e.addChild(c),u.position.x=-85,c.position.x=85;var s=v.Sprite.from(v.Texture.WHITE);s.anchor.set(0,.5),s.width=140,s.height=140,e.addChild(s);var l=v.Sprite.from(v.Texture.WHITE);return l.anchor.set(0,.5),l.width=140,l.height=140,e.addChild(l),s.position.x=-145,l.position.x=5,u.mask=s,c.mask=l,e.iconL0=v.Sprite.from(i.randomTexture),e.iconL0.anchor.set(.5,.5),e.iconL0.scale.set(.5,.5),u.addChild(e.iconL0),e.iconR0=v.Sprite.from(i.randomTexture),e.iconR0.anchor.set(.5,.5),e.iconR0.scale.set(.5,.5),c.addChild(e.iconR0),e.iconL1=v.Sprite.from(i.randomTexture),e.iconL1.anchor.set(.5,.5),e.iconL1.scale.set(.5,.5),u.addChild(e.iconL1),e.iconL1.y=140,e.iconR1=v.Sprite.from(i.randomTexture),e.iconR1.anchor.set(.5,.5),e.iconR1.scale.set(.5,.5),c.addChild(e.iconR1),e.iconR1.y=140,e}return t=i,r=[{key:"prepareTextures",value:function(){this.allTextures=new Map,this.allTextures.set(Ri.RocketUp,v.Texture.from("powerup_rocket.png")),this.allTextures.set(Ri.Kill,v.Texture.from("powerup_bomb.png")),this.allTextures.set(Ri.Freeze,v.Texture.from("powerup_freeze.png"))}},{key:"getTexture",value:function(e){var t=this.allTextures.get(e);return t||v.Texture.EMPTY}},{key:"randomTexture",get:function(){var e=Array.from(this.allTextures.keys()),t=e[Math.floor(Math.random()*e.length)];return this.getTexture(t)}}],(n=[{key:"start",value:function(e){var t=this;g.a.to({a:0},{a:1,duration:1,onUpdate:function(){if(t.iconL0.y>=140){t.iconL0.texture=i.randomTexture,t.iconR0.texture=i.randomTexture;var e=t.iconL0;t.iconL0=t.iconL1,t.iconL1=e,e=t.iconR0,t.iconR0=t.iconR1,t.iconR1=e,t.iconL0.y=0,t.iconR0.y=0}t.iconL0.y+=20,t.iconR0.y+=20,t.iconL1.y=t.iconL0.y-140,t.iconR1.y=t.iconR0.y-140},onComplete:function(){t.iconL0.y=0,t.iconR0.y=0,t.iconR1.y=140,t.iconL1.y=140,t.iconL0.texture=i.getTexture(e[0]),t.iconR0.texture=i.getTexture(e[1])}})}}])&&Wr(t.prototype,n),r&&Wr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function eo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ro(e);if(t){var o=ro(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return to(this,n)}}function to(e,t){if(t&&("object"===qr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return no(e)}function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Xr(Jr,"allTextures",void 0);var io=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}(u,e);var t,n,r,o,i,a=eo(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),oo(no(e=a.call(this)),"back",void 0),oo(no(e),"popup",void 0),oo(no(e),"callback",void 0),oo(no(e),"scoreTxt",void 0),oo(no(e),"timeBonusTxt",void 0),oo(no(e),"title",void 0),oo(no(e),"stars",void 0),oo(no(e),"emitter",void 0),oo(no(e),"prizeIcon",void 0),oo(no(e),"heart",void 0),oo(no(e),"onTickEvent",(function(t){e.emitter.update(t/70)})),e.back=v.Sprite.from(v.Texture.WHITE),e.back.anchor.set(.5,.5),e.back.width=Y.originalWidth,e.back.height=Y.originalHeight,e.back.tint=0,e.back.alpha=0,e.addChild(e.back);var t=new v.Container;e.addChild(t),e.popup=new v.Container,e.popup.scale.set(0,0),e.addChild(e.popup);var n=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);n.pivot.set(300,400),n.width=600,n.height=800,e.popup.addChild(n),e.title=new v.Text("Well done!",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"}),e.title.anchor.set(.5,.5),e.title.position.y=-310,e.popup.addChild(e.title),e.scoreTxt=new v.Text("0",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:120,fill:0,align:"center",letterSpacing:7,fontWeight:"bold"}),e.scoreTxt.anchor.set(.5,.5),e.scoreTxt.y=80,e.popup.addChild(e.scoreTxt),e.timeBonusTxt=new v.Text("+ Time Bonus!",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:40,fill:6242531,align:"center"}),e.timeBonusTxt.anchor.set(.5,.5),e.popup.addChild(e.timeBonusTxt),e.timeBonusTxt.visible=!1,e.heart=new v.Container;var r=new v.Sprite(v.Texture.from("hero.png"));r.anchor.set(.5,.5),e.heart.addChild(r);var o=new v.Sprite(v.Texture.from("hero_.png"));o.anchor.set(.5,.5),e.heart.addChild(o),e.heart.scale.set(1.3,1.3),e.heart.position.y=-1e3,e.addChild(e.heart),e.stars=[];for(var i=-120,c=0;c<3;c++){var s=v.Sprite.from(v.Texture.from("like.png"));s.anchor.set(.5,.5),s.position.set(i,-150),e.popup.addChild(s),e.stars.push(s),s.visible=!1,i+=120}e.popup.addChild(e.stars[1]),e.prizeIcon=new v.Sprite,e.prizeIcon.anchor.set(.5,.5),e.prizeIcon.scale.set(.5,.5),e.prizeIcon.position.copyFrom(e.stars[2]),e.prizeIcon.x+=50,e.prizeIcon.y-=50,e.popup.addChild(e.prizeIcon),e.prizeIcon.visible=!1;var l=new ke("ok_button.png","ok_button.png");return l.on("pointerup",(function(){e.hide()})),l.position.y=300,e.popup.addChild(l),e.emitter=new Fr.a(t,"like.png",Y.particles),e}return t=u,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function e(t,n,r,o,i,a,u){var c,s,l,f,p,h,y,d,b=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.timeBonusTxt.visible=!1,this.heart.position.y=-1e3,this.heart.alpha=1,t||(r=0),console.log(a.toString(),u,r),this.title.text=t?"Well done!":"So sorry...",!((c=u!==Ri.None?u[0]:Ri.None)!==Ri.None&&n+r>=o[2])){e.next=24;break}return e.next=10,Q("powerupDone"+a.toString(),"0");case 10:if(s=e.sent,console.log("pd",s),"0"!==s){e.next=24;break}return this.prizeIcon.visible=!0,this.prizeIcon.scale.set(0,0),this.prizeIcon.texture=Jr.getTexture(c),e.next=18,Q(Bt.getStorageId(c),"0");case 18:return l=e.sent,f=parseInt(l),e.next=22,Z(Bt.getStorageId(c),(f+1).toString());case 22:return e.next=24,Z("powerupDone"+a.toString(),"1");case 24:for(p=0;p<this.stars.length;p++)(h=this.stars[p]).visible=!0,h.scale.set(0,0),h.showed=!1;this.callback=i,this.visible=!0,this.back.alpha=0,this.popup.scale.set(0,0),y={s:0},this.scoreTxt.text="0",d=function(){b.scoreTxt.text=Math.round(y.s).toString();for(var e=0;e<o.length;e++){var t=b.stars[e];if(y.s>=o[e]&&!t.showed){t.showed=!0;var n=1===e?1.5:1;g.a.to(t.scale,{x:n,y:n,duration:.2,ease:k.a.easeOut}),b.prizeIcon.visible&&2===e&&g.a.to(b.prizeIcon.scale,{x:.5,y:.5,duration:.2,ease:k.a.easeOut})}}},g.a.to(y,{s:n,delay:1,duration:2,onUpdate:d,onComplete:function(){y.s=n,r>0&&(n+=r,b.timeBonusTxt.visible=!0,b.timeBonusTxt.scale.set(5,5),g.a.to(b.timeBonusTxt.scale,{x:1,y:1,duration:.5,onComplete:function(){g.a.to(y,{s:n,duration:1,onUpdate:d})}}))}}),g.a.to(this.back,{alpha:.5,duration:.5}),g.a.to(this.popup.scale,{x:1,y:1,duration:1,ease:k.a.easeOut}),t&&(g.a.to(this.heart,{y:-410,delay:1,duration:1.5,ease:k.a.easeOut}),g.a.delayedCall(1,(function(){b.emitter.emit=!0,v.Ticker.shared.add(b.onTickEvent)})));case 36:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){$r(i,n,r,a,u,"next",e)}function u(e){$r(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t,n,r,o,a,u){return i.apply(this,arguments)})},{key:"hide",value:function(){var e=this;g.a.to(this.back,{alpha:0,duration:.2}),g.a.to(this.heart,{alpha:0,duration:.2}),g.a.to(this.popup.scale,{x:0,y:0,duration:.2,onComplete:function(){e.emitter.emit=!1,e.emitter.cleanup(),v.Ticker.shared.remove(e.onTickEvent),e.prizeIcon.visible=!1,e.visible=!1,e.callback()}})}}])&&Zr(t.prototype,n),r&&Zr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v.Container);function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return co(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return co(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function co(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function so(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fo(e,t){return(fo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vo(e);if(t){var o=vo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ho(this,n)}}function ho(e,t){if(t&&("object"===ao(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yo(e)}function yo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vo(e){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fo(e,t)}(u,e);var t,n,r,o,i,a=po(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),bo(yo(e=a.call(this)),"texts",void 0),bo(yo(e),"usingTexts",void 0),bo(yo(e),"back",void 0),bo(yo(e),"wheelbox",void 0),bo(yo(e),"tween",void 0),bo(yo(e),"nameBack",void 0),e.back=v.Sprite.from(v.Texture.WHITE),e.back.anchor.set(.5,.5),e.back.width=Y.originalWidth,e.back.height=Y.originalHeight,e.back.alpha=0,e.addChild(e.back),e.nameBack=new v.NineSlicePlane(v.Texture.from("name_back.png"),80,80,80,80),e.nameBack.width=600,e.nameBack.alpha=0,e.addChild(e.nameBack),e.texts=[],e.usingTexts=[];for(var t=0;t<4;t++){var n=e.getNewText();e.texts.push(n)}return e.wheelbox=new Jr,e.addChild(e.wheelbox),e.visible=!1,e}return t=u,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){r.visible=!0,r.back.alpha=0,r.nameBack.alpha=0,r.wheelbox.position.y=1e3;var o=n!==Ri.None,i=o?3:1.4;g.a.to(r.back,{alpha:.7,duration:.2}),g.a.to(r.nameBack,{alpha:1,duration:.2});for(var a=t.name.split(" "),u=-70*a.length/2+35-100,c=u,s=function(e){var t=a[e],n=void 0;(n=r.texts.length>0?r.texts.pop():r.getNewText()).alpha=1,n.visible=!0,n.text=t,r.addChild(n),r.usingTexts.push(n),n.y=u,n.x=e%2?-500-n.width/2:500+n.width/2,g.a.to(n,{x:0,duration:.5,ease:k.d.easeOut}),g.a.to(n,{alpha:0,delay:i-.2,duration:.5,onComplete:function(){r.texts.push(n)}}),u+=70},l=0;l<a.length;l++)s(l);g.a.to(r.back,{alpha:0,delay:i-.2,duration:.5}),g.a.to(r.nameBack,{alpha:0,delay:i-.2,duration:.5}),o&&(r.wheelbox.visible=!0,r.wheelbox.alpha=1,g.a.to(r.wheelbox,{y:u+140,delay:.6,duration:.5,ease:k.d.easeOut,onComplete:function(){r.wheelbox.start(n)}}),g.a.to(r.wheelbox,{alpha:0,delay:i-.2,duration:.5}),u+=120+r.wheelbox.height/2);var f=Math.max(400,u-c+100);r.nameBack.pivot.set(300,f/2),r.nameBack.height=f,r.nameBack.y=o?c-80+f/2:-100,r.tween=g.a.delayedCall(i,(function(){r.usingTexts=[],r.visible=!1,r.tween=void 0,e()}))})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){so(i,n,r,a,u,"next",e)}function u(e){so(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})},{key:"clear",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0),g.a.killTweensOf(this.wheelbox),g.a.killTweensOf(this.back);var e,t=uo(this.usingTexts);try{for(t.s();!(e=t.n()).done;){var n=e.value;g.a.killTweensOf(n),this.removeChild(n)}}catch(e){t.e(e)}finally{t.f()}this.visible=!1}},{key:"getNewText",value:function(){var e=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});return e.anchor.set(.5,.5),e}}])&&lo(t.prototype,n),r&&lo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v.Container);function wo(e){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=To(e);if(t){var o=To(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oo(this,n)}}function Oo(e,t){if(t&&("object"===wo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Po(e)}function Po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function To(e){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ko(e,t)}(i,e);var t,n,r,o=xo(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),So(Po(e=o.call(this)),"callback",void 0),So(Po(e),"okBut",void 0),So(Po(e),"xBut",void 0);var t=v.Sprite.from(v.Texture.WHITE);t.anchor.set(.5,.5),t.width=Y.originalWidth,t.height=Y.originalHeight,t.tint=0,t.alpha=.6,e.addChild(t);var n=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);n.width=500,n.height=360,n.pivot.set(250,180),e.addChild(n);var r=new v.Text("Exit?",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});r.anchor.set(.5,.5),r.position.y=-120,e.addChild(r);var a=new ke("ok_button.png","ok_button.png");a.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,e.hide(!0)})),a.position.set(-110,110),a.scale.set(.8,.8),e.addChild(a);var u=new ke("x_button.png","x_button.png");return u.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,e.hide(!1)})),u.position.set(110,110),u.scale.set(.8,.8),e.addChild(u),e.okBut=a,e.xBut=u,e.visible=!1,e}return t=i,(n=[{key:"show",value:function(e){this.callback=e,this.alpha=1,this.visible=!0,this.okBut.disabled=!1,this.xBut.disabled=!1}},{key:"hide",value:function(e){this.okBut.disabled=!0,this.xBut.disabled=!0,this.visible=!1,this.callback&&this.callback(e),this.callback=void 0}}])&&go(t.prototype,n),r&&go(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Ro(e){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lo(e);if(t){var o=Lo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eo(this,n)}}function Eo(e,t){if(t&&("object"===Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ao(e)}function Ao(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lo(e){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Do=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Co(e,t)}(i,e);var t,n,r,o=jo(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Mo(Ao(e=o.call(this)),"part0",void 0),Mo(Ao(e),"part1",void 0),e.part0=v.Sprite.from(v.Texture.from("direction.png")),e.part0.anchor.set(.5,1),e.addChild(e.part0),e.part0.height=1200,e.part1=v.Sprite.from(v.Texture.from("direction.png")),e.part1.anchor.set(.5,1),e.addChild(e.part1),e.part1.height=700,e}return t=i,(n=[{key:"draw",value:function(e){var t=Vi.BottomPoint,n=Math.atan2(e.y-t,e.x);this.part0.rotation=n+Math.PI/2;var r=1200*Math.cos(n),o=t+1200*Math.sin(n),i=1200;r<-315||r>315?(r=(i=Math.abs(r)/r*315/Math.cos(n))*Math.cos(n),o=i*Math.sin(n),this.part1.visible=!0,this.part1.position.set(r,o),this.part1.rotation=-n-Math.PI/2):this.part1.visible=!1,this.part0.height=i+8}}])&&_o(t.prototype,n),r&&_o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Io(e){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(){return(Yo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fo(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Fo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ho(e)););return e}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ho(e);if(t){var o=Ho(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zo(this,n)}}function zo(e,t){if(t&&("object"===Io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Go(e)}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uo(e,t)}(i,e);var t,n,r,o=Wo(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ko(Go(r=o.call(this,e,t,We.ANY_TYPE,n)),"currentIcon",void 0),Ko(Go(r),"temp",void 0),r.reGenerateTextures(),r}return t=i,(n=[{key:"reGenerateTextures",value:function(){var e=this;this.currentIcon?this.currentIcon++:this.currentIcon=1,this.currentIcon>7&&(this.currentIcon=1),this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2(),this.temp=0,g.a.to(this,{temp:1,duration:.15,onComplete:function(){e.reGenerateTextures()}})}},{key:"getTexture",value:function(){return v.Texture.from("".concat(this.currentIcon||1,".png"))}},{key:"getTexture2",value:function(){return v.Texture.from("".concat(this.currentIcon||1,"_.png"))}},{key:"clean",value:function(){g.a.killTweensOf(this),Yo(Ho(i.prototype),"clean",this).call(this)}}])&&No(t.prototype,n),r&&No(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(We);function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qo(e,t){return(qo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ei(e);if(t){var o=ei(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zo(this,n)}}function Zo(e,t){if(t&&("object"===Xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qo(e)}function Qo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ni=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qo(e,t)}(i,e);var t,n,r,o=$o(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ti(Qo(e=o.call(this)),"txt",void 0),ti(Qo(e),"score",void 0),e.txt=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:40,fill:4073878,align:"center"}),e.txt.anchor.set(.5,.5),e.addChild(e.txt),e}return t=i,(n=[{key:"start",value:function(e,t,n){var r=this;this.score=n,this.txt.text="+"+n.toString(),this.x=e,this.y=t,g.a.to(this,{x:0,y:-700,duration:.7,delay:.15*Math.random(),ease:k.d.easeIn,onComplete:function(){r.finish()}})}},{key:"finish",value:function(){g.a.killTweensOf(this),this.emit("done",this.score)}},{key:"clean",value:function(){g.a.killTweensOf(this),this.off("done"),this.score=0,this.alpha=1,this.txt.text=""}}])&&Jo(t.prototype,n),r&&Jo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var oi=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="all")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.all=[];for(var i=0;i<t;i++)this.all.push(new ni)}var t,n,r;return t=e,(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Score pool exceed"),this.all.push(new ni)),this.all.pop()}},{key:"release",value:function(e){e.clean(),this.all.push(e)}}])&&ri(t.prototype,n),r&&ri(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fi(e);if(t){var o=fi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return si(this,n)}}function si(e,t){if(t&&("object"===ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return li(e)}function li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ui(e,t)}(i,e);var t,n,r,o=ci(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,v.Texture.from("bolt".concat(e,".png"))),n=li(t),a=void 0,(r="_id")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t._id=e,t}return t=i,(n=[{key:"id",get:function(){return this._id}}])&&ai(t.prototype,n),r&&ai(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Sprite);function hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yi=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="all")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;this.all=new Map;for(var o=0;o<4;o++){for(var i=[],a=0;a<20;a++)i.push(new pi(o));this.all.set(o,i)}}var t,n,r;return t=e,(n=[{key:"obtain",value:function(e){var t=this.all.get(e);return t&&0===t.length&&(console.log("Bolts pool exceed"),t.push(new pi(e))),null==t?void 0:t.pop()}},{key:"release",value:function(e){this.all.get(e.id).push(e)}}])&&hi(t.prototype,n),r&&hi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vi=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="all")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.all=[];for(var i=0;i<t;i++)this.all.push(e.createMissle())}var t,n,r;return t=e,r=[{key:"createMissle",value:function(){return new v.Sprite(v.Texture.from("like.png"))}}],(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Missles pool exceed"),this.all.push(e.createMissle())),this.all.pop()}},{key:"release",value:function(e){this.all.push(e)}}])&&di(t.prototype,n),r&&di(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bi(e){return(bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return(gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pi(e);if(t){var o=Pi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xi(this,n)}}function xi(e,t){if(t&&("object"===bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Oi(e)}function Oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ti=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gi(e,t)}(u,e);var t,n,r,o,i,a=ki(u);function u(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),e=a.call(this),t=Oi(e),r=void 0,(n="art")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.art=v.Sprite.from(ji.getTexture(0)),e.art.anchor.set(.5,.5),e.addChild(e.art),e.scale.set(0,0),e}return t=u,(n=[{key:"animate",value:(o=regeneratorRuntime.mark((function e(){var t,n=this,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.abrupt("return",new Promise((function(e){var r=0,o={a:0};g.a.to(o,{a:1,delay:t,duration:t+.4,onUpdate:function(){var e=Math.floor(2*o.a);e!==r&&(r=e,n.art.texture=ji.getTexture(r))}}),g.a.to(n.scale,{x:1,y:1,duration:t+.1}),g.a.to(n.scale,{x:1.3,y:1.3,delay:t+.2,duration:.3}),g.a.to(n,{alpha:0,delay:t+.2,duration:.5,onComplete:function(){e()}})})));case 2:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){mi(i,n,r,a,u,"next",e)}function u(e){mi(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"clean",value:function(){this.art.texture=ji.getTexture(0),this.scale.set(0,0),this.alpha=1,this.visible=!0,g.a.killTweensOf(this.scale),g.a.killTweensOf(this)}}])&&wi(t.prototype,n),r&&wi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v.Container);function Si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ri,_i,Ci,ji=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Bi(this,"all",void 0),this.all=[];for(var n=0;n<t;n++)this.all.push(new Ti)}var t,n,r;return t=e,r=[{key:"getTexture",value:function(t){return e._textures[t]}},{key:"createTextures",value:function(){e._textures||(e._textures=[v.Texture.from("game_explosion_0.png"),v.Texture.from("game_explosion_1.png"),v.Texture.from("game_explosion_2.png")])}}],(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Missles pool exceed"),this.all.push(new Ti)),this.all.pop()}},{key:"release",value:function(e){e.clean(),this.all.push(e)}}])&&Si(t.prototype,n),r&&Si(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ei(e){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ai(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Li(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ai(i,r,o,a,u,"next",e)}function u(e){Ai(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Mi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Di(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ii(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yi(e,t){return(Yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zi(e);if(t){var o=zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ui(this,n)}}function Ui(e,t){if(t&&("object"===Ei(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Wi(e)}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Bi(ji,"_textures",void 0),function(e){e[e.None=0]="None",e[e.Kill=1]="Kill",e[e.Freeze=2]="Freeze",e[e.RocketUp=3]="RocketUp"}(Ri||(Ri={})),function(e){e[e.None=0]="None",e[e.BoomLetters=1]="BoomLetters",e[e.LaserLetters=2]="LaserLetters",e[e.BigBoomLetters=3]="BigBoomLetters",e[e.SmallBoomLetters=4]="SmallBoomLetters",e[e.All=5]="All"}(_i||(_i={})),function(e){e[e.None=0]="None",e[e.Random=1]="Random",e[e.Static=2]="Static",e[e.HeartMiddle=3]="HeartMiddle",e[e.Skulls=4]="Skulls"}(Ci||(Ci={}));var Hi,Ki=[0,.2,.3,.1,.4],Vi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yi(e,t)}(P,e);var t,n,r,o,i,a,c,s,l,f,p,h,y,d,b,m,w,x,O=Fi(P);function P(){var e;Ii(this,P);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Gi(Wi(e=O.call.apply(O,[this].concat(n))),"gameContainer",void 0),Gi(Wi(e),"fxContainer",void 0),Gi(Wi(e),"frontContainer",void 0),Gi(Wi(e),"backContainer",void 0),Gi(Wi(e),"moveBox",void 0),Gi(Wi(e),"staticBox",void 0),Gi(Wi(e),"bottomOpenWall",void 0),Gi(Wi(e),"activeBlock",void 0),Gi(Wi(e),"maxY",void 0),Gi(Wi(e),"tick",0),Gi(Wi(e),"levelStartTime",void 0),Gi(Wi(e),"moving",void 0),Gi(Wi(e),"isActivePowerup",void 0),Gi(Wi(e),"preview",void 0),Gi(Wi(e),"nextLines",void 0),Gi(Wi(e),"previewBlocks",void 0),Gi(Wi(e),"nextType",void 0),Gi(Wi(e),"nextBlock",void 0),Gi(Wi(e),"isTransition",void 0),Gi(Wi(e),"powerup1",void 0),Gi(Wi(e),"powerup2",void 0),Gi(Wi(e),"nextTimer",void 0),Gi(Wi(e),"randomBodiesPositions",void 0),Gi(Wi(e),"activeBonus",void 0),Gi(Wi(e),"boomMeter",void 0),Gi(Wi(e),"scorePlace",void 0),Gi(Wi(e),"pad",void 0),Gi(Wi(e),"padRect",void 0),Gi(Wi(e),"downRect",void 0),Gi(Wi(e),"topRect",void 0),Gi(Wi(e),"levelId",void 0),Gi(Wi(e),"meterBonus",void 0),Gi(Wi(e),"obstacles",void 0),Gi(Wi(e),"score",void 0),Gi(Wi(e),"tutorial",void 0),Gi(Wi(e),"goalBlock",void 0),Gi(Wi(e),"boltsActive",void 0),Gi(Wi(e),"levelFinished",void 0),Gi(Wi(e),"levelStart",void 0),Gi(Wi(e),"pausePopup",void 0),Gi(Wi(e),"waitForOver",void 0),Gi(Wi(e),"activeBlockDelay",void 0),Gi(Wi(e),"scorePool",void 0),Gi(Wi(e),"boltsPool",void 0),Gi(Wi(e),"misslesPool",void 0),Gi(Wi(e),"increaseBlocks",[]),Gi(Wi(e),"explodePoints",[]),Gi(Wi(e),"allScore",void 0),Gi(Wi(e),"rocketPowerup",void 0),e}return t=P,n=[{key:"create",value:function(){var e=this;Jr.prepareTextures(),ji.createTextures(),Hi=new ji(90),this.scorePool=new oi(80),this.boltsPool=new yi,this.misslesPool=new vi(3),this.allScore=new Map,this.backContainer=new v.Container,this.addChild(this.backContainer),this.gameContainer=new v.Container,this.addChild(this.gameContainer),this.fxContainer=new v.Container,this.addChild(this.fxContainer),this.frontContainer=new v.Container,this.addChild(this.frontContainer),this.levelFinished=new io,this.frontContainer.addChild(this.levelFinished),this.levelFinished.visible=!1,this.pad=new v.Sprite(v.Texture.from("launchpad.png")),this.pad.anchor.set(.5,1),this.pad.position.y=.5*Y.originalHeight-30,this.gameContainer.addChild(this.pad);var t=new v.NineSlicePlane(v.Texture.from("phone.png"),104,100,104,100);t.width=Y.originalWidth+50,t.height=Y.originalHeight+40,t.position.set(.5*-t.width,.5*-t.height),this.addChild(t);var n=new v.Container;n.position.set(0,.5*-Y.originalHeight+40),this.gameContainer.addChild(n);var r=new Vn;r.position.set(-230,30),r.on("pointerup",(function(){ou("Game","Menu","Click"),e.showPause()})),n.addChild(r),this.powerup1=new Bt,this.powerup1.position.set(-255,620),this.gameContainer.addChild(this.powerup1),this.powerup1.on("activate",(function(t,n){e.startPowerup(t,n)})),this.powerup2=new Bt,this.powerup2.position.set(255,620),this.gameContainer.addChild(this.powerup2),this.powerup2.on("activate",(function(t,n){e.startPowerup(t,n)})),this.powerup1.visible=!1,this.powerup2.visible=!1,this.preview=new Do,this.gameContainer.addChild(this.preview),this.preview.visible=!1,this.previewBlocks=new en,this.gameContainer.addChild(this.previewBlocks),this.previewBlocks.y=-900-this.previewBlocks.height;var o=new v.NineSlicePlane(v.Texture.from("progress_bar.png"),6,4,6,4);o.width=600,o.height=15,o.position.set(-300,500),this.gameContainer.addChild(o),this.nextTimer=new Dt,this.nextTimer.position.set(-316,-637),this.gameContainer.addChild(this.nextTimer),this.boomMeter=new Ht,this.boomMeter.position.set(165,-725),this.boomMeter.scale.set(.85,.85),this.gameContainer.addChild(this.boomMeter),this.scorePlace=new Fn,this.scorePlace.position.set(-150,-725),this.gameContainer.addChild(this.scorePlace),this.padRect=new v.Rectangle(-140,610,280,150),this.downRect=new v.Rectangle(-400,500,800,300),this.topRect=new v.Rectangle(.5*-Y.originalWidth,.5*-Y.originalHeight,Y.originalWidth,180),this.tutorial=new Yr,this.tutorial.on("hide",(function(t){e.levelStartTime+=t})),this.frontContainer.addChild(this.tutorial),this.levelStart=new mo,this.frontContainer.addChild(this.levelStart),this.pausePopup=new Bo,this.frontContainer.addChild(this.pausePopup),this.tutorial.addCondition(Sr.Begin,(function(){var t,n=null===(t=e.goalBlock)||void 0===t?void 0:t.position;return{success:!!e.bottomOpenWall&&0===e.levelId&&!e.levelStart.visible&&!!n&&n.y<-100,data:{pos:n,scale:{x:n&&n.x<-10?-1:1,y:-1}}}})),this.tutorial.addCondition(Sr.Moving,(function(){return{success:!!e.bottomOpenWall&&0===e.levelId&&!e.levelStart.visible,data:{pos:{x:40,y:0},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Sr.Heart,(function(){var t,n=null===(t=e.goalBlock)||void 0===t?void 0:t.position;return{success:e.isTransition,data:{pos:n,scale:{x:n&&n.x<-10?-1:1,y:-1}}}})),this.tutorial.addCondition(Sr.NewLine,(function(){return{success:e.moving,data:{pos:{x:290,y:-550},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Sr.Recharge,(function(){return{success:e.boltsActive,data:{pos:{x:300,y:-650},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Sr.Unbreak,(function(){return{success:!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Sr.IAPBonus,(function(){return{success:!e.tutorial.visible&&e.tutorial.isDone(Sr.Unbreak)&&!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:-255,y:620},scale:{x:-1,y:1}}}})),this.tutorial.addCondition(Sr.IAPBonus2,(function(){return{success:!e.tutorial.visible&&e.tutorial.isDone(Sr.IAPBonus)&&!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:255,y:620},scale:{x:1,y:1}}}})),this.tutorial.addCondition(Sr.ChangePosition,(function(){return{success:!!e.bottomOpenWall&&e.powerup1.visible&&6===e.levelId&&1===e.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(Sr.Skull,(function(){var t,n,r={x:25,y:-125},o=Mi(_.bodies);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i&&i.userData&&i.userData.type===We.SKULL_TYPE){r=i.userData.position;break}}}catch(e){o.e(e)}finally{o.f()}return{success:!!e.bottomOpenWall&&12===e.levelId&&!e.levelStart.visible,data:{pos:r,scale:{x:(null===(t=r)||void 0===t?void 0:t.x)<-20?-1:1,y:-1}}}})),this.tutorial.addCondition(Sr.AnyType,(function(){var t={x:-100,y:P.BottomPoint+20};return{success:!!e.bottomOpenWall&&e.powerup1.visible&&e.levelId>8&&e.nextType===We.ANY_TYPE,data:{pos:t,scale:{x:-1,y:1}}}})),this.tutorial.addCondition(Sr.RainbowType,(function(){var t={x:-100,y:P.BottomPoint+20};return{success:!!e.bottomOpenWall&&e.powerup1.visible&&e.levelId>8&&e.nextType===We.RAINBOW_TYPE,data:{pos:t,scale:{x:-1,y:1}}}}))}},{key:"start",value:(x=Li(regeneratorRuntime.mark((function e(){var t,n,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(ne(),this.waitForOver=!1,this.boltsActive=!1,this.score=0,this.scorePlace.score=0,t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];return this.levelId=n[0][0],this.activeBonus=_i.None,this.randomBodiesPositions=[],this.obstacles=[],this.isTransition=!1,this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.generateLineBlocks(),this.tick=0,this.maxY=-800,this.moving=!1,this.nextTimer.freeze(),Y.paused=!1,e.next=22,this.generateStartBlocks();case 22:return o=this.generateIAPS(),e.next=25,this.levelStart.show(this.currentLevelData,o);case 25:this.currentLevelData.iaps?(this.powerup1.setData(o[0],Jr.getTexture(o[0]),Jr.getTexture(o[0])),this.powerup2.setData(o[1],Jr.getTexture(o[1]),Jr.getTexture(o[1])),this.powerup1.visible=!0,this.powerup2.visible=!0,this.powerup1.disabled=!1,this.powerup2.disabled=!1,this.sendStartLevelEvent({iaps:o.toString()})):this.sendStartLevelEvent(),this.boomMeter.maximum=this.currentLevelData.boomMeter,this.addActiveBlock(),this.nextTimer.unFreeze(),this.levelStartTime=(new Date).getTime(),this.rocketPowerup=new at,C.stage.on("pointerup",this.onClick,this),C.stage.on("pointerdown",this.onTapStart,this);case 33:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"close",value:(w=Li(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){C.stage.off("pointerup"),C.stage.off("pointerdown"),Y.paused=!1,t.waitForOver=!0,$a(!1),t.allScore.clear(),t.boltsActive=!1,t.nextTimer.clear(),t.boomMeter.reset(!0),t.levelStart.clear(),t.moveBox&&t.moveBox.clean(),t.staticBox&&t.staticBox.clean(),t.bottomOpenWall&&t.bottomOpenWall.clean(),t.activeBlock&&t.activeBlock.clean(),t.activeBonus=_i.None,t.tick=0,t.moving=!1,t.isActivePowerup=!1,t.previewBlocks&&t.previewBlocks.clear(),t.nextBlock&&t.nextBlock.clean(),t.preview.visible=!1,t.powerup1.visible=!1,t.powerup2.visible=!1,t.nextLines=[],t.randomBodiesPositions=[],t.obstacles=[],t.fxContainer.removeChildren(),_.bodies.forEach((function(e){e&&e.userData&&e.userData.clean()}));for(var n=t.gameContainer.children.length-1;n>=0;n--){var r=t.gameContainer.children[n];r.createBody&&t.gameContainer.removeChild(r)}g.a.globalTimeline.clear();var o=window.setInterval((function(){var t=_.bodies.filter((function(e){return e&&e.userData}));0===t.length?(window.clearInterval(o),e()):console.log(t)}),50)})));case 1:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)})},{key:"showPause",value:function(){var e=this,t=(new Date).getTime();g.a.globalTimeline.pause(),Y.paused=!0,this.pausePopup.show(function(){var n=Li(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=9;break}return n.next=3,ee(H.Interstitial);case 3:Y.paused=!1,g.a.globalTimeline.resume(),ou("Game","Pause","Exit"),D.start(Ta),n.next=14;break;case 9:ou("Game","Pause","Cancel"),Y.paused=!1,g.a.globalTimeline.resume(),o=(new Date).getTime()-t,e.levelStartTime+=o;case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"generateIAPS",value:function(){if(!this.currentLevelData.iaps)return Ri.None;for(var e=[Ri.Kill,Ri.RocketUp,Ri.Freeze],t=[],n=0;n<2;n++){var r=Math.floor(Math.random()*e.length);t.push(e[r]),e.splice(r,1)}return t}},{key:"unusedBlocksRemoved",value:function(e){var t=this;if(!this.isTransition){var n=e[Math.floor(Math.random()*e.length)],r=e.length;e.forEach((function(e){t.addScoreItem(e.x,e.y,We.BALL_SCORE)}));var o=Math.random()<.5;3===r?u.play("emoji yeah"):4===r&&(o?u.play("emoji wah"):u.play("emoji oh")),r>=5&&(o?u.playRandom("emoji wow ",2):u.play("emoji ahh"),n&&(this.fireMissle(1,n),this.addScoreItem(n.x,n.y,We.EXPLOSION_SCORE))),this.activeBonus||this.levelId>1&&this.playBolts(r,n)}}},{key:"addToBoomMeter",value:function(e){if(!this.activeBonus&&this.boomMeter.update(e)){var t=this.getRandomBonus();this.setActiveBonus(t)}}},{key:"playBolts",value:(m=Li(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<2)&&n){e.next=2;break}return e.abrupt("return");case 2:this.boltsActive=!0,r=t,t=Math.min(t,6),o=r/t,i=regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.floor(4*Math.random()),(i=u.boltsPool.obtain(r)).anchor.set(.5,.5),i.scale.set(.1,.1),i.rotation=Math.PI/2+Math.atan2(-680-n.y,270-n.x),i.position.copyFrom(n),u.fxContainer.addChild(i),g.a.to(i.scale,{x:1.5,y:1.5,duration:.4,ease:k.f.easeNone}),g.a.to(i.scale,{x:0,y:0,delay:.4,duration:.4,ease:k.f.easeNone}),g.a.to(i.position,{x:270,y:-680,duration:.8,ease:k.f.easeNone,onComplete:function(){u.addToBoomMeter(o),u.fxContainer.removeChild(i),u.boltsPool.release(i)}}),e.next=12,u.delay(.1);case 12:case"end":return e.stop()}}),e)})),a=0;case 9:if(!(a<t)){e.next=14;break}return e.delegateYield(i(a),"t0",11);case 11:a++,e.next=9;break;case 14:this.boltsActive=!1;case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"addScore",value:function(e){this.score+=e,this.scorePlace.score=this.score}},{key:"addScoreItem",value:function(e,t,n){var r=this,o=this.scorePool.obtain();this.allScore.set(o,!0),this.fxContainer.addChild(o),o.on("done",(function(e){r.addScore(e),r.scorePool.release(o),r.allScore.delete(o)})),o.start(e,t,n)}},{key:"currentLevelData",get:function(){return Y.levels[this.levelId]}},{key:"getRandomPosition",value:function(){if(!this.isTransition){var e=Math.floor(Math.random()*this.randomBodiesPositions.length),t=this.randomBodiesPositions[e];if(this.randomBodiesPositions.splice(e,1),t&&!(Math.abs(t[1])>=20))return t}}},{key:"getLettersAmount",value:function(e){return e===_i.SmallBoomLetters?1:e===_i.BoomLetters?2:e===_i.BigBoomLetters?3:0}},{key:"setActiveBonus",value:(b=Li(regeneratorRuntime.mark((function e(t){var n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.activeBonus=t,this.nextTimer.freeze(),this.addScoreItem(0,0,We.BONUS_SCORE),n=void 0,r=this.getLettersAmount(t),console.log("set bonus",t,r),ou("Game","Bonus","Activate",t),e.t0=t,e.next=e.t0===_i.SmallBoomLetters||e.t0===_i.BoomLetters||e.t0===_i.BigBoomLetters?10:e.t0===_i.LaserLetters?13:16;break;case 10:return this.meterBonus=new jn(r),n=function(){return o.getRandomPosition()},e.abrupt("break",17);case 13:return this.meterBonus=new nr,n=function(){var e=o.getRandomPosition();if(e)return e[1]},e.abrupt("break",17);case 16:return e.abrupt("return");case 17:return this.frontContainer.addChild(this.meterBonus),e.next=20,this.meterBonus.start(n);case 20:this.clearMeterBonus(),this.nextTimer.unFreeze();case 22:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"getRandomBonus",value:function(){for(var e=this.currentLevelData.bonuses,t=[],n=0,r=0;r<e.length;r++)n+=Ki[e[r]],t.push(n);var o=Math.random()*n;return e[t.filter((function(e){return o>=e})).length]}},{key:"fireMissle",value:(d=Li(regeneratorRuntime.mark((function e(t,n){var r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransition){e.next=2;break}return e.abrupt("return");case 2:$a(!0),t=Math.min(t,this.randomBodiesPositions.length),r=regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=i.getRandomPosition())&&!i.isTransition){e.next=3;break}return e.abrupt("return","continue");case 3:return(o=i.misslesPool.obtain()).anchor.set(.5,.5),o.scale.set(.1,.1),o.position.copyFrom(n),i.fxContainer.addChild(o),g.a.to(o.scale,{x:1.5,y:1.5,duration:.5,ease:k.f.easeNone}),g.a.to(o.scale,{x:0,y:0,delay:.5,duration:.5,ease:k.f.easeNone}),g.a.to(o.position,{x:50*r[0],y:50*r[1],duration:1,ease:k.f.easeNone,onComplete:function(){i.createExplosion(o.position,0),i.explodePoints.push(r),i.fxContainer.removeChild(o),i.misslesPool.release(o)}}),e.next=13,i.delay(.2);case 13:case"end":return e.stop()}}),e)})),o=0;case 7:if(!(o<t)){e.next=15;break}return e.delegateYield(r(o),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:o++,e.next=7;break;case 15:g.a.delayedCall(.15,(function(){$a(!1)}));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"createExplosion",value:(y=Li(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Hi.obtain()).position.copyFrom(t),this.fxContainer.addChild(r),e.next=5,r.animate(n);case 5:Hi.release(r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"clearActiveBlocks",value:function(){this.activeBlockDelay&&this.activeBlockDelay.kill(),this.activeBlock&&g.a.killTweensOf(this.activeBlock),this.nextBlock&&g.a.killTweensOf(this.nextBlock),g.a.killTweensOf(this.preview),this.nextBlock&&(this.pad.removeChild(this.nextBlock),this.nextBlock.clean()),this.activeBlock&&(this.gameContainer.removeChild(this.activeBlock),this.activeBlock.clean(),this.preview.visible=!1),this.activeBlock=void 0,this.nextBlock=void 0,this.nextType=void 0}},{key:"stopBonuses",value:function(){this.activeBonus=_i.None,this.clearActiveBlocks()}},{key:"stopAllScores",value:function(){this.allScore.forEach((function(e,t){t.finish()}))}},{key:"levelComplete",value:function(){this.stopAllScores(),this.stopBonuses(),this.isTransition=!0,this.moving=!1,this.obstacles.forEach((function(e){e.clean()})),this.obstacles=[],this.previewBlocks.y=-900-this.previewBlocks.height,this.previewBlocks&&this.previewBlocks.clear(),this.bottomOpenWall&&this.bottomOpenWall.animateAndDestroy(),this.bottomOpenWall=void 0,this.moveBox&&this.moveBox.animateAndDestroy(),this.staticBox&&this.staticBox.animateAndDestroy()}},{key:"heartDeath",value:function(){!this.goalBlock||this.goalBlock&&this.goalBlock.isSkull()||(this.goalBlock.setSkull(),this.moveBalls())}},{key:"moveBalls",value:function(){var e=this;if(!this.isTransition&&!this.moving){this.playArgue(2),this.moving=!0;var t=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};this.previewBlocks.show(),g.a.to(this.previewBlocks,{y:-570,duration:1.1}),g.a.to(r,{y:(70*t-500)/50,delay:.1,duration:1,ease:k.f.easeNone,onUpdate:function(){e.moveBox.body?e.moveBox.body.position=[r.x,r.y]:g.a.killTweensOf(r)},onComplete:function(){e.moveBox.body.position=[0,-11.5],e.addLineBlocks(),e.generateLineBlocks(),g.a.to(e.previewBlocks,{y:-900-e.previewBlocks.height,duration:.5}),e.moving=!1}})}}},{key:"shakeScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(g.a.to(this,{x:"+5",yoyo:!0,repeat:3,duration:.05}),g.a.to(this,{x:"-5",yoyo:!0,repeat:3,duration:.05})):(g.a.to(this,{y:"+5",yoyo:!0,repeat:3,duration:.05}),g.a.to(this,{y:"-5",yoyo:!0,repeat:3,duration:.05}))}},{key:"update",value:function(e){var t=this;if(!Y.paused&&!this.waitForOver){this.drawMouse();var n=this.meterBonus&&this.meterBonus.activeBound||void 0;this.maxY=-800;var r=!1,o=!1,i=[];if(this.randomBodiesPositions=[],_.bodies.forEach((function(e){var o=e.position;e.userData.kinematic&&e!==t.moveBox.body&&(o[1]<-9.1||o[1]>(P.BottomPoint+10)/50)&&(e.userData.shape.material=Y.material,e.gravityScale=1),e.type===E.Body.DYNAMIC&&o[1]>-P.BottomPoint/50&&e.userData&&!e.userData.isGoal()&&t.randomBodiesPositions.push(e.position),!t.isTransition&&e.type===E.Body.DYNAMIC&&o[1]>t.maxY&&(t.maxY=o[1]),t.isTransition&&e.type===E.Body.DYNAMIC&&o[1]>-P.BottomPoint/50&&(r=!0),t.isTransition&&e.type===E.Body.DYNAMIC&&o[1]<3*-P.BottomPoint/50&&e.userData.clean(),!t.isTransition&&n&&e.type===E.Body.DYNAMIC&&e.userData&&!e.userData.isGoal()&&n.forEach((function(t){t.contains(o[0],o[1])&&i.push(e)}))})),!this.isTransition&&this.goalBlock&&this.goalBlock.position.y>450&&(o=!0),this.goalBlock&&!o&&this.goalBlock.resetDeathCounter(),this.tutorial.update(),this.isTransition&&!r&&!this.levelFinished.visible){this.previewBlocks.y=-900-this.previewBlocks.height,this.nextTimer.clear(),this.boomMeter.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1;var a=this.getLevelTime(),u=Y.levels[this.levelId].idealTime,c=a<u?Math.round(1e3*(1-a/u)):0;this.sendFinishLevelEvent(Ja.Complete,this.score+c,{score:this.score,time:a,timeBonus:c}),this.levelFinished.show(!0,this.score,c,this.currentLevelData.starsConditions,(function(){t.score+=c,t.moveToNextLevel()}),this.levelId,this.generateIAPS()),this.nextTimer.freeze(),this.obstacles=[]}if(!this.moving&&!this.isTransition){if(this.goalBlock&&o&&this.goalBlock.startCountDeath(),!this.nextTimer.isFrozen){this.tick+=Math.floor(60*e);var s=this.tick%this.currentLevelData.time;this.nextTimer.setProgress(s/this.currentLevelData.time),0===s&&(this.nextTimer.setProgress(1),i=[],this.moveBalls())}if(i.length>0){var l=[];i.forEach((function(e){var n=e.userData;l.push(n.position),n.boom(!1),t.createExplosion(n.position,.2*Math.random())})),this.unusedBlocksRemoved(l)}}}}},{key:"getLevelTime",value:function(){return(new Date).getTime()-this.levelStartTime}},{key:"moveToNextLevel",value:function(){var e=this;console.log("finished",this.levelId,this.score),Y.levels.length>this.levelId+1&&((!this.currentLevelData.score||this.score>this.currentLevelData.score)&&(this.currentLevelData.score=this.score,Z("".concat(this.currentLevelData.key),this.score.toString()),console.log("set score")),this.levelId+=1,this.currentLevelData.score||0===this.currentLevelData.score||(this.currentLevelData.score=0,Z("".concat(this.currentLevelData.key),"0"))),this.boomMeter.maximum=this.currentLevelData.boomMeter,this.score=0,this.scorePlace.score=0,ee(H.Interstitial).then((function(){e.createMoveWalls(),e.generateNewBlocks().then((function(){var t=e.generateIAPS();e.levelStart.show(e.currentLevelData,t).then((function(){e.currentLevelData.iaps?(e.powerup1.setData(t[0],Jr.getTexture(t[0]),Jr.getTexture(t[0])),e.powerup2.setData(t[1],Jr.getTexture(t[1]),Jr.getTexture(t[1])),e.powerup1.visible=!0,e.powerup2.visible=!0,e.sendStartLevelEvent({iaps:t.toString()})):e.sendStartLevelEvent(),e.generateLineBlocks(),e.addActiveBlock(),e.previewBlocks.y=-900-e.previewBlocks.height,e.nextTimer.unFreeze(),e.levelStartTime=(new Date).getTime()}))})),Y.paused=!1})),this.isTransition=!1}},{key:"sendStartLevelEvent",value:function(e){console.log("send start","level"+this.currentLevelData.key,e),nu(Ja.Start,"level"+this.currentLevelData.key,0,e)}},{key:"sendFinishLevelEvent",value:function(e,t,n){console.log("send finish","level"+this.currentLevelData.key,t),nu(e,"level"+this.currentLevelData.key,t,n)}},{key:"startPowerup",value:(h=Li(regeneratorRuntime.mark((function e(t,n){var r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ou("Game","Powerup","Activate",t),n&&(this.levelStartTime+=n),!(this.isActivePowerup||Y.paused||this.isTransition)){e.next=4;break}return e.abrupt("return");case 4:this.isActivePowerup=!0,this.powerup1.disabled=!0,this.powerup2.disabled=!0,e.t0=t,e.next=e.t0===Ri.RocketUp?10:e.t0===Ri.Kill?16:e.t0===Ri.Freeze?26:29;break;case 10:return this.startVerticalRocket(),e.next=13,this.delay(2);case 13:return this.powerup1.disabled=!1,this.powerup2.disabled=!1,e.abrupt("break",29);case 16:return r=this.getRandomType(),_.bodies.forEach((function(e){var t=e.userData;t&&t.type===r&&t.setBomb()})),e.next=20,this.delay(1);case 20:return this.shakeScreen(),e.next=23,this.delay(1);case 23:return this.powerup1.disabled=!1,this.powerup2.disabled=!1,e.abrupt("break",29);case 26:return this.nextTimer.freeze(10),this.delay(10).then((function(){o.powerup1.disabled=!1,o.powerup2.disabled=!1})),e.abrupt("break",29);case 29:this.isActivePowerup=!1;case 30:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"startVerticalRocket",value:(p=Li(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=560*Math.random()-280,e.next=3,this.startRocket(t,P.BottomPoint,t,-450);case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"startRocket",value:(f=Li(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gameContainer.addChild(this.rocketPowerup),e.next=3,this.rocketPowerup.animate(t,n,r,o);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return f.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextBlock&&this.pad.removeChild(this.nextBlock),this.nextType=-1!==e?e:this.getRandomType(!0),this.nextBlock=-1===e?this.createCircle(-90,40,this.nextType,!1):this.createCircle(-90,-20,this.nextType,!1),this.pad.addChild(this.nextBlock),-1===e&&g.a.to(this.nextBlock,{y:-20,duration:.3})}},{key:"getRandomType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&this.currentLevelData.bonusBalls.length>0&&Math.random()<.08){if(2===this.currentLevelData.bonusBalls.length)return Math.random()<.5?We.ANY_TYPE:We.RAINBOW_TYPE;if(1===this.currentLevelData.bonusBalls.length)return 1===this.currentLevelData.bonusBalls[0]?We.ANY_TYPE:We.RAINBOW_TYPE}return Math.floor(Math.random()*this.currentLevelData.blocks)+1}},{key:"addActiveBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextType||(this.nextType=this.getRandomType(!0)),this.activeBlock=-1===e?this.createCircle(-90,P.BottomPoint+35,this.nextType,!1):this.createCircle(0,P.BottomPoint,this.nextType,!1),this.activeBlock.kinematic=!0,this.gameContainer.addChild(this.activeBlock),this.generateActiveBlock(e),this.preview.position.set(0,P.BottomPoint),this.preview.visible=!0,-1===e&&(this.preview.alpha=0,g.a.to(this.activeBlock,{x:0,y:P.BottomPoint,duration:.15}),g.a.to(this.preview,{alpha:.6,duration:.15}))}},{key:"switchBlockes",value:(l=Li(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=this.activeBlock)||void 0===t?void 0:t.type,r=this.nextType,e.next=4,new Promise((function(e){o.nextBlock&&g.a.to(o.nextBlock,{x:0,y:-50,duration:.2}),o.activeBlock?g.a.to(o.activeBlock,{x:-90,y:700,duration:.2,onComplete:function(){e()}}):g.a.to({a:0},{a:1,duration:.2,onComplete:function(){e()}})}));case 4:this.clearActiveBlocks(),this.nextType=r,this.addActiveBlock(n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"drawMouse",value:function(){var e=this.toLocal(C.renderer.plugins.interaction.eventData.data.global);this.isTransition||Y.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(e.x,e.y)||this.topRect.contains(e.x,e.y)||this.preview.draw(e)}},{key:"onTapStart",value:function(e){var t=this.toLocal(e.data.global);this.isTransition||Y.paused||this.topRect.contains(t.x,t.y)||(this.padRect.contains(t.x,t.y)?this.switchBlockes():this.downRect.contains(t.x,t.y)||this.drawMouse())}},{key:"onClick",value:function(e){var t=this,n=this.toLocal(e.data.global);if(!(this.isTransition||Y.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(n.x,n.y)||this.topRect.contains(n.x,n.y))){this.activeBlock.createBody(E.Body.DYNAMIC,30),this.activeBlock.shape.material=Y.activeBallMaterial;var r=this.activeBlock;this.activeBlock=void 0,this.preview.visible=!1;var o=Math.atan2((n.y-P.BottomPoint)/50,n.x/50);r.body&&(r.body.gravityScale=0,r.body.applyImpulse([450*Math.cos(o),450*Math.sin(o)])),this.activeBlockDelay=g.a.delayedCall(.4,(function(){t.activeBlockDelay=void 0,t.addActiveBlock()})),_.bodies.forEach((function(e){e&&e.userData&&e.userData.type===We.SKULL_TYPE&&e.userData.decreaseSkullMeter()}))}}},{key:"generateLineBlocks",value:function(){var e=this.currentLevelData.lines;this.previewBlocks.clear(),this.nextLines=[];for(var t=0;t<e;t++){this.nextLines[t]=[];for(var n=0;n<9;n++)this.nextLines[t][n]=Math.floor(Math.random()*this.currentLevelData.blocks)+1}this.previewBlocks.setLines(this.nextLines)}},{key:"addLineBlocks",value:function(){for(var e,t=-500,n=0;n<this.nextLines.length;n++){e=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=this.createCircle(e,t,this.nextLines[n][r]);this.gameContainer.addChild(o),e+=74}t+=70}}},{key:"delay",value:(s=Li(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){g.a.delayedCall(t,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"generateNewBlocks",value:(c=Li(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,c,s,l,f,p,h,y=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.currentLevelData,n=t.startAmount,r=t.blocks,o=t.obstacles,i=!1,a=0,o&&o.length>0&&o.forEach((function(e){y.createObstacle(e),e.type===Ci.HeartMiddle?i=!0:e.type===Ci.Skulls&&(a=e.amount)})),u=[],c=[],s=0;s<a;s++){for(l=Math.floor(Math.random()*(n-19));u.includes(l);)l=Math.floor(Math.random()*(n-19));u.push(l)}this.playArgue(),f=0;case 9:if(!(f<n)){e.next=23;break}return p=Math.floor(Math.random()*r)+1,h=this.createCircle(50*Math.random()-25,900,p),u.includes(f)&&c.push(h),this.gameContainer.addChild(h),e.next=16,this.delay(.001);case 16:if(!i||f!==Math.floor(n/2)){e.next=20;break}return this.createGoalBlock(),e.next=20,this.delay(1);case 20:f++,e.next=9;break;case 23:if(i){e.next=27;break}return e.next=26,this.delay(1);case 26:this.createGoalBlock();case 27:return e.next=29,this.delay(1);case 29:if(this.createBottomExit(),!(c.length>0)){e.next=35;break}return e.next=33,this.delay(.5);case 33:return e.next=35,this.addBeginSkulls(c);case 35:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"playArgue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;u.play("emoji argue 0"),t>1&&this.delay(.9).then((function(){u.play("emoji argue 1"),t>2&&e.delay(.9).then((function(){u.play("emoji argue 2")}))}))}},{key:"addBeginSkulls",value:(a=Li(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Mi(t);try{for(i=function(){var e=o.value;e&&(g.a.to(e.scale,{x:5,y:5,delay:.6*n,duration:.1,ease:k.d.easeOut,onComplete:function(){e.setPermanentSkull()}}),g.a.to(e.scale,{x:1,y:1,delay:n,duration:.5,ease:k.d.easeIn}),n+=.05)},r.s();!(o=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return e.next=5,this.delay(.7);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createGoalBlock",value:function(){this.goalBlock=this.createCircle(0,1100,We.GOAL_TYPE),this.goalBlock.on("gameover",this.onGameOver,this),this.gameContainer.addChild(this.goalBlock)}},{key:"createObstacle",value:function(e){if(e.type!==Ci.HeartMiddle&&e.type!==Ci.Skulls){var t=void 0;if(e.position)switch(e.type){case Ci.Static:t=new br(e.position);break;case Ci.Random:t=new Br(e.position,e.lives)}t&&(this.gameContainer.addChild(t),this.obstacles.push(t))}}},{key:"onGameOver",value:function(){var e,t,n,r=this;null===(e=this.nextTimer)||void 0===e||e.clear(),null===(t=this.boomMeter)||void 0===t||t.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1,this.sendFinishLevelEvent(Ja.Fail,0,{score:this.score,time:this.getLevelTime(),timeBonus:0}),this.score=0,this.levelFinished.show(!1,this.score,Number.MAX_SAFE_INTEGER,this.currentLevelData.starsConditions,(function(){r.restartLevel()}),this.levelId,Ri.None),null===(n=this.nextTimer)||void 0===n||n.freeze(),this.obstacles=[],Y.paused=!0}},{key:"restartLevel",value:function(){this.isTransition=!0,D.restart(this.levelId)}},{key:"generateStartBlocks",value:(i=Li(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createMoveWalls(),(t=new qe(-400,-50,100,1800,0)).shape.material=Y.bounceMaterial,this.gameContainer.addChild(t),(n=new qe(400,-50,100,1800,0)).shape.material=Y.bounceMaterial,this.gameContainer.addChild(n),r=new qe(-225,800,250,100,0),this.gameContainer.addChild(r),o=new qe(225,800,250,100,0),this.gameContainer.addChild(o),i=new qe(-150,1100,100,500,0),this.gameContainer.addChild(i),a=new qe(150,1100,100,500,0),this.gameContainer.addChild(a),u=new qe(0,1300,200,100,0),this.gameContainer.addChild(u),e.next=19,this.generateNewBlocks();case 19:Y.started=!0;case 20:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"createMoveWalls",value:function(){this.moveBox=new qe(0,-575,710,50,0),this.moveBox.type=We.END_TYPE,this.gameContainer.addChild(this.moveBox),this.staticBox=new qe(0,-625,710,50,0),this.gameContainer.addChild(this.staticBox)}},{key:"createBottomExit",value:function(){this.bottomOpenWall=new qe(0,800,200,100,0),this.gameContainer.addChild(this.bottomOpenWall)}},{key:"createCircle",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n===We.GOAL_TYPE?new vt(e,t):n===We.ANY_TYPE?new Vo(e,t,r):new We(e,t,n,r)}},{key:"clearMeterBonus",value:(o=Li(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.meterBonus&&this.meterBonus&&(this.meterBonus.clean(),this.frontContainer.removeChild(this.meterBonus),this.meterBonus=void 0),this.activeBonus=_i.None;case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"preCleanUnused",value:function(e){var t={step:e,other:{amount:0,positions:[]}};return t.other.amount=N.length,this.update(e),t.other.amount>0&&N.forEach((function(e){t.other.positions.push(e.userData.position)})),t}},{key:"postCleanUnused",value:function(e){this.increaseBlocks.forEach((function(e){return e.block.increase(e.steps)})),this.increaseBlocks=[],this.explodePoints.forEach((function(t){var n=_.hitTest(t,_.bodies,0);if(n&&n.length>0){var r=n[0].userData;r&&r instanceof We&&r.type!==We.GOAL_TYPE&&(e.other.amount+=r.boom()),n.forEach((function(t){var n=t.userData;e.other.positions.push(n.position)}))}})),e.other.amount>0&&this.unusedBlocksRemoved(e.other.positions),this.explodePoints=[]}},{key:"endContact",value:function(e){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;r&&o&&r instanceof We&&o instanceof We&&P.sameType(r,o)&&(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r))}},{key:"beginContact",value:function(e){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;if(r&&o){if(P.getEnd(r,o))return void this.levelComplete();if(r instanceof at||o instanceof at){var i=P.getBlockByRocket(r,o);i&&i instanceof We&&(i.boom(),this.createExplosion(i.position,.15*Math.random()),this.addScoreItem(i.position.x,i.position.y,We.BALL_SCORE))}var a=P.getRainbow(r,o);if(a){var c=a===r?o:r;c instanceof We&&c.correctType()&&!c.isGoal()&&c.type!==We.STATIC_OBSTACLE_TYPE&&c.type!==We.RANDOM_OBSTACLE_TYPE?(c.boom(),this.createExplosion(c.position,.15*Math.random()),this.addScoreItem(c.position.x,c.position.y,We.BALL_SCORE)):a instanceof We&&(0===c.type||c.type===We.END_TYPE||c.type===We.STATIC_OBSTACLE_TYPE||c.type===We.RANDOM_OBSTACLE_TYPE)&&(a.boom(),this.createExplosion(a.position,.15*Math.random()))}var s=P.getSkullByGoal(r,o);if(s)return s.boom(),void this.heartDeath();if(r instanceof We&&o instanceof We&&(P.sameType(r,o)&&(r.sameColorNeighbors.set(o,!0),o.sameColorNeighbors.set(r,!0)),P.wasAnyAndSkull(r,o)))return this.addScoreItem(r.position.x,r.position.y,We.BALL_SCORE),r.boom(),void o.boom();if(!e.shapeA.data||!e.shapeB.data)return;if((50*E.vec2.distance(e.bodyA.position,e.bodyA.previousPosition)>.5||50*E.vec2.distance(e.bodyB.position,e.bodyB.previousPosition)>.5)&&u.playRandom("ball hit ",3),r&&o){var l=P.getKinematic(r,o);if(l&&l.body){var f=l===r?o:r;if(l.enableGravity(),f instanceof Br&&f.type===We.RANDOM_OBSTACLE_TYPE?(f.changePosition(),this.addScoreItem(f.position.x,f.position.y,We.BALL_SCORE),this.shakeScreen(Math.random()<.5)):f.type===We.STATIC_OBSTACLE_TYPE&&this.shakeScreen(Math.random()<.5),r.type!==We.GOAL_TYPE&&o.type!==We.GOAL_TYPE)if(P.sameType(r,o)&&r instanceof We&&o instanceof We){r.kinematic=!1,o.kinematic=!1,r.enableGravity(),o.enableGravity();var p=l.steps;l.animateAndDestroy(),this.increaseBlocks.push({block:l===r?o:r,steps:p})}else f.type===We.SKULL_TYPE&&l.setSkull()}else{if(r instanceof We&&r.kinematic&&r.enableGravity(),o instanceof We&&o.kinematic&&o.enableGravity(),r.type===We.GOAL_TYPE||o.type===We.GOAL_TYPE)return;if(r instanceof We&&o instanceof We&&P.sameType(r,o)&&(r.steps!==o.steps||r.kinematic||o.kinematic)){var h=r.kinematic?r:o,y=h===r?o:r;h.kinematic=!1,y.kinematic=!1,h.body&&(h.body.gravityScale=1),y.body&&(y.body.gravityScale=1);var d=h.steps;h.animateAndDestroy(),this.increaseBlocks.push({block:y,steps:d})}else{var v=P.getRandomObstacle(r,o);if(v)this.shakeScreen(Math.random()<.5),v.changePosition(),this.addScoreItem(v.position.x,v.position.y,We.BALL_SCORE);else if(r instanceof We&&o instanceof We){var b=P.getKinematicBySkull(r,o);b&&b.setSkull()}}}}}}}],r=[{key:"sameType",value:function(e,t){return!(e.type!==t.type&&e.type!==We.ANY_TYPE&&t.type!==We.ANY_TYPE||0===e.type||0===t.type||e.isGoal()||t.isGoal()||e.type===We.STATIC_OBSTACLE_TYPE||t.type===We.STATIC_OBSTACLE_TYPE||e.type===We.RANDOM_OBSTACLE_TYPE||t.type===We.RANDOM_OBSTACLE_TYPE||e.type===We.SKULL_TYPE||t.type===We.SKULL_TYPE)}},{key:"getRainbow",value:function(e,t){return e.type===We.RAINBOW_TYPE||t.type===We.RAINBOW_TYPE?e.type===We.RAINBOW_TYPE?e:t:void 0}},{key:"getEnd",value:function(e,t){return e.type===We.GOAL_TYPE&&t.type===We.END_TYPE||t.type===We.GOAL_TYPE&&e.type===We.END_TYPE?e.type===We.END_TYPE?e:t:void 0}},{key:"getSkullByGoal",value:function(e,t){return e.type===We.GOAL_TYPE&&t.type===We.SKULL_TYPE||t.type===We.GOAL_TYPE&&e.type===We.SKULL_TYPE?e.type===We.SKULL_TYPE?e:t:void 0}},{key:"wasAnyAndSkull",value:function(e,t){return e.type===We.ANY_TYPE&&t.type===We.SKULL_TYPE&&!t.isGoal()||t.type===We.ANY_TYPE&&e.type===We.SKULL_TYPE&&!e.isGoal()}},{key:"getBlockByRocket",value:function(e,t){return e instanceof at&&t.correctType()&&!t.isGoal()?t:t instanceof at&&e.correctType()&&!e.isGoal()?e:void 0}},{key:"getKinematic",value:function(e,t){return e instanceof We&&e.kinematic&&0!==e.type?e:t instanceof We&&t.kinematic&&0!==t.type?t:void 0}},{key:"getRandomObstacle",value:function(e,t){return e instanceof We&&e.kinematic&&t instanceof Br&&t.type===We.RANDOM_OBSTACLE_TYPE?t:t instanceof We&&t.kinematic&&e instanceof Br&&e.type===We.RANDOM_OBSTACLE_TYPE?e:void 0}},{key:"getKinematicBySkull",value:function(e,t){return e.kinematic&&t.type===We.SKULL_TYPE?e:t.kinematic&&e.type===We.SKULL_TYPE?t:void 0}}],n&&Ni(t.prototype,n),r&&Ni(t,r),Object.defineProperty(t,"prototype",{writable:!1}),P}(se);function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qi(e,t){return(qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ea(e);if(t){var o=ea(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zi(this,n)}}function Zi(e,t){if(t&&("object"===Xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qi(e)}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Gi(Vi,"BottomPoint",670);var na=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qi(e,t)}(i,e);var t,n,r,o=$i(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ta(Qi(e=o.call(this)),"explosion",void 0),ta(Qi(e),"face",void 0),ta(Qi(e),"logo",void 0),e.explosion=v.Sprite.from(v.Texture.from("splash_explosion.png")),e.explosion.anchor.set(.5),e.explosion.scale.set(0,0),e.explosion.position.y=.5*-Y.originalHeight+516,e.explosion.alpha=0,e.addChild(e.explosion),e.face=v.Sprite.from(v.Texture.from("splash_logo_face.png")),e.face.position.set(-131,-350),e.face.alpha=0,e.addChild(e.face),e.logo=v.Sprite.from(v.Texture.from("splash_logo.png")),e.logo.anchor.set(.5),e.logo.position.set(0,-260),e.logo.scale.set(3,3),e.logo.alpha=0,e.addChild(e.logo),e}return t=i,(n=[{key:"start",value:function(){this.explosion.position.y=.5*-Y.originalHeight+516,this.explosion.scale.set(0,0),this.explosion.alpha=0,this.face.position.set(-131,-350),this.face.alpha=0,this.logo.position.set(0,-260),this.logo.scale.set(3,3),this.logo.alpha=0,u.play("startup explosion"),g.a.to(this.explosion,{alpha:1,duration:.2}),g.a.to(this.explosion.scale,{x:1,y:1,duration:1,ease:k.c.easeOut}),g.a.to(this.logo,{alpha:1,delay:.2,duration:.2}),g.a.to(this.logo.scale,{x:1,y:1,delay:.2,duration:1,ease:k.a.easeOut}),g.a.to(this.face,{alpha:1,delay:1.09,duration:.1}),g.a.to(this.face,{y:-448,delay:1.1,duration:2,ease:k.f.easeNone})}},{key:"stop",value:function(){g.a.killTweensOf(this.explosion),g.a.killTweensOf(this.explosion.scale),g.a.killTweensOf(this.logo),g.a.killTweensOf(this.logo.scale),g.a.killTweensOf(this.face)}}])&&Ji(t.prototype,n),r&&Ji(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function ra(e){return(ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ia(e,t){return(ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sa(e);if(t){var o=sa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ua(this,n)}}function ua(e,t){if(t&&("object"===ra(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ca(e)}function ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sa(e){return(sa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ia(e,t)}(i,e);var t,n,r,o=aa(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),la(ca(e=o.call(this)),"txt",void 0),la(ca(e),"lockedTxt",void 0),la(ca(e),"hearts",void 0),e.txt=new v.Text("Level 1",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),e.txt.anchor.set(.5,1),e.txt.position.set(0,-75),e.addChild(e.txt);var t=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);t.pivot.set(160,70),t.width=320,t.height=140,t.tint=14540253,e.addChild(t),e.lockedTxt=new v.Text("Locked",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:11184810,fontWeight:"bold",align:"center"}),e.lockedTxt.anchor.set(.5,.5),e.lockedTxt.position.set(0,0),e.addChild(e.lockedTxt),e.hearts=[];for(var n=-90,r=0;r<3;r++){var a=new v.Sprite(v.Texture.from("like.png"));a.alpha=.3,a.anchor.set(.5,.5),a.scale.set(.6),a.position.x=n,e.addChild(a),e.hearts.push(a),n+=90}return e}return t=i,(n=[{key:"updateData",value:function(e,t){this.txt.text="Level ".concat(e+1);for(var n=0;n<3;n++)this.hearts[n].alpha=t>=n+1?1:t>=0||0===e?.3:0;this.lockedTxt.visible=0!==e&&-1===t}}])&&oa(t.prototype,n),r&&oa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ya(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function da(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function va(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){da(i,r,o,a,u,"next",e)}function u(e){da(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oa(e);if(t){var o=Oa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ka(this,n)}}function ka(e,t){if(t&&("object"===pa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}function xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ta=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wa(e,t)}(l,e);var t,n,r,o,i,a,c,s=ga(l);function l(){var e;ba(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Pa(xa(e=s.call.apply(s,[this].concat(n))),"logo",void 0),Pa(xa(e),"activeLevelItem",void 0),Pa(xa(e),"activeLevelId",void 0),Pa(xa(e),"left",void 0),Pa(xa(e),"right",void 0),Pa(xa(e),"canPlay",void 0),Pa(xa(e),"playBtn",void 0),Pa(xa(e),"muteBtn",void 0),Pa(xa(e),"unmuteBtn",void 0),e}return t=l,(n=[{key:"create",value:function(){var e=this;this.logo=new na,this.addChild(this.logo),this.playBtn=new ke("start_button.png","start_button.png"),this.playBtn.position.y=Y.originalHeight/3-30,this.addChild(this.playBtn),this.playBtn.on("pointerup",(function(){e.onPlayClicked()})),this.muteBtn=new ke("sound1.png","sound1.png"),this.muteBtn.position.set(Y.originalWidth/2-50,-Y.originalHeight/2+70),this.addChild(this.muteBtn),this.muteBtn.on("pointerup",(function(){ou("Menu","Mute","click"),e.mute=!0})),this.unmuteBtn=new ke("sound2.png","sound2.png"),this.unmuteBtn.position.set(Y.originalWidth/2-50,-Y.originalHeight/2+70),this.addChild(this.unmuteBtn),this.unmuteBtn.on("pointerup",(function(){ou("Menu","Unmute","click"),e.mute=!1})),Q("emoji_mute","0").then((function(t){e.mute="1"===t})),this.createMapItems()}},{key:"mute",set:function(e){this.muteBtn.visible=!e,this.unmuteBtn.visible=e,Z("emoji_mute",e?"1":"0"),u.muteMusic=e,u.muteSounds=e}},{key:"start",value:function(){ou("Menu","View","Start"),this.logo.start(),this.setActiveLevel()}},{key:"close",value:(c=va(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ou("Menu","View","Close"),this.logo.stop();case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"setActiveLevel",value:(a=va(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Y.levels,n=0,r=-1,o=ha(t),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=20;break}return a=i.value,e.next=10,Q("".concat(a.key),"");case 10:if(u=e.sent,r=-1,""!==u&&(a.score=parseInt(u),r=qa(a.score,a.starsConditions)),0!==r&&-1!==r){e.next=17;break}return e.abrupt("break",20);case 17:n++;case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:this.activeLevelId=n,this.canPlay=0===n||-1!==r,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 32:case"end":return e.stop()}}),e,this,[[4,22,25,28]])}))),function(){return a.apply(this,arguments)})},{key:"updateButtons",value:function(){this.playBtn.disabled=!this.canPlay,this.left.visible=this.activeLevelId>0,this.right.visible=this.activeLevelId<Y.levels.length-1}},{key:"createMapItems",value:function(){var e=this;this.activeLevelItem=new fa,this.activeLevelItem.position.set(0,Y.originalHeight/3-230),this.addChild(this.activeLevelItem),this.left=new ke("back_button.png","back_button.png"),this.left.position.set(-240,this.activeLevelItem.y),this.addChild(this.left),this.right=new ke("next_button.png","next_button.png"),this.right.position.set(250,this.activeLevelItem.y+5),this.addChild(this.right),this.left.scale.set(.5,.5),this.right.scale.set(.5,.5),this.left.on("pointerup",(function(){ou("Menu","Prev","Click"),e.activeLevelId--,e.updateActive()})),this.right.on("pointerup",(function(){ou("Menu","Next","Click"),e.activeLevelId++,e.updateActive()}))}},{key:"updateActive",value:(i=va(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Y.levels[this.activeLevelId],e.next=3,Q("".concat(t.key),"");case 3:n=e.sent,r=-1,""!==n&&(t.score=parseInt(n),r=qa(t.score,t.starsConditions)),this.canPlay=0===this.activeLevelId||-1!==r,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onPlayClicked",value:(o=va(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canPlay){e.next=2;break}return e.abrupt("return");case 2:if(!q||!X.shouldPlayFirstAds()){e.next=5;break}return e.next=5,ee(H.Interstitial);case 5:ou("Menu","Play","Click",this.activeLevelId+1),D.start(Vi,this.activeLevelId);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}])&&ma(t.prototype,n),r&&ma(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(se),Sa=n(199);function Ba(e){return(Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function _a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e,t){return(ja=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ma(e);if(t){var o=Ma(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Aa(this,n)}}function Aa(e,t){if(t&&("object"===Ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return La(e)}function La(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ia=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ja(e,t)}(u,e);var t,n,r,o,i,a=Ea(u);function u(){var e;_a(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Da(La(e=a.call.apply(a,[this].concat(n))),"comics",void 0),Da(La(e),"step",void 0),Da(La(e),"nextBtn",void 0),Da(La(e),"prevBtn",void 0),Da(La(e),"okBtn",void 0),e}return t=u,(n=[{key:"create",value:function(){var e=this;this.comics=v.Sprite.from(v.Texture.from("comic_00.png")),this.comics.anchor.set(.5,.5),this.addChild(this.comics),this.nextBtn=new ke("next_button.png","next_button.png"),this.nextBtn.position.set(160,Y.originalHeight/2-this.nextBtn.height/2),this.addChild(this.nextBtn),this.nextBtn.on("pointerup",(function(){ou("Comics","Next","Click"),e.onNextClicked()})),this.prevBtn=new ke("back_button.png","back_button.png"),this.prevBtn.position.set(-160,this.nextBtn.y),this.addChild(this.prevBtn),this.prevBtn.on("pointerup",(function(){ou("Comics","Prev","Click"),e.onPrevClicked()})),this.okBtn=new ke("ok_button.png","ok_button.png"),this.okBtn.on("pointerup",(function(){Z("skipcomics","1"),D.start(Ta)})),this.okBtn.position.y=this.nextBtn.y-50,this.addChild(this.okBtn),this.prevBtn.visible=!1,this.nextBtn.visible=!1,this.okBtn.visible=!1}},{key:"start",value:function(){ou("Comics","View","Start"),this.step=0,this.prevBtn.visible=!1,this.nextBtn.visible=!0,this.okBtn.visible=!1}},{key:"close",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(ou("Comics","View","Close"),t=0;t<6;t++)v.Texture.removeFromCache("comic_0".concat(t,".png"));this.removeChild(this.okBtn),this.destroy({children:!0});case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Ra(i,n,r,a,u,"next",e)}function u(e){Ra(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onNextClicked",value:function(){this.step++,this.step<5?(this.updateImage(),this.prevBtn.visible=!0,this.nextBtn.visible=!0):5===this.step&&(this.updateImage(),this.okBtn.visible=!0,this.prevBtn.visible=!1,this.nextBtn.visible=!1)}},{key:"onPrevClicked",value:function(){this.step--,this.prevBtn.visible=this.step>0,this.updateImage()}},{key:"updateImage",value:function(){this.comics.texture=v.Texture.from("comic_0".concat(this.step,".png"))}}])&&Ca(t.prototype,n),r&&Ca(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(se);function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Fa(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ya(i,r,o,a,u,"next",e)}function u(e){Ya(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wa(e,t){return(Wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function za(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ha(e);if(t){var o=Ha(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ga(this,n)}}function Ga(e,t){if(t&&("object"===Na(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ha(e){return(Ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ka,Va,Xa,Ja,qa=function(e,t){for(var n=0,r=0;r<t.length&&e>t[r];r++)n++;return n},$a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Y.slowmo=e,t||g.a.globalTimeline.timeScale(Y.slowmo?.4:1)},Za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wa(e,t)}(f,e);var t,n,r,o,i,a,s,l=za(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l.call(this,720,1500)}return t=f,(n=[{key:"createStates",value:(s=Fa(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q("skipcomics","0");case 2:t=e.sent,D.add(new Ta),D.add(new Vi),"0"===t?(D.add(new Ia),D.start(Ia)):D.start(Ta);case 6:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"initContactListener",value:function(){_.on("endContact",(function(e){e.shapeA.data&&e.shapeB.data&&D.activeState instanceof Vi&&D.activeState.endContact(e)})),_.on("beginContact",(function(e){D.activeState instanceof Vi&&D.activeState.beginContact(e)}))}},{key:"preCleanUnused",value:function(e){var t=D.activeState;return t&&t instanceof Vi?t.preCleanUnused(e):{step:e,other:void 0}}},{key:"postCleanUnused",value:function(e){var t=D.activeState;t&&t instanceof Vi&&t.postCleanUnused(e)}},{key:"load",value:(a=Fa(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){u.init("assets/sounds"),X.startLoading();var r=new c.b;r.add("base0","assets/atlases/base0.json"),r.add("base1","assets/atlases/base1.json"),r.add("levels","assets/levels.json"),r.add("particles","assets/emitter.json"),u.add("music",{autoplay:!0,loop:!0,volume:.5}),u.add("ball hit 0",{volume:1}),u.add("ball hit 1",{volume:1}),u.add("ball hit 2",{volume:1}),u.add("ball grow",{volume:1}),u.add("ball pop 0",{volume:1}),u.add("ball pop 1",{volume:1}),u.add("ball pop 2",{volume:1}),u.add("click",{volume:1}),u.add("emoji ahh",{volume:1}),u.add("emoji argue 0",{volume:1}),u.add("emoji argue 1",{volume:1}),u.add("emoji argue 2",{volume:1}),u.add("emoji oh",{volume:1}),u.add("emoji wah",{volume:1}),u.add("emoji wow 0",{volume:1}),u.add("emoji wow 1",{volume:1}),u.add("emoji yeah",{volume:1}),u.add("startup explosion",{volume:1}),r.onProgress.add((function(e){})),r.onError.add((function(e,t,r){iu({error:"loading (".concat(r.url,")")}),n()})),r.load(Fa(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.loadFonts();case 2:return Y.levels=r.resources.levels.data.levels,Y.particles=r.resources.particles.data,n.next=6,t.startAfterLoading();case 6:e();case 7:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"loadFonts",value:(i=Fa(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){Sa.load({custom:{families:["FontsFree-Net-AmericanTypewriterBold"],urls:["assets/fonts/font.css"]},active:function(){e()},timeout:6e4})})));case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=Fa(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("preloader"))&&(t.style.display="none"),e.next=4,te();case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&Ua(t.prototype,n),r&&Ua(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(F);!function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}(Ka||(Ka={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(Va||(Va={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(Xa||(Xa={})),function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.Complete=2]="Complete",e[e.Fail=3]="Fail"}(Ja||(Ja={})),r.GameAnalytics.setEnabledInfoLog(!1);var Qa=!1,eu="en";function tu(e,t){console.log("GA",e,t),r.GameAnalytics.initialize(e,t),console.log("Network: ".concat("0",", live: ").concat(Qa)),ou("App","Network","0",Qa?1:0),ou("App","Game","Start"),new Za}function nu(e,t,n,o){r.GameAnalytics.addProgressionEvent(e,"world","stage",t,n,o)}function ru(e,t,n){void 0===n?r.GameAnalytics.addAdEvent(e,t,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(e,t,"0","ad",n);switch(t){case Xa.Interstitial:"inter";break;case Xa.RewardedVideo:"reward"}switch(e){case Ka.FailedShow:"showError";break;case Ka.Show:"show";break;case Ka.RewardReceived:"success"}}function ou(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(e,":").concat(t,":").concat(n),o)}function iu(e){var t=JSON.stringify(e);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,t)}function au(e){Qa=e}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){$().then((function(e){eu=e.language,Qa=e.success,tu(e.gameKey,e.secretKey)})).catch((function(e){eu="en",Qa=!1,tu("28b00d27d31d5bb1a89f2f95461df103","b527d253099947040f78d2b1e70f06725391e3a1")}))}}});
//# sourceMappingURL=bundle.beac452875bda14edfb8.js.map