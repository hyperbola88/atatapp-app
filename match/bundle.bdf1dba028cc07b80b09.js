!function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],f=0,p=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;i.push([201,1]),n()}({201:function(e,t,n){n(202),e.exports=n(410)},410:function(e,t,n){"use strict";n.r(t),n.d(t,"EGAAdAction",(function(){return $a})),n.d(t,"EGAAdError",(function(){return Za})),n.d(t,"EGAAdType",(function(){return Qa})),n.d(t,"EGAProgressionStatus",(function(){return eu})),n.d(t,"live",(function(){return ou})),n.d(t,"lang",(function(){return iu})),n.d(t,"sendProgressionEvent",(function(){return uu})),n.d(t,"sendAdEvent",(function(){return cu})),n.d(t,"sendEvent",(function(){return su})),n.d(t,"sendError",(function(){return lu})),n.d(t,"setLive",(function(){return fu}));var r=n(46),o=n(194);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"path",void 0),a(this,"all",void 0),a(this,"musics",void 0),a(this,"mutedSounds",void 0),a(this,"mutedMusic",void 0)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){this.path=e,this.all={},this.musics={},this.mutedSounds=!1,this.mutedMusic=!1}},{key:"muteMusic",get:function(){return this.mutedMusic},set:function(e){var t;this.mutedMusic=e,null===(t=this.musics.music)||void 0===t||t.mute(e)}},{key:"muteSounds",get:function(){return this.mutedSounds},set:function(e){for(var t in this.mutedSounds=e,this.all)this.all[t]&&this.all[t].mute(e)}},{key:"add",value:function(e,t){var n=this;if(!this.all[e]){if(!this.path)throw new Error("setup path for sounds");var r=["mp3","ogg"].map((function(t){return"".concat(n.path,"/").concat(e,".").concat(t)})),i=new o.Howl({src:r,autoplay:null==t?void 0:t.autoplay,loop:null==t?void 0:t.loop,volume:(null==t?void 0:t.volume)||1});"music"!==e?this.all[e]=i:this.musics[e]=i}}},{key:"playRandom",value:function(e,t){for(var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Math.floor(Math.random()*t),o=!1,i=0;i<t;i++)if(this.all[e+i.toString()].playing()){o=!0;break}o&&n||this.play(e+r.toString())}},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.all[e]?this.all[e].playing()&&t||this.all[e].play():console.error("no sound was found")}},{key:"stop",value:function(e){this.all[e]?this.all[e].stop():console.error("no sound was found")}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),c=n(16),s=n(69),l=n(70),f=n(51);function p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"states",void 0),d(this,"currentState",void 0),d(this,"stage",void 0),this.stage=t,this.states=new Map}var t,n,r,o,i;return t=e,(n=[{key:"activeState",get:function(){return this.currentState}},{key:"add",value:function(e){this.states.set(e.constructor,e),e.create()}},{key:"start",value:function(e){var t=this.states.get(e);if(!t)throw new Error("No state ".concat(e));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.start(r),this.currentState=t,this.stage.addChild(this.currentState)}},{key:"restart",value:(o=regeneratorRuntime.mark((function e(){var t,n,r,o,i=this,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];if(o=this.currentState,!this.currentState){e.next=6;break}return e.next=5,this.currentState.close();case 5:this.stage.removeChild(this.currentState);case 6:window.setTimeout((function(){o.start(n),i.currentState=o,i.stage.addChild(i.currentState)}),100);case 7:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){p(i,n,r,a,u,"next",e)}function u(e){p(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),v=n(1),b=n(9),m=n(21),w=n(3),g=n(2),k=n(7);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(i,e);var t,n,r,o=S(i);function i(e,t){var n,r,a,u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this),r=B(n),u=void 0,(a="sprite")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u;var c=m.a.from(w.db.WHITE);return c.anchor.set(.5),c.tint=0,c.alpha=.6,c.width=2*e,c.height=2*t,c.interactive=!0,n.addChild(c),n.sprite=m.a.from("assets/preloader.png"),n.sprite.anchor.set(.5,.5),n.addChild(n.sprite),n}return t=i,(n=[{key:"show",value:function(){this.visible=!0,this.rotate()}},{key:"hide",value:function(){this.visible=!1,g.a.killTweensOf(this.sprite)}},{key:"rotate",value:function(){var e=this;this.sprite.rotation=0,g.a.to(this.sprite,{rotation:2*Math.PI,duration:5,ease:k.f.easeNone,onComplete:function(){e.rotate()}})}}])&&O(t.prototype,n),r&&O(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b),C=n(10),j=n.n(C),E=n(131);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}window.Stats=n(409);var M,D,I=A((function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=console.error;console.error=function(){};var o=new E.a(t);console.error=r;var i=new E.b(o),a=i.stats,u=null!==(n=a.dom)&&void 0!==n?n:a.domElement;u.style.left="200px",function(e){e.addEventListener("mousedown",(function(t){var n=t.clientX-e.getBoundingClientRect().left,r=t.clientY-e.getBoundingClientRect().top,o=!1;function i(t,o){e.style.left="".concat(t-n,"px"),e.style.top="".concat(o-r,"px")}function a(e){i(e.pageX,e.pageY),o=!0}i(t.pageX,t.pageY),document.addEventListener("mousemove",a);e.addEventListener("mouseup",(function e(t){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e),o&&t.stopPropagation()}))}))}(u),document.body.appendChild(u),t.ticker.add(i.update.bind(i))}));function N(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}f.a.registerPlugin(c.a),c.b.registerPlugin(s.b),c.b.registerPlugin(l.c);var F,U,z=[],W={started:!1,paused:!1,scale:1,realHeight:1,originalWidth:1,originalHeight:1,levels:[],particles:void 0,material:new C.Material,bounceMaterial:new C.Material,activeBallMaterial:new C.Material,slowmo:!1},G=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o={width:t,height:n,autoDensity:!0,resolution:2,backgroundColor:12309476};W.originalWidth=t,W.originalHeight=n,D=new f.a(o),document.body.appendChild(D.view),v.settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1,D.view.style.left="0%",D.view.style.top="0%",D.view.style.width="100%",D.view.style.height="100%",D.renderer.plugins.interaction,D.stage.interactive=!0,D.ticker.maxFPS=60;var i=new b.b;D.stage.addChild(i),M=new j.a.World({gravity:[0,-10]}),this.initContactListener();var a=new C.Material,u=new C.Material,c=new C.Material;W.material=a,W.bounceMaterial=c,W.activeBallMaterial=u,M.addContactMaterial(new C.ContactMaterial(a,a,{restitution:0,stiffness:C.Equation.DEFAULT_STIFFNESS/3})),M.addContactMaterial(new C.ContactMaterial(u,c,{restitution:1,stiffness:C.Equation.DEFAULT_STIFFNESS/3})),M.emitImpactEvent=!1,D.ticker.add((function(){if(!W.paused){var e=1/(W.slowmo?400:60);M.step(e,.1,3),M.bodies.forEach((function(e){var t=e.userData;if(t&&t.transform){var n=e.interpolatedPosition;t.position.set(50*n[0],50*n[1]),t.rotateView?t.rotateView(e.interpolatedAngle):t.rotation=e.interpolatedAngle}})),r.customLogic(e)}})),this.start(D,i),(U=new _(t,n)).hide(),i.addChild(U),new I(D)}var t,n,r,o,i;return t=e,(n=[{key:"customLogic",value:function(e){var t=this.preCleanUnused(e);this.cleanUnusedBobies(),this.postCleanUnused(t)}},{key:"cleanUnusedBobies",value:function(){z.forEach((function(e){return M.removeBody(e)})),z=[]}},{key:"start",value:(o=regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new b.b,n.addChild(r),o=new b.b,n.addChild(o),F=new y(o),e.next=7,this.load();case 7:i=m.a.from(v.Texture.from("back1.png")),r.addChild(i),this.createStates(),a=function(){return{width:innerWidth,height:innerHeight}},u=function(){var e=a(),n=e.width,i=e.height;t.renderer.resize(n,i),W.realHeight=i,U.height=i,U.scale.x=U.scale.y;var u=i/W.originalHeight;W.scale=u,o.scale.set(u,u),r.scale.set(u,u),r.position.set(.5*n-.5*r.width,.5*i-.5*r.height),o.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height),U.position.set(r.position.x+.5*r.width,r.position.y+.5*r.height)},window.addEventListener("resize",u),u();case 14:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){N(i,n,r,a,u,"next",e)}function u(e){N(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}])&&Y(t.prototype,n),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function H(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,u,"next",e)}function u(e){H(i,r,o,a,u,"throw",e)}a(void 0)}))}}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X,J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r,o,i,a,u,c,s,l,f,p,h;return t=e,(n=[{key:"showGlobalLeaders",value:function(e){}},{key:"shouldLeadersShow",value:function(){return!1}},{key:"shouldPlayFirstAds",value:function(){return!1}},{key:"shouldShareShow",value:function(){return!1}},{key:"shouldScalePlayer",value:function(){return!1}},{key:"gameplayStart",value:function(){}},{key:"gameplayStop",value:function(){}},{key:"createShortcut",value:(h=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)})},{key:"showInvitePage",value:function(){}},{key:"shareScore",value:function(e){}},{key:"startLoading",value:function(){}},{key:"finishLoading",value:(p=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)})},{key:"loadingProgress",value:function(e){}},{key:"performHapticFeedback",value:function(){}},{key:"getFriends",value:(f=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)})},{key:"getPlayerEntry",value:function(){}},{key:"setStorageData",value:(l=K(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e,t){return l.apply(this,arguments)})},{key:"getStorageData",value:(s=K(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n);case 1:case"end":return e.stop()}}),e)}))),function(e,t){return s.apply(this,arguments)})},{key:"setScore",value:(c=K(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"getScore",value:(u=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",0);case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})},{key:"init",value:(a=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{success:!0,language:"en",gameKey:"28b00d27d31d5bb1a89f2f95461df103",secretKey:"b527d253099947040f78d2b1e70f06725391e3a1"});case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"showInter",value:(i=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cu($a.Show,Qa.Interstitial),e.abrupt("return",new Promise((function(e){var t=Math.random()<.5;window.setTimeout((function(){e()}),t?1e3:0)})));case 2:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"showReward",value:(o=K(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cu($a.Show,Qa.RewardedVideo),e.abrupt("return",new Promise((function(e){window.setTimeout((function(){e(!0)}),2e3)})));case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})},{key:"atatappLink",value:function(){return""}}])&&V(t.prototype,n),r&&V(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,u,"next",e)}function u(e){q(i,r,o,a,u,"throw",e)}a(void 0)}))}}!function(e){e[e.RewardedVideo=2]="RewardedVideo",e[e.Interstitial=4]="Interstitial"}(X||(X={}));var Z,Q=function(){try{return localStorage}catch(e){return}},ee=!0,te=function(){var e=$(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){Z=new J,console.log(Z),Z&&Z.init().then((function(t){e(t)})).catch((function(e){lu({error:"initSocial"}),t()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=$(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(r=Q())||void 0===r||r.setItem(t,n),e.next=3,Z.setStorageData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=$(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getStorageData(t,n);case 2:return(r=e.sent)===n&&(r=(null===(o=Q())||void 0===o?void 0:o.getItem(t))||n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=$(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,U&&U.show(),r=u.muteMusic,o=u.muteSounds,u.muteMusic=!0,u.muteSounds=!0,e.t0=t,e.next=e.t0===X.Interstitial?9:e.t0===X.RewardedVideo?13:17;break;case 9:return e.next=11,Z.showInter();case 11:return n=!0,e.abrupt("break",17);case 13:return e.next=15,Z.showReward();case 15:return n=e.sent,e.abrupt("break",17);case 17:return ee=!1,U&&U.hide(),u.muteMusic=r,u.muteSounds=o,e.abrupt("return",n);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=$(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z.finishLoading());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){Z.gameplayStart()},ue=function(){Z.gameplayStop()};function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=he(e);if(t){var o=he(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){if(t&&("object"===ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var de=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(i,e);var t,n,r,o=fe(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return t=i,n&&se(t.prototype,n),r&&se(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(b.b);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(){return(be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=me(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function me(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(e,t){if(t&&("object"===ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xe(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se,Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&we(e,t)}(i,e);var t,n,r,o=ge(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Pe(xe(n=o.call(this)),"normalTexture",void 0),Pe(xe(n),"downTexture",void 0),Pe(xe(n),"isDisabled",!1),Pe(xe(n),"isDown",void 0),Pe(xe(n),"btn",void 0),n.normalTexture=""===e?w.db.WHITE:w.db.from(e),n.downTexture=""===e?w.db.WHITE:w.db.from(t),n.btn=m.a.from(n.normalTexture),n.btn.anchor.set(.5,.5),n.addChild(n.btn),n.on("pointerdown",n.onButtonDown.bind(xe(n))).on("pointerup",n.onButtonUp.bind(xe(n))).on("pointerupoutside",n.onButtonUp.bind(xe(n))).on("pointerout",n.onButtonOut.bind(xe(n))),n.disabled=!1,n}return t=i,(n=[{key:"disabled",get:function(){return this.isDisabled},set:function(e){this.isDisabled=e,this.isDisabled?(this.interactive=!1,this.buttonMode=!1,this.btn.alpha=.5):(this.interactive=!0,this.buttonMode=!0,this.btn.alpha=1)}},{key:"onButtonOut",value:function(){this.isDisabled||this.isDown||(this.btn.texture=this.normalTexture)}},{key:"onButtonDown",value:function(e){this.isDisabled||(u.play("click"),this.isDown=!0,this.btn.texture=this.downTexture)}},{key:"onButtonUp",value:function(){this.isDisabled||(this.isDown=!1,this.btn.texture=this.normalTexture)}},{key:"destroy",value:function(e){this.off("pointerdown").off("pointerup").off("pointerupoutside").off("pointerout"),be(Oe(i.prototype),"destroy",this).call(this,e)}}])&&ve(t.prototype,n),r&&ve(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b);function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return je(this,n)}}function je(e,t){if(t&&("object"===Be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.NO=0]="NO",e[e.WALLS=Math.pow(2,0)]="WALLS",e[e.BALLS=Math.pow(2,1)]="BALLS",e[e.MOVER=Math.pow(2,2)]="MOVER",e[e.OBSTACLES=Math.pow(2,3)]="OBSTACLES"}(Se||(Se={}));var Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(i,e);var t,n,r,o=Ce(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ae(Ee(t=o.call(this)),"body",void 0),Ae(Ee(t),"shape",void 0),Ae(Ee(t),"type",void 0),Ae(Ee(t),"view",void 0),t.type=e,t.view=t.createView(),t.view.anchor.set(.5,.5),t.addChild(t.view),t}return t=i,(n=[{key:"createBody",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.view.alpha=1;var n=[this.position.x/50,this.position.y/50];this.shape=this.createShape(),this.body=new C.Body({type:e,position:n,mass:t,damping:0,angularDamping:0}),this.body.addShape(this.shape),M.addBody(this.body),this.body.userData=this}},{key:"clean",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyBody(e),this.parent&&this.parent.removeChild(this)}},{key:"isGoal",value:function(){return!1}},{key:"destroyBody",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.body&&(e?M.removeBody(this.body):z.push(this.body),this.body=void 0)}},{key:"correctType",value:function(){return 0!==this.type&&(this.type<20||this.type===Ve.STATIC_OBSTACLE_TYPE||this.type===Ve.RANDOM_OBSTACLE_TYPE||this.type===Ve.SKULL_TYPE||this.type===Ve.ANY_TYPE)}}])&&Re(t.prototype,n),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(b.b);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(){return(Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Fe(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Fe(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=He(e)););return e}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=He(e);if(t){var o=He(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ge(e)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ue(e,t)}(i,e);var t,n,r,o=ze(i);function i(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return Ie(this,i),Ke(Ge(r=o.call(this,n)),"sameColorNeighbors",new Map),Ke(Ge(r),"steps",1),Ke(Ge(r),"stepsAmount",3),Ke(Ge(r),"view2",void 0),Ke(Ge(r),"savedType",-1),Ke(Ge(r),"skullMeter",1),Ke(Ge(r),"_kinematic",!1),Ke(Ge(r),"permanentSkull",!1),Ke(Ge(r),"busy",!1),Ke(Ge(r),"sensorShape",void 0),r.permanentSkull=n===i.SKULL_TYPE,r.position.set(e,t),a&&r.createBody(C.Body.DYNAMIC),r.view2=r.createView2(),r.view2.anchor.set(.5,.5),r.addChild(r.view2),r}return t=i,(n=[{key:"rotateView",value:function(e){this.view.rotation=e}},{key:"kinematic",get:function(){return this._kinematic},set:function(e){this._kinematic=e}},{key:"createBody",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;Ye(He(i.prototype),"createBody",this).call(this,e,n),this.sensorShape=new C.Circle({radius:(this.getRadius()+5)/50}),this.sensorShape.sensor=!0,this.sensorShape.material=W.material,this.sensorShape.data=!0,null===(t=this.body)||void 0===t||t.addShape(this.sensorShape)}},{key:"enableGravity",value:function(){this.body&&(this.body.gravityScale=1,this.body.mass=5,this.body.updateMassProperties(),this.shape.material=W.material)}},{key:"animateAndDestroy",value:function(){var e=this;this.killTween(),g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),g.a.to(this.view2.scale,{x:0,y:0,duration:.2}),this.destroyBody()}},{key:"killTween",value:function(){g.a.killTweensOf(this.view.scale),g.a.killTweensOf(this.view2.scale)}},{key:"clean",value:function(){this.busy=!1,Ye(He(i.prototype),"clean",this).call(this)}},{key:"decreaseSkullMeter",value:function(){this.type!==i.SKULL_TYPE||this.permanentSkull||(this.skullMeter-=1,-1===this.skullMeter&&this.removeSkull())}},{key:"isSkull",value:function(){return this.type===i.SKULL_TYPE}},{key:"setPermanentSkull",value:function(){this.permanentSkull=!0,this.type=i.SKULL_TYPE,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2()}},{key:"setSkull",value:function(){this.savedType=this.type,this.skullMeter=3,this.kinematic=!1,this.body&&(this.body.gravityScale=1),this.type=i.SKULL_TYPE,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2()}},{key:"removeSkull",value:function(){this.type=this.savedType,this.savedType=-1,this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2(),this.view2.visible=!0}},{key:"setBomb",value:function(){var e=this;this.busy||(this.type=i.BOMB_TYPE,this.view.texture=v.Texture.from("bomb.png"),this.view2.visible=!1,this.killTween(),this.busy=!0,g.a.to(this.view.scale,{x:.4,y:.4,duration:1,onUpdate:function(){e.updateShape()}}),g.a.to(this.view.scale,{x:1.2,y:1.2,delay:1,duration:.2,onUpdate:function(){e.updateShape()},onComplete:function(){var t=qi.obtain();e.addChild(t),t.animate().then((function(){qi.release(t)})),e.animateAndDestroy()}}))}},{key:"boom",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.increase(this.stepsAmount-this.steps,e)}},{key:"getRadius",value:function(){return 35}},{key:"getTexture",value:function(){return v.Texture.from("".concat(this.type,".png"))}},{key:"getTexture2",value:function(){return v.Texture.from("".concat(this.type,"_.png"))}},{key:"createView",value:function(){var e=new v.Sprite(this.getTexture());return e.scale.set(.5,.5),e}},{key:"createView2",value:function(){var e=new v.Sprite(this.getTexture2());return e.scale.set(.5,.5),e}},{key:"createShape",value:function(){var e=new C.Circle({radius:this.getRadius()/50});return e.material=W.material,e}},{key:"increase",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.busy||!this.body)return 0;var r=0;this.busy=!0;var o=this.steps;if(e+=Math.max(0,this.sameColorNeighbors.size-1),this.steps+=e,this.steps>=this.stepsAmount){if(n&&(r=1),this.killTween(),this.sameColorNeighbors.forEach((function(e,o){if(o!==t){var i=o.increase(t.stepsAmount-o.steps,n);n&&(r+=i)}})),o<2)g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){t.clean()}}),g.a.to(this.view2.scale,{x:0,y:0,duration:.2});else{var a=this.view.width/2,c=0;g.a.to(this.view.scale,{x:0,y:0,duration:.3,onUpdate:function(){t.view.position.set(Math.cos(c)*a,Math.sin(c)*a),c+=Math.PI/15,a-=1},onComplete:function(){t.clean()}}),this.view2.scale.set(0,0)}u.playRandom("ball pop ",3),this.destroyBody(n)}else{u.play("ball grow");var s=i.SCALE_FACTOR*this.steps;g.a.to(this.view.scale,{x:s,y:s,duration:.2,onUpdate:function(){t.updateShape()},onComplete:function(){t.busy=!1}}),g.a.to(this.view2.scale,{x:s,y:s,duration:.2})}return r}},{key:"updateShape",value:function(){var e,t;this.shape.radius=this.getRadius()/i.SCALE_FACTOR*this.view.scale.x/50,this.shape.updateBoundingRadius(),this.sensorShape.radius=(this.getRadius()+5)/i.SCALE_FACTOR*this.view.scale.x/50,this.sensorShape.updateBoundingRadius(),null===(e=this.body)||void 0===e||e.updateBoundingRadius(),null===(t=this.body)||void 0===t||t.updateMassProperties()}}])&&Ne(t.prototype,n),r&&Ne(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Me);Ke(Ve,"BALL_SCORE",5),Ke(Ve,"BONUS_SCORE",100),Ke(Ve,"EXPLOSION_SCORE",50),Ke(Ve,"GOAL_TYPE",1e3),Ke(Ve,"END_TYPE",500),Ke(Ve,"STATIC_OBSTACLE_TYPE",250),Ke(Ve,"RANDOM_OBSTACLE_TYPE",251),Ke(Ve,"BOMB_TYPE",2e3),Ke(Ve,"SKULL_TYPE",3e3),Ke(Ve,"RAINBOW_TYPE",4e3),Ke(Ve,"ANY_TYPE",5e3),Ke(Ve,"SCALE_FACTOR",.5);var Xe=n(4);function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=et(e);if(t){var o=et(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Qe(this,n)}}function Qe(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}(i,e);var t,n,r,o=Ze(i);function i(e,t,n,r,a){var u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(u=o.call(this,0)).position.set(e,t),u.view.width=n,u.view.height=r,u.createBody(C.Body.STATIC),u.body&&(u.body.mass=0,u.body.angle=Xe.b*a),u}return t=i,(n=[{key:"createShape",value:function(){return new C.Box({width:this.view.width/50,height:this.view.height/50})}},{key:"createView",value:function(){var e=new m.a(v.Texture.WHITE);return e.anchor.set(.5),e.tint=0,e.visible=!1,e.alpha=0,e}},{key:"isObstacle",value:function(){return!1}},{key:"correctType",value:function(){return!1}},{key:"animateAndDestroy",value:function(){var e=this;g.a.killTweensOf(this.view.scale),g.a.to(this.view.scale,{x:0,y:0,duration:.2,onComplete:function(){e.clean()}}),this.destroyBody()}}])&&qe(t.prototype,n),r&&qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Me);function nt(e){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}function ut(e,t){if(t&&("object"===nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ct(e)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(u,e);var t,n,r,o,i,a=at(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),lt(ct(e=a.call(this,300)),"startX",void 0),lt(ct(e),"startY",void 0),lt(ct(e),"endX",void 0),lt(ct(e),"endY",void 0),e.createBody(C.Body.DYNAMIC),e.reset(),e}return t=u,(n=[{key:"createShape",value:function(){var e=new C.Box({width:4,height:4});return e.sensor=!0,e}},{key:"createView",value:function(){return new v.Sprite(v.Texture.from("powerup_rocket.png"))}},{key:"animate",value:(o=regeneratorRuntime.mark((function e(t,n,r,o){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){i.visible=!0,i.startX=t,i.startY=n,i.endX=r,i.endY=o,i.position.set(t,n),t!==r&&(i.view.angle=90);var a={x:i.startX,y:i.startY};i.body.position=[a.x/50,a.y/50],g.a.to(a,{x:i.endX,y:i.endY,duration:1,ease:k.b.easeIn,onComplete:function(){i.reset(),e()},onUpdate:function(){i.body.position=[a.x/50,a.y/50]}})})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){rt(i,n,r,a,u,"next",e)}function u(e){rt(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t,n,r){return i.apply(this,arguments)})},{key:"reset",value:function(){this.body.gravityScale=0,this.visible=!1,this.body.position=[-40,-40]}}])&&ot(t.prototype,n),r&&ot(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Me);function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(){return(dt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=yt(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function yt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gt(e)););return e}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mt(this,n)}}function mt(e,t){if(t&&("object"===pt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wt(e)}function wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t)}(i,e);var t,n,r,o=bt(i);function i(e,t){var n,r,a,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=o.call(this,e,t,Ve.GOAL_TYPE,!0),r=wt(n),u=void 0,(a="delay")in r?Object.defineProperty(r,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[a]=u,n}return t=i,(n=[{key:"resetDeathCounter",value:function(){u.stop("fail ticking"),this.delay&&(this.delay.kill(),this.delay=void 0)}},{key:"startCountDeath",value:function(){var e=this;this.delay||(u.play("fail ticking",!0),this.delay=g.a.delayedCall(4,(function(){e.delay=void 0,e.emit("gameover")})))}},{key:"destroyBody",value:function(e){this.resetDeathCounter(),this.off("gameover"),dt(gt(i.prototype),"destroyBody",this).call(this,e)}},{key:"setSkull",value:function(){dt(gt(i.prototype),"setSkull",this).call(this),this.view.texture=v.Texture.from("3001.png"),this.view2.texture=v.Texture.from("3001_.png")}},{key:"createView",value:function(){return new v.Sprite(this.getTexture())}},{key:"createView2",value:function(){return new v.Sprite(this.getTexture2())}},{key:"getTexture",value:function(){return v.Texture.from("hero.png")}},{key:"getTexture2",value:function(){return v.Texture.from("hero_.png")}},{key:"getRadius",value:function(){return 50}},{key:"isGoal",value:function(){return!0}}])&&ht(t.prototype,n),r&&ht(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ve);function xt(e){return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ot(i,r,o,a,u,"next",e)}function u(e){Ot(i,r,o,a,u,"throw",e)}a(void 0)}))}}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ct(e);if(t){var o=Ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){if(t&&("object"===xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _t(e)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}(u,e);var t,n,r,o,i,a=Bt(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),jt(_t(e=a.call(this,"","")),"_id",void 0),jt(_t(e),"icon",void 0),jt(_t(e),"txt",void 0),jt(_t(e),"amount",void 0),e.amount=1,e.txt=new v.Text(e.amount.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),e.txt.anchor.set(.5,.5),e.txt.x=90,e.txt.y=90,e.addChild(e.txt),e.icon=v.Sprite.from(v.Texture.from("bonus_ads.png")),e.icon.x=15,e.icon.y=35,e.addChild(e.icon),e.icon.visible=!1,e.on("pointerup",(function(){e.onPressed()})),e}return t=u,n=[{key:"id",get:function(){return this._id}},{key:"setData",value:(i=Pt(regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._id=t,this.normalTexture=n,this.downTexture=r,this.btn.texture=this.normalTexture,this.icon.visible=!1,e.next=7,re(u.getStorageId(this.id),void 0);case 7:if(void 0!==(o=e.sent)){e.next=12;break}return o="1",e.next=12,ne(u.getStorageId(this.id),o);case 12:this.amount=parseInt(o),this.txt.text=o,this.updateTxt(),this.scale.set(.6,.6);case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return i.apply(this,arguments)})},{key:"updateTxt",value:function(){0===this.amount?(this.btn.alpha=.6,this.icon.visible=!0,this.txt.visible=!1):(this.btn.alpha=1,this.icon.visible=!1,this.txt.visible=!0),this.txt.text=this.amount.toString()}},{key:"onPressed",value:(o=Pt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(su("Game","Powerup","Click"),!(this.amount>0)){e.next=8;break}this.amount--,ne(u.getStorageId(this.id),this.amount.toString()),this.updateTxt(),this.emit("activate",this.id),e.next=16;break;case 8:return t=(new Date).getTime(),W.paused=!0,e.next=12,oe(X.RewardedVideo);case 12:e.sent,W.paused=!1,this.emit("activate",this.id,(new Date).getTime()-t);case 16:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}],r=[{key:"getStorageId",value:function(e){return"powerup_"+e.toString()}}],n&&St(t.prototype,n),r&&St(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(Te);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return It(this,n)}}function It(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nt(e)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(i,e);var t,n,r,o=Dt(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ft(Nt(e=o.call(this)),"bar",void 0),Ft(Nt(e),"barMask",void 0),Ft(Nt(e),"initialWidth",596),Ft(Nt(e),"isFrozen",void 0),Ft(Nt(e),"delay",void 0),Ft(Nt(e),"frozen",void 0),Ft(Nt(e),"frozenBack",void 0),Ft(Nt(e),"back",void 0),Ft(Nt(e),"barBorder",void 0),e.back=v.Sprite.from(v.Texture.from("timer_1.png")),e.addChild(e.back),e.frozenBack=v.Sprite.from(v.Texture.from("timer_frozen_1.png")),e.frozenBack.visible=!1,e.addChild(e.frozenBack),e.bar=v.Sprite.from(v.Texture.from("timer_2.png")),e.addChild(e.bar),e.barMask=new v.Sprite(v.Texture.WHITE),e.barMask.x=16,e.barMask.width=0,e.barMask.height=e.bar.height,e.addChild(e.barMask),e.bar.mask=e.barMask,e.barBorder=v.Sprite.from(v.Texture.from("timer_0.png")),e.barBorder.anchor.set(.5,.5),e.barBorder.x=100,e.barBorder.y=.5*e.bar.height,e.addChild(e.barBorder),e.barBorder.visible=!1,e.frozen=new v.Sprite(v.Texture.from("timer_frozen_0.png")),e.frozen.visible=!1,e.addChild(e.frozen),e}return t=i,(n=[{key:"setProgress",value:function(e){this.barMask.width=this.initialWidth*e,this.barBorder.visible=e>.01&&e<.99,this.barBorder.x=this.barMask.x+this.initialWidth*e}},{key:"unFreeze",value:function(){var e=this;this.isFrozen=!1,g.a.killTweensOf(this.frozen),g.a.to(this.frozenBack,{alpha:0,duration:.3}),g.a.to(this.back,{alpha:1,duration:.3}),g.a.to(this.frozen,{alpha:0,duration:.3,onComplete:function(){e.frozen.visible=!1,e.frozenBack.visible=!1}})}},{key:"freeze",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.isFrozen=!0,this.frozen.visible=!0,this.frozen.alpha=0,this.frozenBack.visible=!0,this.frozenBack.alpha=0,g.a.killTweensOf(this.frozen),g.a.killTweensOf(this.frozenBack),g.a.killTweensOf(this.back),g.a.to(this.frozen,{alpha:1,duration:.3}),g.a.to(this.frozenBack,{alpha:1,duration:.3}),g.a.to(this.back,{alpha:0,duration:.3}),this.delay&&this.delay.kill(),-1!==t&&(this.delay=g.a.delayedCall(t,(function(){e.unFreeze()})))}},{key:"clear",value:function(){this.delay&&(this.delay.kill(),this.delay=void 0),g.a.killTweensOf(this.frozen),this.frozen.visible=!1,this.frozenBack.visible=!1,this.back.alpha=1,this.isFrozen=!1}}])&&At(t.prototype,n),r&&At(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xt(e);if(t){var o=Xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kt(this,n)}}function Kt(e,t){if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vt(e)}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gt(e,t)}(i,e);var t,n,r,o=Ht(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Jt(Vt(e=o.call(this)),"bar",void 0),Jt(Vt(e),"max",void 0),Jt(Vt(e),"current",void 0),Jt(Vt(e),"initialWidth",170),Jt(Vt(e),"barMask",void 0),Jt(Vt(e),"barBorder",void 0),Jt(Vt(e),"barShine",void 0);var t=v.Sprite.from(v.Texture.from("battery_empty.png"));return e.addChild(t),e.bar=v.Sprite.from(v.Texture.from("battery_full.png")),e.addChild(e.bar),e.barMask=new v.Sprite(v.Texture.WHITE),e.barMask.width=0,e.barMask.height=e.bar.height,e.barMask.x=27,e.addChild(e.barMask),e.barBorder=v.Sprite.from(v.Texture.from("battery_border.png")),e.barBorder.anchor.set(.5,.5),e.barBorder.y=.5*e.bar.height,e.addChild(e.barBorder),e.barBorder.visible=!1,e.barShine=new v.AnimatedSprite([v.Texture.from("battery_charging0.png"),v.Texture.from("battery_charging1.png"),v.Texture.from("battery_charging2.png"),v.Texture.from("battery_charging1.png")]),e.addChild(e.barShine),e.barShine.animationSpeed=.3,e.barShine.visible=!1,e.bar.mask=e.barMask,e.current=0,e.max=10,e}return t=i,(n=[{key:"maximum",set:function(e){this.max=e}},{key:"reset",value:function(e){g.a.killTweensOf(this.barMask),this.current=0,e?this.barMask.width=0:g.a.to(this.barMask,{width:0,duration:.1}),this.barBorder.visible=!1}},{key:"update",value:function(e){var t=this;this.current+=e,this.current=Math.min(this.current,this.max),this.barShine.visible=!0,this.barShine.gotoAndPlay(0);var n=this.current>=this.max,r=this.current/this.max;return this.barBorder.visible=r>.05&&r<.9,g.a.killTweensOf(this.barMask),g.a.to(this.barMask,{width:this.initialWidth*r,duration:.2}),g.a.to(this.barBorder,{x:this.barMask.x+this.initialWidth*r,duration:.2,onComplete:function(){t.barShine.visible=!1,t.barShine.stop()}}),n&&(this.barShine.visible=!1,this.barShine.stop(),this.current=0,g.a.to(this.barMask,{width:0,delay:.2,duration:.2}),g.a.to(this.barBorder,{x:this.barMask.x,duration:.2,onUpdate:function(){t.barBorder.visible=r>.05&&r<.9}})),n}}])&&Wt(t.prototype,n),r&&Wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function $t(e){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nn(e)}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qt(e,t)}(i,e);var t,n,r,o=en(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),on(nn(e=o.call(this)),"back",void 0),on(nn(e),"blocks",void 0),on(nn(e),"startX",void 0),on(nn(e),"startY",void 0),on(nn(e),"txt",void 0),e.blocks=[],e.back=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50),e.back.width=.96*W.originalWidth,e.back.height=300,e.back.position.set(.5*-e.back.width,0),e.addChild(e.back),e.txt=new v.Text("From: Leopold",{fontSize:25,fill:0,fontWeight:"bold",align:"left"}),e.txt.anchor.set(0,.5),e.txt.position.set(.5*-e.back.width+40,30),e.addChild(e.txt),e.clear(),e}return t=i,(n=[{key:"setLines",value:function(e){this.txt.text="From: "+i.senders[Math.floor(Math.random()*i.senders.length)];var t=e.length;this.back.height=75*t+70,this.startX=-300,this.startY=95;for(var n=0;n<t;n++){for(var r=this.startX,o=0;o<e[n].length;o++){var a=new Ve(r,this.startY,e[n][o],!1);this.addBlock(a),r+=74}this.startY+=70}}},{key:"addBlock",value:function(e){this.blocks.push(e),this.addChild(e),e.visible=!1}},{key:"show",value:function(){this.blocks.forEach((function(e){e.visible=!0}))}},{key:"clear",value:function(){var e=this;this.blocks.forEach((function(t){e.removeChild(t)})),this.blocks=[]}}])&&Zt(t.prototype,n),r&&Zt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sn(e,t){return(sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=hn(e);if(t){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fn(this,n)}}function fn(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}on(an,"senders",["Mom","Dad","Boss","Red Hair","Stupid guy","Handsome stranger","Vampire","Lady Hamilton","Dude","Sis","Bro","Grany","Kurt","Kristin","Leo Di","Emergency"]);var dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sn(e,t)}(i,e);var t,n,r,o=ln(i);function i(){var e,t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t=pn(e),r=void 0,(n="txt")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;var a=new v.Sprite(v.Texture.from("letter_button.png"));return a.anchor.set(.5,.5),e.addChild(a),e.txt=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:60,fill:0,align:"center",fontWeight:"bold"}),e.txt.anchor.set(.5,.5),e.addChild(e.txt),e}return t=i,(n=[{key:"letter",set:function(e){this.txt.text=e}}])&&cn(t.prototype,n),r&&cn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var o=xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gn(this,n)}}function gn(e,t){if(t&&("object"===yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mn(e,t)}(u,e);var t,n,r,o,i,a=wn(u);function u(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),On(kn(t=a.call(this)),"bound",new v.Rectangle),On(kn(t),"back",void 0),On(kn(t),"letters",void 0),On(kn(t),"stringLetters",void 0),On(kn(t),"getPoint",void 0),t.back=v.Sprite.from(v.Texture.WHITE),t.back.anchor.set(.5,.5),t.back.width=W.originalWidth,t.back.height=W.originalHeight,t.addChild(t.back),t.stringLetters=t.getLetters(e),t.letters=[];for(var n=0;n<t.stringLetters.length;n++){var r=new dn;r.visible=!1,t.addChild(r),t.letters.push(r)}return t}return t=u,(n=[{key:"start",value:(o=regeneratorRuntime.mark((function e(t){var n,r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.getPoint=t,this.visible=!0,this.back.alpha=0,n=[],r=0,o=0;o<this.stringLetters.length;o++)r++," "===this.stringLetters[o]&&(n.push(r),r=0);return 0===n.length?n.push(this.stringLetters.length):n.push(r),e.abrupt("return",new Promise((function(e){g.a.to(i.back,{alpha:.7,duration:1});for(var t=0,r=-30,o=n[t],a=60/(o-1),u=100*o,c=.5*-u,s=u/(o-1),l=-400,f=[],p=i.stringLetters.length,h=0;h<p;h++){var d=i.letters.pop();d&&(f.push(d),d.visible=!0,d.letter=i.stringLetters[h],d.position.set(-400,700),d.scale.set(.1,.1),d.angle=r-30,g.a.to(d,{angle:r,x:c,y:l,delay:.1*h,duration:.5}),g.a.to(d.scale,{x:1,y:1,delay:.1*h,duration:.5})," "===i.stringLetters[h]?(t++,r=-30,a=60/((o=n[t])-1),c=.5*-(u=100*o),l+=140,s=u/(o-1)):(r+=a,c+=s))}g.a.to(i.back,{alpha:0,delay:1.2,duration:.5}),g.a.delayedCall(1+.1*(i.stringLetters.length-1),(function(){i.animate(f).then((function(){e()}))}))})));case 8:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){vn(i,n,r,a,u,"next",e)}function u(e){vn(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return i.apply(this,arguments)})},{key:"clean",value:function(){this.getPoint=void 0,g.a.killTweensOf(this.back)}}])&&bn(t.prototype,n),r&&bn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v.Container);function Sn(e){return(Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(){return(Rn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_n(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function _n(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=An(e)););return e}function Cn(e,t){return(Cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=An(e);if(t){var o=An(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return En(this,n)}}function En(e,t){if(t&&("object"===Sn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ln(e)}function Ln(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cn(e,t)}(i,e);var t,n,r,o=jn(i);function i(){var e;Tn(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Mn(Ln(e=o.call.apply(o,[this].concat(n))),"points",[]),e}return t=i,r=[{key:"getAllByAmount",value:function(e){if(0===e)return[];i.allTexts||(i.allTexts=new Map,["BANG!","BONUS","SMASH","KABOOM","CRASH","CLANK","THUMP","WHAM!","SUPER BOOM","SUPER BONUS","LET'S JAZZ","YOU ARE JUST GREAT","YOU ARE GREAT","SUPER PUPER BOOM","WISH YOU LUCK, DUDE!","THAT WAS DOOM!","OH MY GOD!"].forEach((function(e){var t=e.length>=17?3:e.length>=10?2:1,n=[];i.allTexts.get(t)&&(n=i.allTexts.get(t)),n.push(e),i.allTexts.set(t,n)})),console.log(i.allTexts));var t=i.allTexts.get(e);return t[Math.floor(Math.random()*t.length)].split("")}}],(n=[{key:"activeBound",get:function(){if(this.points.length>0){for(var e=[],t=0;t<this.points.length;t++){var n=this.points[t];e.push(new v.Rectangle(n[0]-1,n[1]-1,2,2))}return this.points=[],e}}},{key:"clean",value:function(){this.points=[],Rn(An(i.prototype),"clean",this).call(this)}},{key:"getLetters",value:function(e){return i.getAllByAmount(e)}},{key:"animate",value:function(e){var t=this;return this.points=[],new Promise((function(n){if(t.getPoint){for(var r=function(n){var r=t.getPoint();if(!r)return"continue";g.a.to(e[n].scale,{x:0,y:0,duration:.2}),g.a.to(e[n],{x:50*r[0],y:50*r[1],duration:.2,onComplete:function(){t.points.push(r)}})},o=0;o<e.length;o++)r(o);g.a.delayedCall(.25,(function(){n()}))}else n()}))}}])&&Bn(t.prototype,n),r&&Bn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Pn);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yn(e,t){return(Yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wn(e);if(t){var o=Wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(e,t){if(t&&("object"===In(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zn(e)}function zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Mn(Dn,"allTexts",void 0);var Hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yn(e,t)}(i,e);var t,n,r,o=Fn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Gn(zn(e=o.call(this)),"scoreTxt",void 0),Gn(zn(e),"scoreNumber",void 0);var t=v.Sprite.from(v.Texture.from("score_place.png"));return e.addChild(t),e.scoreNumber=0,e.scoreTxt=new v.Text(e.scoreFormatted(0),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:16777215,align:"center",letterSpacing:7,fontWeight:"bold"}),e.scoreTxt.anchor.set(.5,.5),e.scoreTxt.position.set(.5*t.width,.5*t.height),e.addChild(e.scoreTxt),e}return t=i,(n=[{key:"score",set:function(e){var t=this,n={score:this.scoreNumber};this.scoreTxt.text=this.scoreFormatted(this.scoreNumber),g.a.to(n,{score:e,duration:.1,ease:k.f.easeNone,onUpdate:function(){t.scoreTxt.text=t.scoreFormatted(Math.floor(n.score))}}),this.scoreNumber=e}},{key:"scoreFormatted",value:function(e){for(var t=e.toString(),n=6-t.length,r=0;r<n;r++)t="0"+t;return t}}])&&Nn(t.prototype,n),r&&Nn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$n(e);if(t){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(e,t){if(t&&("object"===Kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xn(e,t)}(i,e);var t,n,r,o=Jn(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,"pause_button.png","pause_button.png")}return t=i,n&&Vn(t.prototype,n),r&&Vn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(Te);function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ir(e);if(t){var o=ir(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(e,t){if(t&&("object"===Qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return or(e)}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(e){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tr(e,t)}(i,e);var t,n,r,o=nr(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ar(or(e=o.call(this,0)),"rect",void 0),ar(or(e),"laser",void 0),e.laser=v.Sprite.from(v.Texture.from("direction.png")),e.laser.height=500,e.laser.rotation=Math.PI/2,e.laser.alpha=0,e.laser.anchor.set(.5,.5),e.addChild(e.laser),e.laser.visible=!1,e}return t=i,(n=[{key:"activeBound",get:function(){if(this.rect)return[this.rect]}},{key:"getLetters",value:function(){return["{","}"]}},{key:"animate",value:function(e){var t=this;return new Promise((function(n){if(void 0!==t.getPoint||2!==e.length){var r=t.getPoint();g.a.to(e[0],{x:-300,angle:0,y:50*r,duration:.2}),g.a.to(e[1],{x:300,angle:0,y:50*r,duration:.2}),g.a.delayedCall(.2,(function(){t.laser.visible=!0,t.laser.y=50*r,t.rect=new v.Rectangle(-7,r-.5,14,1),g.a.to(t.laser,{alpha:1,duration:.2}),g.a.delayedCall(.2,(function(){t.rect=void 0,g.a.to(e[0],{alpha:0,duration:.2}),g.a.to(e[1],{alpha:0,duration:.2}),g.a.to(t.laser,{alpha:0,duration:.2}),g.a.delayedCall(.2,(function(){n()}))}))}))}else n()}))}}])&&er(t.prototype,n),r&&er(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Pn);function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t){return(fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dr(e);if(t){var o=dr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hr(this,n)}}function hr(e,t){if(t&&("object"===cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dr(e){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fr(e,t)}(i,e);var t,n,r,o=pr(i);function i(){return sr(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"isObstacle",value:function(){return!0}}])&&lr(t.prototype,n),r&&lr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(tt);function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function wr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=kr(e);if(t){var o=kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return gr(this,n)}}function gr(e,t){if(t&&("object"===vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mr(e,t)}(i,e);var t,n,r,o=wr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e[0],e[1],100,100,0)).view.scale.set(1,1),t.type=Ve.STATIC_OBSTACLE_TYPE,t}return t=i,(n=[{key:"createView",value:function(){var e=new v.Sprite(v.Texture.from("app_static.png"));return e.anchor.set(.5),e}},{key:"createShape",value:function(){var e=new C.Box({width:this.view.width/50,height:this.view.height/50});return e.data=!0,e}}])&&br(t.prototype,n),r&&br(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(yr);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_r(e);if(t){var o=_r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Br(this,n)}}function Br(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Rr(e)}function Rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jr,Er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sr(e,t)}(i,e);var t,n,r,o=Tr(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Cr(Rr(n=o.call(this,e[0],e[1],100,100,0)),"moving",!1),Cr(Rr(n),"lives",void 0),Cr(Rr(n),"txt",void 0),Cr(Rr(n),"explosion",void 0),n.type=Ve.RANDOM_OBSTACLE_TYPE,n.lives=t,n.txt=new v.Text(n.lives.toString(),{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),n.txt.anchor.set(.5,.5),n.txt.y=20,n.view.addChild(n.txt),n.view.scale.set(1,1),n.explosion=qi.obtain(),n.explosion.visible=!1,n.addChild(n.explosion),n}return t=i,(n=[{key:"changePosition",value:function(){var e=this;if(!this.moving){this.lives--;var t=this.lives<=0;this.moving=!0;var n=this.view.scale.x;g.a.to(this.view.scale,{x:.01,y:.01,duration:.1,onUpdate:function(){var t,n;e.shape.width=e.shape.height=100*e.view.scale.x/50,e.shape.updateBoundingRadius(),null===(t=e.body)||void 0===t||t.updateBoundingRadius(),null===(n=e.body)||void 0===n||n.updateMassProperties()},onComplete:function(){if(t)e.destroyBody(),e.explosion.visible=!0,e.explosion.animate().then((function(){qi.release(e.explosion),e.clean()}));else{e.txt.text=e.lives.toString();var r=9*Math.random()-4.5,o=5*-Math.random();e.body&&(e.body.position=[r,o]),g.a.to(e.view.scale,{x:n,y:n,duration:.4,onUpdate:function(){var t,n;e.shape.width=e.shape.height=100*e.view.scale.x/50,e.shape.updateBoundingRadius(),null===(t=e.body)||void 0===t||t.updateBoundingRadius(),null===(n=e.body)||void 0===n||n.updateMassProperties()},onComplete:function(){e.moving=!1}})}}})}}},{key:"createView",value:function(){var e=new v.Sprite(v.Texture.from("app_random.png"));return e.anchor.set(.5),e}},{key:"createShape",value:function(){var e=new C.Box({width:this.view.width/50,height:this.view.height/50});return e.data=!0,e}}])&&Pr(t.prototype,n),r&&Pr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(yr);function Lr(e){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||Mr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t){if(e){if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return(Nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var o=zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fr(this,n)}}function Fr(e,t){if(t&&("object"===Lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ur(e)}function Ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Begin="begin",e.Moving="moving",e.Heart="heart",e.NewLine="newLine",e.Recharge="recharge",e.Unbreak="unbreak",e.IAPBonus="iapbonus",e.IAPBonus2="iapbonus2",e.ChangePosition="changed",e.Skull="skull",e.AnyType="anytype",e.RainbowType="rainbowtype"}(jr||(jr={}));var Gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nr(e,t)}(i,e);var t,n,r,o=Yr(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Wr(Ur(e=o.call(this)),"allConditions",void 0),Wr(Ur(e),"textMap",void 0),Wr(Ur(e),"tutorial",void 0),Wr(Ur(e),"txt",void 0),Wr(Ur(e),"back",void 0),Wr(Ur(e),"startTime",void 0),e.allConditions=new Map,e.textMap=new Map,e.textMap.set(jr.Begin,"Save the Heart by moving it to the top!"),e.textMap.set(jr.Moving,"Tap the screen and move your finger to aim. Release to shoot."),e.textMap.set(jr.Heart,"The Heart is free and happy now!"),e.textMap.set(jr.NewLine,"It's time for a new emoji load!"),e.textMap.set(jr.Recharge,"Charge it fully to get a bonus!"),e.textMap.set(jr.Unbreak,"This app is invincible!"),e.textMap.set(jr.IAPBonus,"but this bonuses will help you."),e.textMap.set(jr.IAPBonus2,"and this one too!"),e.textMap.set(jr.ChangePosition,"This app should be destroyed! Aim to it!"),e.textMap.set(jr.Skull,"Do not touch this Skulls by Heart or by throwed Emoji!"),e.textMap.set(jr.AnyType,"This ball is matching with any emoji!"),e.textMap.set(jr.RainbowType,"This ball is destroying everything!"),e.back=v.Sprite.from(v.Texture.WHITE),e.back.interactive=!0,e.back.width=W.originalWidth,e.back.height=W.originalHeight,e.addChild(e.back),e.back.position.set(.5*-e.back.width,.5*-e.back.height),e.back.tint=0,e.back.alpha=.3,e.tutorial=new v.NineSlicePlane(v.Texture.from("tutorial.png"),52,52,90,93),e.addChild(e.tutorial),e.txt=new v.Text("",{fontSize:50,fontWeight:"bold",fill:16777215,wordWrap:!0,wordWrapWidth:300}),e.addChild(e.txt),e.visible=!1,e}return t=i,(n=[{key:"addCondition",value:function(e,t){this.allConditions.set(e,t)}},{key:"update",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Mr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(this.allConditions);try{for(t.s();!(e=t.n()).done;){var n=Ar(e.value,2),r=n[0],o=(0,n[1])();if(o.success){this.show(r,o.data),this.allConditions.delete(r);break}}}catch(e){t.e(e)}finally{t.f()}}},{key:"isDone",value:function(e){return void 0===this.allConditions.get(e)}},{key:"show",value:function(e,t){var n=this;this.startTime=(new Date).getTime();var r=this.textMap.get(e);if(r){this.txt.text=r,this.tutorial.scale.set(1,1),this.tutorial.pivot.set(this.txt.width+80,this.txt.height+80),this.tutorial.width=this.txt.width+80,this.tutorial.height=this.txt.height+80,this.tutorial.scale.set(0,0);var o={x:1,y:1},i=t.pos,a=t.scale;o.x*=a.x,o.y*=a.y,this.tutorial.position.copyFrom(i),this.txt.position.copyFrom(i),1===a.x?this.txt.x-=60+this.txt.width:this.txt.x+=60,1===a.y?this.txt.y-=60+this.txt.height:this.txt.y+=52,this.txt.scale.set(0,0),this.back.alpha=0;var c=o.x/15,s=o.y/15;u.play("window open");var l=window.setInterval((function(){n.back.alpha+=.02,n.tutorial.scale.x+=c,n.tutorial.scale.y+=s,n.txt.scale.x+=1/15,n.txt.scale.y+=1/15,n.back.alpha>=.3&&window.clearInterval(l)}),10);this.visible=!0,nu(!0,!0),window.setTimeout((function(){nu(!1,!0),g.a.globalTimeline.pause(),W.paused=!0,n.back.on("pointerup",(function(e){e.stopPropagation(),e.stopped=!0,n.hide()}))}),200)}}},{key:"hide",value:function(){var e=this;W.paused=!1,g.a.globalTimeline.resume(),g.a.to(this,{alpha:0,duration:.3,onComplete:function(){e.visible=!1,e.alpha=1}}),this.back.off("pointerup"),this.emit("hide",(new Date).getTime()-this.startTime)}}])&&Ir(t.prototype,n),r&&Ir(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container),Hr=n(199);function Kr(e){return(Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xr(e,t){return(Xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zr(e);if(t){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qr(this,n)}}function qr(e,t){if(t&&("object"===Kr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $r(e)}function $r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}(i,e);var t,n,r,o=Jr(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Qr($r(e=o.call(this)),"iconL0",void 0),Qr($r(e),"iconR0",void 0),Qr($r(e),"iconL1",void 0),Qr($r(e),"iconR1",void 0);var t=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);t.tint=0,t.width=370,t.height=250,t.pivot.set(185,100),e.addChild(t),t.y=-50;var n=new v.Text("level powerups:",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:35,fill:16777215,align:"center",fontWeight:"bold"});n.anchor.set(.5,.5),n.position.set(0,-115),e.addChild(n);var r=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);r.pivot.set(80,80),r.width=160,r.height=160,e.addChild(r);var a=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);a.pivot.set(80,80),a.width=160,a.height=160,e.addChild(a),r.position.set(-85,0),a.position.set(85,0);var u=new v.Container,c=new v.Container;e.addChild(u),e.addChild(c),u.position.x=-85,c.position.x=85;var s=v.Sprite.from(v.Texture.WHITE);s.anchor.set(0,.5),s.width=140,s.height=140,e.addChild(s);var l=v.Sprite.from(v.Texture.WHITE);return l.anchor.set(0,.5),l.width=140,l.height=140,e.addChild(l),s.position.x=-145,l.position.x=5,u.mask=s,c.mask=l,e.iconL0=v.Sprite.from(i.randomTexture),e.iconL0.anchor.set(.5,.5),e.iconL0.scale.set(.5,.5),u.addChild(e.iconL0),e.iconR0=v.Sprite.from(i.randomTexture),e.iconR0.anchor.set(.5,.5),e.iconR0.scale.set(.5,.5),c.addChild(e.iconR0),e.iconL1=v.Sprite.from(i.randomTexture),e.iconL1.anchor.set(.5,.5),e.iconL1.scale.set(.5,.5),u.addChild(e.iconL1),e.iconL1.y=140,e.iconR1=v.Sprite.from(i.randomTexture),e.iconR1.anchor.set(.5,.5),e.iconR1.scale.set(.5,.5),c.addChild(e.iconR1),e.iconR1.y=140,e}return t=i,r=[{key:"prepareTextures",value:function(){this.allTextures=new Map,this.allTextures.set(Li.RocketUp,v.Texture.from("powerup_rocket.png")),this.allTextures.set(Li.Kill,v.Texture.from("powerup_bomb.png")),this.allTextures.set(Li.Freeze,v.Texture.from("powerup_freeze.png"))}},{key:"getTexture",value:function(e){var t=this.allTextures.get(e);return t||v.Texture.EMPTY}},{key:"randomTexture",get:function(){var e=Array.from(this.allTextures.keys()),t=e[Math.floor(Math.random()*e.length)];return this.getTexture(t)}}],(n=[{key:"start",value:function(e){var t=this;u.play("score ticking"),g.a.to({a:0},{a:1,duration:1,onUpdate:function(){if(t.iconL0.y>=140){t.iconL0.texture=i.randomTexture,t.iconR0.texture=i.randomTexture;var e=t.iconL0;t.iconL0=t.iconL1,t.iconL1=e,e=t.iconR0,t.iconR0=t.iconR1,t.iconR1=e,t.iconL0.y=0,t.iconR0.y=0}t.iconL0.y+=20,t.iconR0.y+=20,t.iconL1.y=t.iconL0.y-140,t.iconR1.y=t.iconR0.y-140},onComplete:function(){u.stop("score ticking"),t.iconL0.y=0,t.iconR0.y=0,t.iconR1.y=140,t.iconL1.y=140,t.iconL0.texture=i.getTexture(e[0]),t.iconR0.texture=i.getTexture(e[1])}})}}])&&Vr(t.prototype,n),r&&Vr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function io(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=co(e);if(t){var o=co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ao(this,n)}}function ao(e,t){if(t&&("object"===to(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uo(e)}function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function co(e){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Qr(eo,"allTextures",void 0);var lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oo(e,t)}(c,e);var t,n,r,o,i,a=io(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),so(uo(e=a.call(this)),"back",void 0),so(uo(e),"popup",void 0),so(uo(e),"callback",void 0),so(uo(e),"scoreTxt",void 0),so(uo(e),"timeBonusTxt",void 0),so(uo(e),"title",void 0),so(uo(e),"stars",void 0),so(uo(e),"emitter",void 0),so(uo(e),"prizeIcon",void 0),so(uo(e),"heart",void 0),so(uo(e),"onTickEvent",(function(t){e.emitter.update(t/70)})),e.back=v.Sprite.from(v.Texture.WHITE),e.back.anchor.set(.5,.5),e.back.width=W.originalWidth,e.back.height=W.originalHeight,e.back.tint=0,e.back.alpha=0,e.addChild(e.back);var t=new v.Container;e.addChild(t),e.popup=new v.Container,e.popup.scale.set(0,0),e.addChild(e.popup);var n=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);n.pivot.set(300,400),n.width=600,n.height=800,e.popup.addChild(n),e.title=new v.Text("Well done!",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"}),e.title.anchor.set(.5,.5),e.title.position.y=-310,e.popup.addChild(e.title),e.scoreTxt=new v.Text("0",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:120,fill:0,align:"center",letterSpacing:7,fontWeight:"bold"}),e.scoreTxt.anchor.set(.5,.5),e.scoreTxt.y=80,e.popup.addChild(e.scoreTxt),e.timeBonusTxt=new v.Text("+ Time Bonus!",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:40,fill:6242531,align:"center"}),e.timeBonusTxt.anchor.set(.5,.5),e.popup.addChild(e.timeBonusTxt),e.timeBonusTxt.visible=!1,e.heart=new v.Container;var r=new v.Sprite(v.Texture.from("hero.png"));r.anchor.set(.5,.5),e.heart.addChild(r);var o=new v.Sprite(v.Texture.from("hero_.png"));o.anchor.set(.5,.5),e.heart.addChild(o),e.heart.scale.set(1.3,1.3),e.heart.position.y=-1e3,e.addChild(e.heart),e.stars=[];for(var i=-120,u=0;u<3;u++){var s=v.Sprite.from(v.Texture.from("like.png"));s.anchor.set(.5,.5),s.position.set(i,-150),e.popup.addChild(s),e.stars.push(s),s.visible=!1,i+=120}e.popup.addChild(e.stars[1]),e.prizeIcon=new v.Sprite,e.prizeIcon.anchor.set(.5,.5),e.prizeIcon.scale.set(.5,.5),e.prizeIcon.position.copyFrom(e.stars[2]),e.prizeIcon.x+=50,e.prizeIcon.y-=50,e.popup.addChild(e.prizeIcon),e.prizeIcon.visible=!1;var l=new Te("ok_button.png","ok_button.png");return l.on("pointerup",(function(){e.hide()})),l.position.y=300,e.popup.addChild(l),e.emitter=new Hr.a(t,"like.png",W.particles),e}return t=c,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function e(t,n,r,o,i,a,c){var s,l,f,p,h,d,y,b,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.timeBonusTxt.visible=!1,this.heart.position.y=-1e3,this.heart.alpha=1,t||(r=0),console.log(a.toString(),c,r),this.title.text=t?"Well done!":"So sorry...",!((s=c!==Li.None?c[0]:Li.None)!==Li.None&&n+r>=o[2])){e.next=24;break}return e.next=10,re("powerupDone"+a.toString(),"0");case 10:if(l=e.sent,console.log("pd",l),"0"!==l){e.next=24;break}return this.prizeIcon.visible=!0,this.prizeIcon.scale.set(0,0),this.prizeIcon.texture=eo.getTexture(s),e.next=18,re(Et.getStorageId(s),"0");case 18:return f=e.sent,p=parseInt(f),e.next=22,ne(Et.getStorageId(s),(p+1).toString());case 22:return e.next=24,ne("powerupDone"+a.toString(),"1");case 24:for(h=0;h<this.stars.length;h++)(d=this.stars[h]).visible=!0,d.scale.set(0,0),d.showed=!1;this.callback=i,this.visible=!0,this.back.alpha=0,this.popup.scale.set(0,0),u.play("window open"),u.play(t?"win":"fail"),y={s:0},this.scoreTxt.text="0",b=function(){m.scoreTxt.text=Math.round(y.s).toString();for(var e=0;e<o.length;e++){var t=m.stars[e];if(y.s>=o[e]&&!t.showed){t.showed=!0;var n=1===e?1.5:1;g.a.to(t.scale,{x:n,y:n,duration:.2,ease:k.a.easeOut}),m.prizeIcon.visible&&2===e&&g.a.to(m.prizeIcon.scale,{x:.5,y:.5,duration:.2,ease:k.a.easeOut})}}},g.a.to(y,{s:n,delay:1,duration:2,onStart:function(){t&&u.play("score ticking")},onUpdate:b,onComplete:function(){u.stop("score ticking"),y.s=n,r>0&&(n+=r,m.timeBonusTxt.visible=!0,m.timeBonusTxt.scale.set(5,5),g.a.to(m.timeBonusTxt.scale,{x:1,y:1,duration:.5,onComplete:function(){g.a.to(y,{s:n,duration:1,onStart:function(){u.play("score ticking")},onUpdate:b,onComplete:function(){u.stop("score ticking")}})}}))}}),g.a.to(this.back,{alpha:.5,duration:.5}),g.a.to(this.popup.scale,{x:1,y:1,duration:1,ease:k.a.easeOut}),t&&(g.a.to(this.heart,{y:-410,delay:1,duration:1.5,ease:k.a.easeOut}),g.a.delayedCall(1,(function(){m.emitter.emit=!0,v.Ticker.shared.add(m.onTickEvent)})));case 38:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){no(i,n,r,a,u,"next",e)}function u(e){no(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t,n,r,o,a,u){return i.apply(this,arguments)})},{key:"hide",value:function(){var e=this;u.stop("score ticking"),g.a.to(this.back,{alpha:0,duration:.2}),g.a.to(this.heart,{alpha:0,duration:.2}),g.a.to(this.popup.scale,{x:0,y:0,duration:.2,onComplete:function(){e.emitter.emit=!1,e.emitter.cleanup(),v.Ticker.shared.remove(e.onTickEvent),e.prizeIcon.visible=!1,e.visible=!1,e.callback()}})}}])&&ro(t.prototype,n),r&&ro(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v.Container);function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function po(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bo(e,t){return(bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ko(e);if(t){var o=ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wo(this,n)}}function wo(e,t){if(t&&("object"===fo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return go(e)}function go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bo(e,t)}(u,e);var t,n,r,o,i,a=mo(u);function u(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),xo(go(e=a.call(this)),"texts",void 0),xo(go(e),"usingTexts",void 0),xo(go(e),"back",void 0),xo(go(e),"wheelbox",void 0),xo(go(e),"tween",void 0),xo(go(e),"nameBack",void 0),e.back=v.Sprite.from(v.Texture.WHITE),e.back.anchor.set(.5,.5),e.back.width=W.originalWidth,e.back.height=W.originalHeight,e.back.alpha=0,e.addChild(e.back),e.nameBack=new v.NineSlicePlane(v.Texture.from("name_back.png"),80,80,80,80),e.nameBack.width=600,e.nameBack.alpha=0,e.addChild(e.nameBack),e.texts=[],e.usingTexts=[];for(var t=0;t<4;t++){var n=e.getNewText();e.texts.push(n)}return e.wheelbox=new eo,e.addChild(e.wheelbox),e.visible=!1,e}return t=u,(n=[{key:"show",value:(o=regeneratorRuntime.mark((function e(t,n){var r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){r.visible=!0,r.back.alpha=0,r.nameBack.alpha=0,r.wheelbox.position.y=1e3;var o=n!==Li.None,i=o?3:1.4;g.a.to(r.back,{alpha:.7,duration:.2}),g.a.to(r.nameBack,{alpha:1,duration:.2});for(var a=t.name.split(" "),u=-70*a.length/2+35-100,c=u,s=function(e){var t=a[e],n=void 0;(n=r.texts.length>0?r.texts.pop():r.getNewText()).alpha=1,n.visible=!0,n.text=t,r.addChild(n),r.usingTexts.push(n),n.y=u,n.x=e%2?-500-n.width/2:500+n.width/2,g.a.to(n,{x:0,duration:.5,ease:k.d.easeOut}),g.a.to(n,{alpha:0,delay:i-.2,duration:.5,onComplete:function(){r.texts.push(n)}}),u+=70},l=0;l<a.length;l++)s(l);g.a.to(r.back,{alpha:0,delay:i-.2,duration:.5}),g.a.to(r.nameBack,{alpha:0,delay:i-.2,duration:.5}),o&&(r.wheelbox.visible=!0,r.wheelbox.alpha=1,g.a.to(r.wheelbox,{y:u+140,delay:.6,duration:.5,ease:k.d.easeOut,onComplete:function(){r.wheelbox.start(n)}}),g.a.to(r.wheelbox,{alpha:0,delay:i-.2,duration:.5}),u+=120+r.wheelbox.height/2);var f=Math.max(400,u-c+100);r.nameBack.pivot.set(300,f/2),r.nameBack.height=f,r.nameBack.y=o?c-80+f/2:-100,r.tween=g.a.delayedCall(i,(function(){r.usingTexts=[],r.visible=!1,r.tween=void 0,e()}))})));case 1:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){yo(i,n,r,a,u,"next",e)}function u(e){yo(i,n,r,a,u,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})},{key:"clear",value:function(){this.tween&&(this.tween.kill(),this.tween=void 0),g.a.killTweensOf(this.wheelbox),g.a.killTweensOf(this.back);var e,t=po(this.usingTexts);try{for(t.s();!(e=t.n()).done;){var n=e.value;g.a.killTweensOf(n),this.removeChild(n)}}catch(e){t.e(e)}finally{t.f()}this.visible=!1}},{key:"getNewText",value:function(){var e=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});return e.anchor.set(.5,.5),e}}])&&vo(t.prototype,n),r&&vo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(v.Container);function Po(e){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function So(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function To(e,t){return(To=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Co(e);if(t){var o=Co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ro(this,n)}}function Ro(e,t){if(t&&("object"===Po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _o(e)}function _o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&To(e,t)}(i,e);var t,n,r,o=Bo(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),jo(_o(e=o.call(this)),"callback",void 0),jo(_o(e),"okBut",void 0),jo(_o(e),"xBut",void 0);var t=v.Sprite.from(v.Texture.WHITE);t.anchor.set(.5,.5),t.width=W.originalWidth,t.height=W.originalHeight,t.tint=0,t.alpha=.6,e.addChild(t);var n=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);n.width=500,n.height=360,n.pivot.set(250,180),e.addChild(n);var r=new v.Text("Exit?",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:70,fill:6242531,align:"center",fontWeight:"bold"});r.anchor.set(.5,.5),r.position.y=-120,e.addChild(r);var a=new Te("ok_button.png","ok_button.png");a.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,e.hide(!0)})),a.position.set(-110,110),a.scale.set(.8,.8),e.addChild(a);var u=new Te("x_button.png","x_button.png");return u.on("pointerup",(function(t){t.stopPropagation(),t.stopped=!0,e.hide(!1)})),u.position.set(110,110),u.scale.set(.8,.8),e.addChild(u),e.okBut=a,e.xBut=u,e.visible=!1,e}return t=i,(n=[{key:"show",value:function(e){this.callback=e,this.alpha=1,this.visible=!0,this.okBut.disabled=!1,this.xBut.disabled=!1,u.play("window open")}},{key:"hide",value:function(e){this.okBut.disabled=!0,this.xBut.disabled=!0,this.visible=!1,this.callback&&this.callback(e),this.callback=void 0}}])&&So(t.prototype,n),r&&So(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Do(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yo(e);if(t){var o=Yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(e,t){if(t&&("object"===Lo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return No(e)}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mo(e,t)}(i,e);var t,n,r,o=Do(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Fo(No(e=o.call(this)),"part0",void 0),Fo(No(e),"part1",void 0),e.part0=v.Sprite.from(v.Texture.from("direction.png")),e.part0.anchor.set(.5,1),e.addChild(e.part0),e.part0.height=1200,e.part1=v.Sprite.from(v.Texture.from("direction.png")),e.part1.anchor.set(.5,1),e.addChild(e.part1),e.part1.height=700,e}return t=i,(n=[{key:"draw",value:function(e){var t=Zi.BottomPoint,n=Math.atan2(e.y-t,e.x);this.part0.rotation=n+Math.PI/2;var r=1200*Math.cos(n),o=t+1200*Math.sin(n),i=1200;r<-315||r>315?(r=(i=Math.abs(r)/r*315/Math.cos(n))*Math.cos(n),o=i*Math.sin(n),this.part1.visible=!0,this.part1.position.set(r,o),this.part1.rotation=-n-Math.PI/2):this.part1.visible=!1,this.part0.height=i+8}}])&&Ao(t.prototype,n),r&&Ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function zo(e){return(zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Go(){return(Go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ho(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(this,arguments)}function Ho(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qo(e)););return e}function Ko(e,t){return(Ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qo(e);if(t){var o=qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xo(this,n)}}function Xo(e,t){if(t&&("object"===zo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Jo(e)}function Jo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ko(e,t)}(i,e);var t,n,r,o=Vo(i);function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$o(Jo(r=o.call(this,e,t,Ve.ANY_TYPE,n)),"currentIcon",void 0),$o(Jo(r),"temp",void 0),r.reGenerateTextures(),r}return t=i,(n=[{key:"reGenerateTextures",value:function(){var e=this;this.currentIcon?this.currentIcon++:this.currentIcon=1,this.currentIcon>7&&(this.currentIcon=1),this.view.texture=this.getTexture(),this.view2.texture=this.getTexture2(),this.temp=0,g.a.to(this,{temp:1,duration:.15,onComplete:function(){e.reGenerateTextures()}})}},{key:"getTexture",value:function(){return v.Texture.from("".concat(this.currentIcon||1,".png"))}},{key:"getTexture2",value:function(){return v.Texture.from("".concat(this.currentIcon||1,"_.png"))}},{key:"clean",value:function(){g.a.killTweensOf(this),Go(qo(i.prototype),"clean",this).call(this)}}])&&Wo(t.prototype,n),r&&Wo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(Ve);function Qo(e){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(e,t){return(ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ni(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ii(e);if(t){var o=ii(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ri(this,n)}}function ri(e,t){if(t&&("object"===Qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function oi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ui=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ti(e,t)}(i,e);var t,n,r,o=ni(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ai(oi(e=o.call(this)),"txt",void 0),ai(oi(e),"score",void 0),e.txt=new v.Text("",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:40,fill:4073878,align:"center"}),e.txt.anchor.set(.5,.5),e.addChild(e.txt),e}return t=i,(n=[{key:"start",value:function(e,t,n){var r=this;this.score=n,this.txt.text="+"+n.toString(),this.x=e,this.y=t,g.a.to(this,{x:0,y:-700,duration:.7,delay:.15*Math.random(),ease:k.d.easeIn,onComplete:function(){r.finish()}})}},{key:"finish",value:function(){g.a.killTweensOf(this),this.emit("done",this.score)}},{key:"clean",value:function(){g.a.killTweensOf(this),this.off("done"),this.score=0,this.alpha=1,this.txt.text=""}}])&&ei(t.prototype,n),r&&ei(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var si=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="all")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.all=[];for(var i=0;i<t;i++)this.all.push(new ui)}var t,n,r;return t=e,(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Score pool exceed"),this.all.push(new ui)),this.all.pop()}},{key:"release",value:function(e){e.clean(),this.all.push(e)}}])&&ci(t.prototype,n),r&&ci(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vi(e);if(t){var o=vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return di(this,n)}}function di(e,t){if(t&&("object"===li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vi(e){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pi(e,t)}(i,e);var t,n,r,o=hi(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,v.Texture.from("bolt".concat(e,".png"))),n=yi(t),a=void 0,(r="_id")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t._id=e,t}return t=i,(n=[{key:"id",get:function(){return this._id}}])&&fi(t.prototype,n),r&&fi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Sprite);function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wi=function(){function e(){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=void 0,(n="all")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r;this.all=new Map;for(var o=0;o<4;o++){for(var i=[],a=0;a<20;a++)i.push(new bi(o));this.all.set(o,i)}}var t,n,r;return t=e,(n=[{key:"obtain",value:function(e){var t=this.all.get(e);return t&&0===t.length&&(console.log("Bolts pool exceed"),t.push(new bi(e))),null==t?void 0:t.pop()}},{key:"release",value:function(e){this.all.get(e.id).push(e)}}])&&mi(t.prototype,n),r&&mi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ki=function(){function e(t){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=void 0,(r="all")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.all=[];for(var i=0;i<t;i++)this.all.push(e.createMissle())}var t,n,r;return t=e,r=[{key:"createMissle",value:function(){return new v.Sprite(v.Texture.from("like.png"))}}],(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Missles pool exceed"),this.all.push(e.createMissle())),this.all.pop()}},{key:"release",value:function(e){this.all.push(e)}}])&&gi(t.prototype,n),r&&gi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oi(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(e,t){return(Si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ti(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_i(e);if(t){var o=_i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}function Bi(e,t){if(t&&("object"===xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ri(e)}function Ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _i(e){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Si(e,t)}(c,e);var t,n,r,o,i,a=Ti(c);function c(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),e=a.call(this),t=Ri(e),r=void 0,(n="art")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.art=v.Sprite.from(Di.getTexture(0)),e.art.anchor.set(.5,.5),e.addChild(e.art),e.scale.set(0,0),e}return t=c,(n=[{key:"animate",value:(o=regeneratorRuntime.mark((function e(){var t,n=this,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.abrupt("return",new Promise((function(e){var r=0,o={a:0};u.play("ball explosion",!0),g.a.to(o,{a:1,delay:t,duration:t+.4,onUpdate:function(){var e=Math.floor(2*o.a);e!==r&&(r=e,n.art.texture=Di.getTexture(r))}}),g.a.to(n.scale,{x:1,y:1,duration:t+.1}),g.a.to(n.scale,{x:1.3,y:1.3,delay:t+.2,duration:.3}),g.a.to(n,{alpha:0,delay:t+.2,duration:.5,onComplete:function(){e()}})})));case 2:case"end":return e.stop()}}),e)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){Oi(i,n,r,a,u,"next",e)}function u(e){Oi(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"clean",value:function(){this.art.texture=Di.getTexture(0),this.scale.set(0,0),this.alpha=1,this.visible=!0,g.a.killTweensOf(this.scale),g.a.killTweensOf(this)}}])&&Pi(t.prototype,n),r&&Pi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(v.Container);function ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Li,Ai,Mi,Di=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ei(this,"all",void 0),this.all=[];for(var n=0;n<t;n++)this.all.push(new Ci)}var t,n,r;return t=e,r=[{key:"getTexture",value:function(t){return e._textures[t]}},{key:"createTextures",value:function(){e._textures||(e._textures=[v.Texture.from("game_explosion_0.png"),v.Texture.from("game_explosion_1.png"),v.Texture.from("game_explosion_2.png")])}}],(n=[{key:"obtain",value:function(){return 0===this.all.length&&(console.log("Missles pool exceed"),this.all.push(new Ci)),this.all.pop()}},{key:"release",value:function(e){e.clean(),this.all.push(e)}}])&&ji(t.prototype,n),r&&ji(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ni(i,r,o,a,u,"next",e)}function u(e){Ni(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Fi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ui(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ui(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ui(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gi(e,t){return(Gi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xi(e);if(t){var o=Xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ki(this,n)}}function Ki(e,t){if(t&&("object"===Ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Vi(e)}function Vi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xi(e){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ei(Di,"_textures",void 0),function(e){e[e.None=0]="None",e[e.Kill=1]="Kill",e[e.Freeze=2]="Freeze",e[e.RocketUp=3]="RocketUp"}(Li||(Li={})),function(e){e[e.None=0]="None",e[e.BoomLetters=1]="BoomLetters",e[e.LaserLetters=2]="LaserLetters",e[e.BigBoomLetters=3]="BigBoomLetters",e[e.SmallBoomLetters=4]="SmallBoomLetters",e[e.All=5]="All"}(Ai||(Ai={})),function(e){e[e.None=0]="None",e[e.Random=1]="Random",e[e.Static=2]="Static",e[e.HeartMiddle=3]="HeartMiddle",e[e.Skulls=4]="Skulls"}(Mi||(Mi={}));var qi,$i=[0,.2,.3,.1,.4],Zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gi(e,t)}(P,e);var t,n,r,o,i,a,c,s,l,f,p,h,d,y,b,m,w,x,O=Hi(P);function P(){var e;zi(this,P);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ji(Vi(e=O.call.apply(O,[this].concat(n))),"gameContainer",void 0),Ji(Vi(e),"fxContainer",void 0),Ji(Vi(e),"frontContainer",void 0),Ji(Vi(e),"backContainer",void 0),Ji(Vi(e),"moveBox",void 0),Ji(Vi(e),"staticBox",void 0),Ji(Vi(e),"bottomOpenWall",void 0),Ji(Vi(e),"activeBlock",void 0),Ji(Vi(e),"maxY",void 0),Ji(Vi(e),"tick",0),Ji(Vi(e),"levelStartTime",void 0),Ji(Vi(e),"moving",void 0),Ji(Vi(e),"isActivePowerup",void 0),Ji(Vi(e),"preview",void 0),Ji(Vi(e),"nextLines",void 0),Ji(Vi(e),"previewBlocks",void 0),Ji(Vi(e),"nextType",void 0),Ji(Vi(e),"nextBlock",void 0),Ji(Vi(e),"isTransition",void 0),Ji(Vi(e),"powerup1",void 0),Ji(Vi(e),"powerup2",void 0),Ji(Vi(e),"nextTimer",void 0),Ji(Vi(e),"randomBodiesPositions",void 0),Ji(Vi(e),"activeBonus",void 0),Ji(Vi(e),"boomMeter",void 0),Ji(Vi(e),"scorePlace",void 0),Ji(Vi(e),"pad",void 0),Ji(Vi(e),"padRect",void 0),Ji(Vi(e),"downRect",void 0),Ji(Vi(e),"topRect",void 0),Ji(Vi(e),"levelId",void 0),Ji(Vi(e),"meterBonus",void 0),Ji(Vi(e),"obstacles",void 0),Ji(Vi(e),"score",void 0),Ji(Vi(e),"tutorial",void 0),Ji(Vi(e),"goalBlock",void 0),Ji(Vi(e),"boltsActive",void 0),Ji(Vi(e),"levelFinished",void 0),Ji(Vi(e),"levelStart",void 0),Ji(Vi(e),"pausePopup",void 0),Ji(Vi(e),"waitForOver",void 0),Ji(Vi(e),"activeBlockDelay",void 0),Ji(Vi(e),"scorePool",void 0),Ji(Vi(e),"boltsPool",void 0),Ji(Vi(e),"misslesPool",void 0),Ji(Vi(e),"increaseBlocks",[]),Ji(Vi(e),"explodePoints",[]),Ji(Vi(e),"allScore",void 0),Ji(Vi(e),"rocketPowerup",void 0),Ji(Vi(e),"levelStarted",void 0),e}return t=P,n=[{key:"create",value:function(){var e=this;eo.prepareTextures(),Di.createTextures(),qi=new Di(90),this.scorePool=new si(80),this.boltsPool=new wi,this.misslesPool=new ki(3),this.allScore=new Map,this.backContainer=new v.Container,this.addChild(this.backContainer),this.gameContainer=new v.Container,this.addChild(this.gameContainer),this.fxContainer=new v.Container,this.addChild(this.fxContainer),this.frontContainer=new v.Container,this.addChild(this.frontContainer),this.levelFinished=new lo,this.frontContainer.addChild(this.levelFinished),this.levelFinished.visible=!1,this.pad=new v.Sprite(v.Texture.from("launchpad.png")),this.pad.anchor.set(.5,1),this.pad.position.y=.5*W.originalHeight-30,this.gameContainer.addChild(this.pad);var t=new v.NineSlicePlane(v.Texture.from("phone.png"),104,100,104,100);t.width=W.originalWidth+50,t.height=W.originalHeight+40,t.position.set(.5*-t.width,.5*-t.height),this.addChild(t);var n=new v.Container;n.position.set(0,.5*-W.originalHeight+40),this.gameContainer.addChild(n);var r=new Zn;r.position.set(-230,30),r.on("pointerup",(function(){su("Game","Menu","Click"),e.showPause()})),n.addChild(r),this.powerup1=new Et,this.powerup1.position.set(-255,620),this.gameContainer.addChild(this.powerup1),this.powerup1.on("activate",(function(t,n){e.startPowerup(t,n)})),this.powerup2=new Et,this.powerup2.position.set(255,620),this.gameContainer.addChild(this.powerup2),this.powerup2.on("activate",(function(t,n){e.startPowerup(t,n)})),this.powerup1.visible=!1,this.powerup2.visible=!1,this.preview=new Uo,this.gameContainer.addChild(this.preview),this.preview.visible=!1,this.previewBlocks=new an,this.gameContainer.addChild(this.previewBlocks),this.previewBlocks.y=-900-this.previewBlocks.height;var o=new v.NineSlicePlane(v.Texture.from("progress_bar.png"),6,4,6,4);o.width=600,o.height=15,o.position.set(-300,500),this.gameContainer.addChild(o),this.nextTimer=new Ut,this.nextTimer.position.set(-316,-637),this.gameContainer.addChild(this.nextTimer),this.boomMeter=new qt,this.boomMeter.position.set(165,-725),this.boomMeter.scale.set(.85,.85),this.gameContainer.addChild(this.boomMeter),this.scorePlace=new Hn,this.scorePlace.position.set(-150,-725),this.gameContainer.addChild(this.scorePlace),this.padRect=new v.Rectangle(-140,610,280,150),this.downRect=new v.Rectangle(-400,500,800,300),this.topRect=new v.Rectangle(.5*-W.originalWidth,.5*-W.originalHeight,W.originalWidth,180),this.tutorial=new Gr,this.tutorial.on("hide",(function(t){e.levelStartTime+=t})),this.frontContainer.addChild(this.tutorial),this.levelStart=new Oo,this.frontContainer.addChild(this.levelStart),this.pausePopup=new Eo,this.frontContainer.addChild(this.pausePopup),this.tutorial.addCondition(jr.Begin,(function(){var t,n=null===(t=e.goalBlock)||void 0===t?void 0:t.position;return{success:!!e.bottomOpenWall&&0===e.levelId&&!e.levelStart.visible&&!!n&&n.y<-100,data:{pos:n,scale:{x:n&&n.x<-10?-1:1,y:-1}}}})),this.tutorial.addCondition(jr.Moving,(function(){return{success:!!e.bottomOpenWall&&0===e.levelId&&!e.levelStart.visible,data:{pos:{x:40,y:0},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(jr.Heart,(function(){var t,n=null===(t=e.goalBlock)||void 0===t?void 0:t.position;return{success:e.isTransition,data:{pos:n,scale:{x:n&&n.x<-10?-1:1,y:-1}}}})),this.tutorial.addCondition(jr.NewLine,(function(){return{success:e.moving,data:{pos:{x:290,y:-550},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(jr.Recharge,(function(){return{success:e.boltsActive,data:{pos:{x:300,y:-650},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(jr.Unbreak,(function(){return{success:!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(jr.IAPBonus,(function(){return{success:!e.tutorial.visible&&e.tutorial.isDone(jr.Unbreak)&&!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:-255,y:620},scale:{x:-1,y:1}}}})),this.tutorial.addCondition(jr.IAPBonus2,(function(){return{success:!e.tutorial.visible&&e.tutorial.isDone(jr.IAPBonus)&&!!e.bottomOpenWall&&e.powerup1.visible&&5===e.levelId&&1===e.obstacles.length,data:{pos:{x:255,y:620},scale:{x:1,y:1}}}})),this.tutorial.addCondition(jr.ChangePosition,(function(){return{success:!!e.bottomOpenWall&&e.powerup1.visible&&6===e.levelId&&1===e.obstacles.length,data:{pos:{x:25,y:-125},scale:{x:1,y:-1}}}})),this.tutorial.addCondition(jr.Skull,(function(){var t,n,r={x:25,y:-125},o=Fi(M.bodies);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i&&i.userData&&i.userData.type===Ve.SKULL_TYPE){r=i.userData.position;break}}}catch(e){o.e(e)}finally{o.f()}return{success:!!e.bottomOpenWall&&12===e.levelId&&!e.levelStart.visible,data:{pos:r,scale:{x:(null===(t=r)||void 0===t?void 0:t.x)<-20?-1:1,y:-1}}}})),this.tutorial.addCondition(jr.AnyType,(function(){var t={x:-100,y:P.BottomPoint+20};return{success:!!e.bottomOpenWall&&e.powerup1.visible&&e.levelId>8&&e.nextType===Ve.ANY_TYPE,data:{pos:t,scale:{x:-1,y:1}}}})),this.tutorial.addCondition(jr.RainbowType,(function(){var t={x:-100,y:P.BottomPoint+20};return{success:!!e.bottomOpenWall&&e.powerup1.visible&&e.levelId>8&&e.nextType===Ve.RAINBOW_TYPE,data:{pos:t,scale:{x:-1,y:1}}}}))}},{key:"start",value:(x=Yi(regeneratorRuntime.mark((function e(){var t,n,r,o,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(ae(),this.levelStarted=!1,this.waitForOver=!1,this.boltsActive=!1,this.score=0,this.scorePlace.score=0,t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];return this.levelId=n[0][0],this.activeBonus=Ai.None,this.randomBodiesPositions=[],this.obstacles=[],this.isTransition=!1,this.nextType=void 0,this.nextLines=[],this.isActivePowerup=!1,this.generateLineBlocks(),this.tick=0,this.maxY=-800,this.moving=!1,this.nextTimer.freeze(),W.paused=!1,e.next=23,this.generateStartBlocks();case 23:return o=this.generateIAPS(),e.next=26,this.levelStart.show(this.currentLevelData,o);case 26:this.currentLevelData.iaps?(this.powerup1.setData(o[0],eo.getTexture(o[0]),eo.getTexture(o[0])),this.powerup2.setData(o[1],eo.getTexture(o[1]),eo.getTexture(o[1])),this.powerup1.visible=!0,this.powerup2.visible=!0,this.powerup1.disabled=!1,this.powerup2.disabled=!1,this.sendStartLevelEvent({iaps:o.toString()})):this.sendStartLevelEvent(),this.levelStarted=!0,this.boomMeter.maximum=this.currentLevelData.boomMeter,this.addActiveBlock(),this.nextTimer.unFreeze(),this.levelStartTime=(new Date).getTime(),this.rocketPowerup=new ft,D.stage.on("pointerup",this.onClick,this),D.stage.on("pointerdown",this.onTapStart,this);case 35:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})},{key:"close",value:(w=Yi(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){ue(),D.stage.off("pointerup"),D.stage.off("pointerdown"),W.paused=!1,t.waitForOver=!0,nu(!1),t.allScore.clear(),t.boltsActive=!1,t.nextTimer.clear(),t.boomMeter.reset(!0),t.levelStart.clear(),t.moveBox&&t.moveBox.clean(),t.staticBox&&t.staticBox.clean(),t.bottomOpenWall&&t.bottomOpenWall.clean(),t.activeBlock&&t.activeBlock.clean(),t.activeBonus=Ai.None,t.tick=0,t.moving=!1,t.isActivePowerup=!1,t.previewBlocks&&t.previewBlocks.clear(),t.nextBlock&&t.nextBlock.clean(),t.preview.visible=!1,t.powerup1.visible=!1,t.powerup2.visible=!1,t.nextLines=[],t.randomBodiesPositions=[],t.obstacles=[],t.fxContainer.removeChildren(),M.bodies.forEach((function(e){e&&e.userData&&e.userData.clean()}));for(var n=t.gameContainer.children.length-1;n>=0;n--){var r=t.gameContainer.children[n];r.createBody&&t.gameContainer.removeChild(r)}g.a.globalTimeline.clear();var o=window.setInterval((function(){var t=M.bodies.filter((function(e){return e&&e.userData}));0===t.length?(window.clearInterval(o),e()):console.log(t)}),50)})));case 1:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)})},{key:"showPause",value:function(){var e=this,t=(new Date).getTime();g.a.globalTimeline.pause(),W.paused=!0,ue(),this.pausePopup.show(function(){var n=Yi(regeneratorRuntime.mark((function n(r){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=9;break}return n.next=3,oe(X.Interstitial);case 3:W.paused=!1,g.a.globalTimeline.resume(),su("Game","Pause","Exit"),F.start(Ca),n.next=15;break;case 9:su("Game","Pause","Cancel"),W.paused=!1,g.a.globalTimeline.resume(),o=(new Date).getTime()-t,e.levelStartTime+=o,ae();case 15:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"generateIAPS",value:function(){if(!this.currentLevelData.iaps)return Li.None;for(var e=[Li.Kill,Li.RocketUp,Li.Freeze],t=[],n=0;n<2;n++){var r=Math.floor(Math.random()*e.length);t.push(e[r]),e.splice(r,1)}return t}},{key:"unusedBlocksRemoved",value:function(e){var t=this;if(!this.isTransition){var n=e[Math.floor(Math.random()*e.length)],r=e.length;e.forEach((function(e){t.addScoreItem(e.x,e.y,Ve.BALL_SCORE)}));var o=Math.random()<.5;3===r?u.play("emoji yeah"):4===r&&(o?u.play("emoji wah"):u.play("emoji oh")),r>=5&&(o?u.playRandom("emoji wow ",2):u.play("emoji ahh"),n&&(this.fireMissle(1,n),this.addScoreItem(n.x,n.y,Ve.EXPLOSION_SCORE))),this.activeBonus||this.levelId>1&&this.playBolts(r,n)}}},{key:"addToBoomMeter",value:function(e){if(!this.activeBonus&&this.boomMeter.update(e)){var t=this.getRandomBonus();this.setActiveBonus(t)}}},{key:"playBolts",value:(m=Yi(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,u=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<2)&&n){e.next=2;break}return e.abrupt("return");case 2:this.boltsActive=!0,r=t,t=Math.min(t,6),o=r/t,i=regeneratorRuntime.mark((function e(t){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.floor(4*Math.random()),(i=u.boltsPool.obtain(r)).anchor.set(.5,.5),i.scale.set(.1,.1),i.rotation=Math.PI/2+Math.atan2(-680-n.y,270-n.x),i.position.copyFrom(n),u.fxContainer.addChild(i),g.a.to(i.scale,{x:1.5,y:1.5,duration:.4,ease:k.f.easeNone}),g.a.to(i.scale,{x:0,y:0,delay:.4,duration:.4,ease:k.f.easeNone}),g.a.to(i.position,{x:270,y:-680,duration:.8,ease:k.f.easeNone,onComplete:function(){u.addToBoomMeter(o),u.fxContainer.removeChild(i),u.boltsPool.release(i)}}),e.next=12,u.delay(.1);case 12:case"end":return e.stop()}}),e)})),a=0;case 9:if(!(a<t)){e.next=14;break}return e.delegateYield(i(a),"t0",11);case 11:a++,e.next=9;break;case 14:this.boltsActive=!1;case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"addScore",value:function(e){this.score+=e,this.scorePlace.score=this.score}},{key:"addScoreItem",value:function(e,t,n){var r=this,o=this.scorePool.obtain();this.allScore.set(o,!0),this.fxContainer.addChild(o),o.on("done",(function(e){r.addScore(e),r.scorePool.release(o),r.allScore.delete(o)})),o.start(e,t,n)}},{key:"currentLevelData",get:function(){return W.levels[this.levelId]}},{key:"getRandomPosition",value:function(){if(!this.isTransition){var e=Math.floor(Math.random()*this.randomBodiesPositions.length),t=this.randomBodiesPositions[e];if(this.randomBodiesPositions.splice(e,1),t&&!(Math.abs(t[1])>=20))return t}}},{key:"getLettersAmount",value:function(e){return e===Ai.SmallBoomLetters?1:e===Ai.BoomLetters?2:e===Ai.BigBoomLetters?3:0}},{key:"setActiveBonus",value:(b=Yi(regeneratorRuntime.mark((function e(t){var n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.activeBonus=t,this.nextTimer.freeze(),this.addScoreItem(0,0,Ve.BONUS_SCORE),n=void 0,r=this.getLettersAmount(t),console.log("set bonus",t,r),su("Game","Bonus","Activate",t),e.t0=t,e.next=e.t0===Ai.SmallBoomLetters||e.t0===Ai.BoomLetters||e.t0===Ai.BigBoomLetters?10:e.t0===Ai.LaserLetters?13:16;break;case 10:return this.meterBonus=new Dn(r),n=function(){return o.getRandomPosition()},e.abrupt("break",17);case 13:return this.meterBonus=new ur,n=function(){var e=o.getRandomPosition();if(e)return e[1]},e.abrupt("break",17);case 16:return e.abrupt("return");case 17:return this.frontContainer.addChild(this.meterBonus),e.next=20,this.meterBonus.start(n);case 20:this.clearMeterBonus(),this.nextTimer.unFreeze();case 22:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"getRandomBonus",value:function(){for(var e=this.currentLevelData.bonuses,t=[],n=0,r=0;r<e.length;r++)n+=$i[e[r]],t.push(n);var o=Math.random()*n;return e[t.filter((function(e){return o>=e})).length]}},{key:"fireMissle",value:(y=Yi(regeneratorRuntime.mark((function e(t,n){var r,o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransition){e.next=2;break}return e.abrupt("return");case 2:nu(!0),t=Math.min(t,this.randomBodiesPositions.length),r=regeneratorRuntime.mark((function e(t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=i.getRandomPosition())&&!i.isTransition){e.next=3;break}return e.abrupt("return","continue");case 3:return(o=i.misslesPool.obtain()).anchor.set(.5,.5),o.scale.set(.1,.1),o.position.copyFrom(n),i.fxContainer.addChild(o),g.a.to(o.scale,{x:1.5,y:1.5,duration:.5,ease:k.f.easeNone}),g.a.to(o.scale,{x:0,y:0,delay:.5,duration:.5,ease:k.f.easeNone}),g.a.to(o.position,{x:50*r[0],y:50*r[1],duration:1,ease:k.f.easeNone,onComplete:function(){i.createExplosion(o.position,0),i.explodePoints.push(r),i.fxContainer.removeChild(o),i.misslesPool.release(o)}}),e.next=13,i.delay(.2);case 13:case"end":return e.stop()}}),e)})),o=0;case 7:if(!(o<t)){e.next=15;break}return e.delegateYield(r(o),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:o++,e.next=7;break;case 15:g.a.delayedCall(.15,(function(){nu(!1)}));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"createExplosion",value:(d=Yi(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qi.obtain()).position.copyFrom(t),this.fxContainer.addChild(r),e.next=5,r.animate(n);case 5:qi.release(r);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"clearActiveBlocks",value:function(){this.activeBlockDelay&&this.activeBlockDelay.kill(),this.activeBlock&&g.a.killTweensOf(this.activeBlock),this.nextBlock&&g.a.killTweensOf(this.nextBlock),g.a.killTweensOf(this.preview),this.nextBlock&&(this.pad.removeChild(this.nextBlock),this.nextBlock.clean()),this.activeBlock&&(this.gameContainer.removeChild(this.activeBlock),this.activeBlock.clean(),this.preview.visible=!1),this.activeBlock=void 0,this.nextBlock=void 0,this.nextType=void 0}},{key:"stopBonuses",value:function(){this.activeBonus=Ai.None,this.clearActiveBlocks()}},{key:"stopAllScores",value:function(){this.allScore.forEach((function(e,t){t.finish()}))}},{key:"levelComplete",value:function(){this.stopAllScores(),this.stopBonuses(),this.isTransition=!0,this.moving=!1,this.obstacles.forEach((function(e){e.clean()})),this.obstacles=[],this.previewBlocks.y=-900-this.previewBlocks.height,this.previewBlocks&&this.previewBlocks.clear(),this.bottomOpenWall&&this.bottomOpenWall.animateAndDestroy(),this.bottomOpenWall=void 0,this.moveBox&&this.moveBox.animateAndDestroy(),this.staticBox&&this.staticBox.animateAndDestroy()}},{key:"heartDeath",value:function(){!this.goalBlock||this.goalBlock&&this.goalBlock.isSkull()||(this.goalBlock.setSkull(),this.moveBalls())}},{key:"moveBalls",value:function(){var e=this;if(!this.isTransition&&!this.moving){this.playArgue(2),this.moving=!0;var t=this.nextLines.length,n=this.moveBox.body.position,r={x:n[0],y:n[1]};this.previewBlocks.show(),g.a.to(this.previewBlocks,{y:-570,duration:1.1}),g.a.to(r,{y:(70*t-500)/50,delay:.1,duration:1,ease:k.f.easeNone,onUpdate:function(){e.moveBox.body?e.moveBox.body.position=[r.x,r.y]:g.a.killTweensOf(r)},onComplete:function(){e.moveBox.body.position=[0,-11.5],e.addLineBlocks(),e.generateLineBlocks(),g.a.to(e.previewBlocks,{y:-900-e.previewBlocks.height,duration:.5}),e.moving=!1}})}}},{key:"shakeScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?(g.a.to(this,{x:"+5",yoyo:!0,repeat:3,duration:.05}),g.a.to(this,{x:"-5",yoyo:!0,repeat:3,duration:.05})):(g.a.to(this,{y:"+5",yoyo:!0,repeat:3,duration:.05}),g.a.to(this,{y:"-5",yoyo:!0,repeat:3,duration:.05}))}},{key:"update",value:function(e){var t=this;if(!W.paused&&!this.waitForOver){this.drawMouse();var n=this.meterBonus&&this.meterBonus.activeBound||void 0;this.maxY=-800;var r=!1,o=!1,i=[];if(this.randomBodiesPositions=[],M.bodies.forEach((function(e){var o=e.position;e.userData.kinematic&&e!==t.moveBox.body&&(o[1]<-9.1||o[1]>(P.BottomPoint+10)/50)&&(e.userData.shape.material=W.material,e.gravityScale=1),e.type===C.Body.DYNAMIC&&o[1]>-P.BottomPoint/50&&e.userData&&!e.userData.isGoal()&&t.randomBodiesPositions.push(e.position),!t.isTransition&&e.type===C.Body.DYNAMIC&&o[1]>t.maxY&&(t.maxY=o[1]),t.isTransition&&e.type===C.Body.DYNAMIC&&o[1]>-P.BottomPoint/50&&(r=!0),t.isTransition&&e.type===C.Body.DYNAMIC&&o[1]<3*-P.BottomPoint/50&&e.userData.clean(),!t.isTransition&&n&&e.type===C.Body.DYNAMIC&&e.userData&&!e.userData.isGoal()&&n.forEach((function(t){t.contains(o[0],o[1])&&i.push(e)}))})),!this.isTransition&&this.goalBlock&&this.goalBlock.position.y>450&&this.levelStarted&&(o=!0),this.goalBlock&&!o&&this.goalBlock.resetDeathCounter(),this.tutorial.update(),this.isTransition&&!r&&!this.levelFinished.visible){this.previewBlocks.y=-900-this.previewBlocks.height,this.nextTimer.clear(),this.boomMeter.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1;var a=this.getLevelTime(),u=W.levels[this.levelId].idealTime,c=a<u?Math.round(1e3*(1-a/u)):0;this.sendFinishLevelEvent(eu.Complete,this.score+c,{score:this.score,time:a,timeBonus:c}),this.levelStarted=!1,ue(),this.levelFinished.show(!0,this.score,c,this.currentLevelData.starsConditions,(function(){t.score+=c,t.moveToNextLevel()}),this.levelId,this.generateIAPS()),this.nextTimer.freeze(),this.obstacles=[]}if(!this.moving&&!this.isTransition){if(this.goalBlock&&o&&this.goalBlock.startCountDeath(),!this.nextTimer.isFrozen){this.tick+=Math.floor(60*e);var s=this.tick%this.currentLevelData.time;this.nextTimer.setProgress(s/this.currentLevelData.time),0===s&&(this.nextTimer.setProgress(1),i=[],this.moveBalls())}if(i.length>0){var l=[];i.forEach((function(e){var n=e.userData;l.push(n.position),n.boom(!1),t.createExplosion(n.position,.2*Math.random())})),this.unusedBlocksRemoved(l)}}}}},{key:"getLevelTime",value:function(){return(new Date).getTime()-this.levelStartTime}},{key:"moveToNextLevel",value:function(){var e=this;console.log("finished",this.levelId,this.score),W.levels.length>this.levelId+1&&((!this.currentLevelData.score||this.score>this.currentLevelData.score)&&(this.currentLevelData.score=this.score,ne("".concat(this.currentLevelData.key),this.score.toString()),console.log("set score")),this.levelId+=1,this.currentLevelData.score||0===this.currentLevelData.score||(this.currentLevelData.score=0,ne("".concat(this.currentLevelData.key),"0"))),this.boomMeter.maximum=this.currentLevelData.boomMeter,this.score=0,this.scorePlace.score=0,oe(X.Interstitial).then((function(){e.createMoveWalls(),e.generateNewBlocks().then((function(){var t=e.generateIAPS();e.levelStart.show(e.currentLevelData,t).then((function(){e.currentLevelData.iaps?(e.powerup1.setData(t[0],eo.getTexture(t[0]),eo.getTexture(t[0])),e.powerup2.setData(t[1],eo.getTexture(t[1]),eo.getTexture(t[1])),e.powerup1.visible=!0,e.powerup2.visible=!0,e.sendStartLevelEvent({iaps:t.toString()})):e.sendStartLevelEvent(),ae(),e.levelStarted=!0,e.generateLineBlocks(),e.addActiveBlock(),e.previewBlocks.y=-900-e.previewBlocks.height,e.nextTimer.unFreeze(),e.levelStartTime=(new Date).getTime()}))})),W.paused=!1})),this.isTransition=!1}},{key:"sendStartLevelEvent",value:function(e){console.log("send start","level"+this.currentLevelData.key,e),uu(eu.Start,"level"+this.currentLevelData.key,0,e)}},{key:"sendFinishLevelEvent",value:function(e,t,n){console.log("send finish","level"+this.currentLevelData.key,t),uu(e,"level"+this.currentLevelData.key,t,n)}},{key:"startPowerup",value:(h=Yi(regeneratorRuntime.mark((function e(t,n){var r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(su("Game","Powerup","Activate",t),n&&(this.levelStartTime+=n),!(this.isActivePowerup||W.paused||this.isTransition)){e.next=4;break}return e.abrupt("return");case 4:this.isActivePowerup=!0,this.powerup1.disabled=!0,this.powerup2.disabled=!0,e.t0=t,e.next=e.t0===Li.RocketUp?10:e.t0===Li.Kill?16:e.t0===Li.Freeze?26:30;break;case 10:return this.startVerticalRocket(),e.next=13,this.delay(2);case 13:return this.powerup1.disabled=!1,this.powerup2.disabled=!1,e.abrupt("break",30);case 16:return r=this.getRandomType(),M.bodies.forEach((function(e){var t=e.userData;t&&t.type===r&&t.setBomb()})),e.next=20,this.delay(1);case 20:return this.shakeScreen(),e.next=23,this.delay(1);case 23:return this.powerup1.disabled=!1,this.powerup2.disabled=!1,e.abrupt("break",30);case 26:return u.play("timer freeze"),this.nextTimer.freeze(10),this.delay(10).then((function(){o.powerup1.disabled=!1,o.powerup2.disabled=!1})),e.abrupt("break",30);case 30:this.isActivePowerup=!1;case 31:case"end":return e.stop()}}),e,this)}))),function(e,t){return h.apply(this,arguments)})},{key:"startVerticalRocket",value:(p=Yi(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=560*Math.random()-280,e.next=3,this.startRocket(t,P.BottomPoint,t,-450);case 3:case"end":return e.stop()}}),e,this)}))),function(){return p.apply(this,arguments)})},{key:"startRocket",value:(f=Yi(regeneratorRuntime.mark((function e(t,n,r,o){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gameContainer.addChild(this.rocketPowerup),u.play("rocket launch"),e.next=4,this.rocketPowerup.animate(t,n,r,o);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return f.apply(this,arguments)})},{key:"generateActiveBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextBlock&&this.pad.removeChild(this.nextBlock),this.nextType=-1!==e?e:this.getRandomType(!0),this.nextBlock=-1===e?this.createCircle(-90,40,this.nextType,!1):this.createCircle(-90,-20,this.nextType,!1),this.pad.addChild(this.nextBlock),-1===e&&g.a.to(this.nextBlock,{y:-20,duration:.3})}},{key:"getRandomType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&this.currentLevelData.bonusBalls.length>0&&Math.random()<.08){if(2===this.currentLevelData.bonusBalls.length)return Math.random()<.5?Ve.ANY_TYPE:Ve.RAINBOW_TYPE;if(1===this.currentLevelData.bonusBalls.length)return 1===this.currentLevelData.bonusBalls[0]?Ve.ANY_TYPE:Ve.RAINBOW_TYPE}return Math.floor(Math.random()*this.currentLevelData.blocks)+1}},{key:"addActiveBlock",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this.nextType||(this.nextType=this.getRandomType(!0)),this.activeBlock=-1===e?this.createCircle(-90,P.BottomPoint+35,this.nextType,!1):this.createCircle(0,P.BottomPoint,this.nextType,!1),this.activeBlock.kinematic=!0,this.gameContainer.addChild(this.activeBlock),this.generateActiveBlock(e),this.preview.position.set(0,P.BottomPoint),this.preview.visible=!0,-1===e&&(this.preview.alpha=0,g.a.to(this.activeBlock,{x:0,y:P.BottomPoint,duration:.15}),g.a.to(this.preview,{alpha:.6,duration:.15}))}},{key:"switchBlockes",value:(l=Yi(regeneratorRuntime.mark((function e(){var t,n,r,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(t=this.activeBlock)||void 0===t?void 0:t.type,r=this.nextType,e.next=4,new Promise((function(e){o.nextBlock&&g.a.to(o.nextBlock,{x:0,y:-50,duration:.2}),o.activeBlock?g.a.to(o.activeBlock,{x:-90,y:700,duration:.2,onComplete:function(){e()}}):g.a.to({a:0},{a:1,duration:.2,onComplete:function(){e()}}),u.play("ball release")}));case 4:this.clearActiveBlocks(),this.nextType=r,this.addActiveBlock(n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"drawMouse",value:function(){var e=this.toLocal(D.renderer.plugins.interaction.eventData.data.global);this.isTransition||W.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(e.x,e.y)||this.topRect.contains(e.x,e.y)||this.preview.draw(e)}},{key:"onTapStart",value:function(e){var t=this.toLocal(e.data.global);this.isTransition||W.paused||this.topRect.contains(t.x,t.y)||(this.padRect.contains(t.x,t.y)?this.switchBlockes():this.downRect.contains(t.x,t.y)||this.drawMouse())}},{key:"onClick",value:function(e){var t=this,n=this.toLocal(e.data.global);if(!(this.isTransition||W.paused||!this.activeBlock||this.isActivePowerup||this.downRect.contains(n.x,n.y)||this.topRect.contains(n.x,n.y))){this.activeBlock.createBody(C.Body.DYNAMIC,30),this.activeBlock.shape.material=W.activeBallMaterial;var r=this.activeBlock;this.activeBlock=void 0,this.preview.visible=!1;var o=Math.atan2((n.y-P.BottomPoint)/50,n.x/50);r.body&&(r.body.gravityScale=0,r.body.applyImpulse([450*Math.cos(o),450*Math.sin(o)]),u.play("ball release")),this.activeBlockDelay=g.a.delayedCall(.4,(function(){t.activeBlockDelay=void 0,t.addActiveBlock()})),M.bodies.forEach((function(e){e&&e.userData&&e.userData.type===Ve.SKULL_TYPE&&e.userData.decreaseSkullMeter()}))}}},{key:"generateLineBlocks",value:function(){var e=this.currentLevelData.lines;this.previewBlocks.clear(),this.nextLines=[];for(var t=0;t<e;t++){this.nextLines[t]=[];for(var n=0;n<9;n++)this.nextLines[t][n]=Math.floor(Math.random()*this.currentLevelData.blocks)+1}this.previewBlocks.setLines(this.nextLines)}},{key:"addLineBlocks",value:function(){for(var e,t=-500,n=0;n<this.nextLines.length;n++){e=-300;for(var r=0;r<this.nextLines[n].length;r++){var o=this.createCircle(e,t,this.nextLines[n][r]);this.gameContainer.addChild(o),e+=74}t+=70}}},{key:"delay",value:(s=Yi(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){g.a.delayedCall(t,(function(){e()}))})));case 1:case"end":return e.stop()}}),e)}))),function(e){return s.apply(this,arguments)})},{key:"generateNewBlocks",value:(c=Yi(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u,c,s,l,f,p,h,d=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.currentLevelData,n=t.startAmount,r=t.blocks,o=t.obstacles,i=!1,a=0,o&&o.length>0&&o.forEach((function(e){d.createObstacle(e),e.type===Mi.HeartMiddle?i=!0:e.type===Mi.Skulls&&(a=e.amount)})),u=[],c=[],s=0;s<a;s++){for(l=Math.floor(Math.random()*(n-19));u.includes(l);)l=Math.floor(Math.random()*(n-19));u.push(l)}this.playArgue(),f=0;case 9:if(!(f<n)){e.next=23;break}return p=Math.floor(Math.random()*r)+1,h=this.createCircle(50*Math.random()-25,900,p),u.includes(f)&&c.push(h),this.gameContainer.addChild(h),e.next=16,this.delay(.001);case 16:if(!i||f!==Math.floor(n/2)){e.next=20;break}return this.createGoalBlock(),e.next=20,this.delay(1);case 20:f++,e.next=9;break;case 23:if(i){e.next=27;break}return e.next=26,this.delay(1);case 26:this.createGoalBlock();case 27:if(this.delay(3).then((function(){d.createBottomExit()})),!(c.length>0)){e.next=33;break}return e.next=31,this.delay(.5);case 31:return e.next=33,this.addBeginSkulls(c);case 33:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"playArgue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;u.play("emoji argue 0"),t>1&&this.delay(.9).then((function(){u.play("emoji argue 1"),t>2&&e.delay(.9).then((function(){u.play("emoji argue 2")}))}))}},{key:"addBeginSkulls",value:(a=Yi(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=Fi(t);try{for(i=function(){var e=o.value;e&&(g.a.to(e.scale,{x:5,y:5,delay:.6*n,duration:.1,ease:k.d.easeOut,onComplete:function(){e.setPermanentSkull()}}),g.a.to(e.scale,{x:1,y:1,delay:n,duration:.5,ease:k.d.easeIn}),n+=.05)},r.s();!(o=r.n()).done;)i()}catch(e){r.e(e)}finally{r.f()}return e.next=5,this.delay(.7);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"createGoalBlock",value:function(){this.goalBlock=this.createCircle(0,1100,Ve.GOAL_TYPE),this.goalBlock.on("gameover",this.onGameOver,this),this.gameContainer.addChild(this.goalBlock)}},{key:"createObstacle",value:function(e){if(e.type!==Mi.HeartMiddle&&e.type!==Mi.Skulls){var t=void 0;if(e.position)switch(e.type){case Mi.Static:t=new xr(e.position);break;case Mi.Random:t=new Er(e.position,e.lives)}t&&(this.gameContainer.addChild(t),this.obstacles.push(t))}}},{key:"onGameOver",value:function(){var e,t,n,r=this;null===(e=this.nextTimer)||void 0===e||e.clear(),null===(t=this.boomMeter)||void 0===t||t.reset(),this.clearMeterBonus(),this.tick=0,this.maxY=-800,this.powerup1.visible=!1,this.powerup2.visible=!1,this.levelStarted=!1,this.sendFinishLevelEvent(eu.Fail,0,{score:this.score,time:this.getLevelTime(),timeBonus:0}),this.score=0,this.levelFinished.show(!1,this.score,Number.MAX_SAFE_INTEGER,this.currentLevelData.starsConditions,(function(){r.restartLevel()}),this.levelId,Li.None),null===(n=this.nextTimer)||void 0===n||n.freeze(),this.obstacles=[],W.paused=!0}},{key:"restartLevel",value:function(){this.isTransition=!0,F.restart(this.levelId)}},{key:"generateStartBlocks",value:(i=Yi(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.createMoveWalls(),(t=new tt(-400,-50,100,1800,0)).shape.material=W.bounceMaterial,this.gameContainer.addChild(t),(n=new tt(400,-50,100,1800,0)).shape.material=W.bounceMaterial,this.gameContainer.addChild(n),r=new tt(-225,800,250,100,0),this.gameContainer.addChild(r),o=new tt(225,800,250,100,0),this.gameContainer.addChild(o),i=new tt(-150,1100,100,500,0),this.gameContainer.addChild(i),a=new tt(150,1100,100,500,0),this.gameContainer.addChild(a),u=new tt(0,1300,200,100,0),this.gameContainer.addChild(u),e.next=19,this.generateNewBlocks();case 19:W.started=!0;case 20:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"createMoveWalls",value:function(){this.moveBox=new tt(0,-575,710,50,0),this.moveBox.type=Ve.END_TYPE,this.gameContainer.addChild(this.moveBox),this.staticBox=new tt(0,-625,710,50,0),this.gameContainer.addChild(this.staticBox)}},{key:"createBottomExit",value:function(){this.bottomOpenWall=new tt(0,800,200,100,0),this.gameContainer.addChild(this.bottomOpenWall)}},{key:"createCircle",value:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n===Ve.GOAL_TYPE?new kt(e,t):n===Ve.ANY_TYPE?new Zo(e,t,r):new Ve(e,t,n,r)}},{key:"clearMeterBonus",value:(o=Yi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.meterBonus&&this.meterBonus&&(this.meterBonus.clean(),this.frontContainer.removeChild(this.meterBonus),this.meterBonus=void 0),this.activeBonus=Ai.None;case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"preCleanUnused",value:function(e){var t={step:e,other:{amount:0,positions:[]}};return t.other.amount=z.length,this.update(e),t.other.amount>0&&z.forEach((function(e){t.other.positions.push(e.userData.position)})),t}},{key:"postCleanUnused",value:function(e){this.increaseBlocks.forEach((function(e){return e.block.increase(e.steps)})),this.increaseBlocks=[],this.explodePoints.forEach((function(t){var n=M.hitTest(t,M.bodies,0);if(n&&n.length>0){var r=n[0].userData;r&&r instanceof Ve&&r.type!==Ve.GOAL_TYPE&&(e.other.amount+=r.boom()),n.forEach((function(t){var n=t.userData;e.other.positions.push(n.position)}))}})),e.other.amount>0&&this.unusedBlocksRemoved(e.other.positions),this.explodePoints=[]}},{key:"endContact",value:function(e){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;r&&o&&r instanceof Ve&&o instanceof Ve&&P.sameType(r,o)&&(r.sameColorNeighbors.delete(o),o.sameColorNeighbors.delete(r))}},{key:"beginContact",value:function(e){var t=e.bodyA,n=e.bodyB,r=t.userData,o=n.userData;if(r&&o){if(P.getEnd(r,o))return void this.levelComplete();if(r instanceof ft||o instanceof ft){var i=P.getBlockByRocket(r,o);i&&i instanceof Ve&&(i.boom(),this.createExplosion(i.position,.15*Math.random()),this.addScoreItem(i.position.x,i.position.y,Ve.BALL_SCORE))}var a=P.getRainbow(r,o);if(a){var c=a===r?o:r;c instanceof Ve&&c.correctType()&&!c.isGoal()&&c.type!==Ve.STATIC_OBSTACLE_TYPE&&c.type!==Ve.RANDOM_OBSTACLE_TYPE?(c.boom(),this.createExplosion(c.position,.15*Math.random()),this.addScoreItem(c.position.x,c.position.y,Ve.BALL_SCORE)):a instanceof Ve&&(0===c.type||c.type===Ve.END_TYPE||c.type===Ve.STATIC_OBSTACLE_TYPE||c.type===Ve.RANDOM_OBSTACLE_TYPE)&&(a.boom(),this.createExplosion(a.position,.15*Math.random()))}var s=P.getSkullByGoal(r,o);if(s)return s.boom(),void this.heartDeath();if(r instanceof Ve&&o instanceof Ve&&(P.sameType(r,o)&&(r.sameColorNeighbors.set(o,!0),o.sameColorNeighbors.set(r,!0)),P.wasAnyAndSkull(r,o)))return this.addScoreItem(r.position.x,r.position.y,Ve.BALL_SCORE),r.boom(),void o.boom();if(!e.shapeA.data||!e.shapeB.data)return;if((50*C.vec2.distance(e.bodyA.position,e.bodyA.previousPosition)>.5||50*C.vec2.distance(e.bodyB.position,e.bodyB.previousPosition)>.5)&&u.playRandom("ball hit ",3),r&&o){var l=P.getKinematic(r,o);if(l&&l.body){var f=l===r?o:r;if(l.enableGravity(),f instanceof Er&&f.type===Ve.RANDOM_OBSTACLE_TYPE?(f.changePosition(),this.addScoreItem(f.position.x,f.position.y,Ve.BALL_SCORE),this.shakeScreen(Math.random()<.5)):f.type===Ve.STATIC_OBSTACLE_TYPE&&this.shakeScreen(Math.random()<.5),r.type!==Ve.GOAL_TYPE&&o.type!==Ve.GOAL_TYPE)if(P.sameType(r,o)&&r instanceof Ve&&o instanceof Ve){r.kinematic=!1,o.kinematic=!1,r.enableGravity(),o.enableGravity();var p=l.steps;l.animateAndDestroy(),this.increaseBlocks.push({block:l===r?o:r,steps:p})}else f.type===Ve.SKULL_TYPE&&l.setSkull()}else{if(r instanceof Ve&&r.kinematic&&r.enableGravity(),o instanceof Ve&&o.kinematic&&o.enableGravity(),r.type===Ve.GOAL_TYPE||o.type===Ve.GOAL_TYPE)return;if(r instanceof Ve&&o instanceof Ve&&P.sameType(r,o)&&(r.steps!==o.steps||r.kinematic||o.kinematic)){var h=r.kinematic?r:o,d=h===r?o:r;h.kinematic=!1,d.kinematic=!1,h.body&&(h.body.gravityScale=1),d.body&&(d.body.gravityScale=1);var y=h.steps;h.animateAndDestroy(),this.increaseBlocks.push({block:d,steps:y})}else{var v=P.getRandomObstacle(r,o);if(v)this.shakeScreen(Math.random()<.5),v.changePosition(),this.addScoreItem(v.position.x,v.position.y,Ve.BALL_SCORE);else if(r instanceof Ve&&o instanceof Ve){var b=P.getKinematicBySkull(r,o);b&&b.setSkull()}}}}}}}],r=[{key:"sameType",value:function(e,t){return!(e.type!==t.type&&e.type!==Ve.ANY_TYPE&&t.type!==Ve.ANY_TYPE||0===e.type||0===t.type||e.isGoal()||t.isGoal()||e.type===Ve.STATIC_OBSTACLE_TYPE||t.type===Ve.STATIC_OBSTACLE_TYPE||e.type===Ve.RANDOM_OBSTACLE_TYPE||t.type===Ve.RANDOM_OBSTACLE_TYPE||e.type===Ve.SKULL_TYPE||t.type===Ve.SKULL_TYPE)}},{key:"getRainbow",value:function(e,t){return e.type===Ve.RAINBOW_TYPE||t.type===Ve.RAINBOW_TYPE?e.type===Ve.RAINBOW_TYPE?e:t:void 0}},{key:"getEnd",value:function(e,t){return e.type===Ve.GOAL_TYPE&&t.type===Ve.END_TYPE||t.type===Ve.GOAL_TYPE&&e.type===Ve.END_TYPE?e.type===Ve.END_TYPE?e:t:void 0}},{key:"getSkullByGoal",value:function(e,t){return e.type===Ve.GOAL_TYPE&&t.type===Ve.SKULL_TYPE||t.type===Ve.GOAL_TYPE&&e.type===Ve.SKULL_TYPE?e.type===Ve.SKULL_TYPE?e:t:void 0}},{key:"wasAnyAndSkull",value:function(e,t){return e.type===Ve.ANY_TYPE&&t.type===Ve.SKULL_TYPE&&!t.isGoal()||t.type===Ve.ANY_TYPE&&e.type===Ve.SKULL_TYPE&&!e.isGoal()}},{key:"getBlockByRocket",value:function(e,t){return e instanceof ft&&t.correctType()&&!t.isGoal()?t:t instanceof ft&&e.correctType()&&!e.isGoal()?e:void 0}},{key:"getKinematic",value:function(e,t){return e instanceof Ve&&e.kinematic&&0!==e.type?e:t instanceof Ve&&t.kinematic&&0!==t.type?t:void 0}},{key:"getRandomObstacle",value:function(e,t){return e instanceof Ve&&e.kinematic&&t instanceof Er&&t.type===Ve.RANDOM_OBSTACLE_TYPE?t:t instanceof Ve&&t.kinematic&&e instanceof Er&&e.type===Ve.RANDOM_OBSTACLE_TYPE?e:void 0}},{key:"getKinematicBySkull",value:function(e,t){return e.kinematic&&t.type===Ve.SKULL_TYPE?e:t.kinematic&&e.type===Ve.SKULL_TYPE?t:void 0}}],n&&Wi(t.prototype,n),r&&Wi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),P}(de);function Qi(e){return(Qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ea(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ta(e,t){return(ta=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function na(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ia(e);if(t){var o=ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ra(this,n)}}function ra(e,t){if(t&&("object"===Qi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oa(e)}function oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ia(e){return(ia=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ji(Zi,"BottomPoint",670);var ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ta(e,t)}(i,e);var t,n,r,o=na(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),aa(oa(e=o.call(this)),"explosion",void 0),aa(oa(e),"face",void 0),aa(oa(e),"logo",void 0),e.explosion=v.Sprite.from(v.Texture.from("splash_explosion.png")),e.explosion.anchor.set(.5),e.explosion.scale.set(0,0),e.explosion.position.y=.5*-W.originalHeight+516,e.explosion.alpha=0,e.addChild(e.explosion),e.face=v.Sprite.from(v.Texture.from("splash_logo_face.png")),e.face.position.set(-131,-350),e.face.alpha=0,e.addChild(e.face),e.logo=v.Sprite.from(v.Texture.from("splash_logo.png")),e.logo.anchor.set(.5),e.logo.position.set(0,-260),e.logo.scale.set(3,3),e.logo.alpha=0,e.addChild(e.logo),e}return t=i,(n=[{key:"start",value:function(){this.explosion.position.y=.5*-W.originalHeight+516,this.explosion.scale.set(0,0),this.explosion.alpha=0,this.face.position.set(-131,-350),this.face.alpha=0,this.logo.position.set(0,-260),this.logo.scale.set(3,3),this.logo.alpha=0,u.play("startup explosion"),g.a.to(this.explosion,{alpha:1,duration:.2}),g.a.to(this.explosion.scale,{x:1,y:1,duration:1,ease:k.c.easeOut}),g.a.to(this.logo,{alpha:1,delay:.2,duration:.2}),g.a.to(this.logo.scale,{x:1,y:1,delay:.2,duration:1,ease:k.a.easeOut}),g.a.to(this.face,{alpha:1,delay:1.09,duration:.1}),g.a.to(this.face,{y:-448,delay:1.1,duration:2,ease:k.f.easeNone})}},{key:"stop",value:function(){u.stop("startup explosion"),g.a.killTweensOf(this.explosion),g.a.killTweensOf(this.explosion.scale),g.a.killTweensOf(this.logo),g.a.killTweensOf(this.logo.scale),g.a.killTweensOf(this.face)}}])&&ea(t.prototype,n),r&&ea(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=da(e);if(t){var o=da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pa(this,n)}}function pa(e,t){if(t&&("object"===ca(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ha(e)}function ha(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&la(e,t)}(i,e);var t,n,r,o=fa(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ya(ha(e=o.call(this)),"txt",void 0),ya(ha(e),"lockedTxt",void 0),ya(ha(e),"hearts",void 0),e.txt=new v.Text("Level 1",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:0,align:"center"}),e.txt.anchor.set(.5,1),e.txt.position.set(0,-75),e.addChild(e.txt);var t=new v.NineSlicePlane(v.Texture.from("top_back.png"),46,50,46,50);t.pivot.set(160,70),t.width=320,t.height=140,t.tint=14540253,e.addChild(t),e.lockedTxt=new v.Text("Locked",{fontFamily:"FontsFree-Net-AmericanTypewriterBold",fontSize:50,fill:11184810,fontWeight:"bold",align:"center"}),e.lockedTxt.anchor.set(.5,.5),e.lockedTxt.position.set(0,0),e.addChild(e.lockedTxt),e.hearts=[];for(var n=-90,r=0;r<3;r++){var a=new v.Sprite(v.Texture.from("like.png"));a.alpha=.3,a.anchor.set(.5,.5),a.scale.set(.6),a.position.x=n,e.addChild(a),e.hearts.push(a),n+=90}return e}return t=i,(n=[{key:"updateData",value:function(e,t){this.txt.text="Level ".concat(e+1);for(var n=0;n<3;n++)this.hearts[n].alpha=t>=n+1?1:t>=0||0===e?.3:0;this.lockedTxt.visible=0!==e&&-1===t}}])&&sa(t.prototype,n),r&&sa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(v.Container);function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wa(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ga(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ka(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ga(i,r,o,a,u,"next",e)}function u(e){ga(i,r,o,a,u,"throw",e)}a(void 0)}))}}function xa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pa(e,t){return(Pa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ra(e);if(t){var o=Ra(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ta(this,n)}}function Ta(e,t){if(t&&("object"===ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ba(e)}function Ba(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ra(e){return(Ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ca=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pa(e,t)}(l,e);var t,n,r,o,i,a,c,s=Sa(l);function l(){var e;xa(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _a(Ba(e=s.call.apply(s,[this].concat(n))),"logo",void 0),_a(Ba(e),"activeLevelItem",void 0),_a(Ba(e),"activeLevelId",void 0),_a(Ba(e),"left",void 0),_a(Ba(e),"right",void 0),_a(Ba(e),"canPlay",void 0),_a(Ba(e),"playBtn",void 0),_a(Ba(e),"muteBtn",void 0),_a(Ba(e),"unmuteBtn",void 0),e}return t=l,(n=[{key:"create",value:function(){var e=this;this.logo=new ua,this.addChild(this.logo),this.playBtn=new Te("start_button.png","start_button.png"),this.playBtn.position.y=W.originalHeight/3-30,this.addChild(this.playBtn),this.playBtn.on("pointerup",(function(){e.onPlayClicked()})),this.muteBtn=new Te("sound1.png","sound1.png"),this.muteBtn.position.set(W.originalWidth/2-50,-W.originalHeight/2+70),this.addChild(this.muteBtn),this.muteBtn.on("pointerup",(function(){su("Menu","Mute","click"),e.mute=!0})),this.unmuteBtn=new Te("sound2.png","sound2.png"),this.unmuteBtn.position.set(W.originalWidth/2-50,-W.originalHeight/2+70),this.addChild(this.unmuteBtn),this.unmuteBtn.on("pointerup",(function(){su("Menu","Unmute","click"),e.mute=!1})),re("emoji_mute","0").then((function(t){e.mute="1"===t})),this.createMapItems()}},{key:"mute",set:function(e){this.muteBtn.visible=!e,this.unmuteBtn.visible=e,ne("emoji_mute",e?"1":"0"),u.muteMusic=e,u.muteSounds=e}},{key:"start",value:function(){su("Menu","View","Start"),this.logo.start(),this.setActiveLevel()}},{key:"close",value:(c=ka(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:su("Menu","View","Close"),this.logo.stop();case 2:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"setActiveLevel",value:(a=ka(regeneratorRuntime.mark((function e(){var t,n,r,o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=W.levels,n=0,r=-1,o=ma(t),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=20;break}return a=i.value,e.next=10,re("".concat(a.key),"");case 10:if(u=e.sent,r=-1,""!==u&&(a.score=parseInt(u),r=tu(a.score,a.starsConditions)),0!==r&&-1!==r){e.next=17;break}return e.abrupt("break",20);case 17:n++;case 18:e.next=6;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),o.e(e.t0);case 25:return e.prev=25,o.f(),e.finish(25);case 28:this.activeLevelId=n,this.canPlay=0===n||-1!==r,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 32:case"end":return e.stop()}}),e,this,[[4,22,25,28]])}))),function(){return a.apply(this,arguments)})},{key:"updateButtons",value:function(){this.playBtn.disabled=!this.canPlay,this.left.visible=this.activeLevelId>0,this.right.visible=this.activeLevelId<W.levels.length-1}},{key:"createMapItems",value:function(){var e=this;this.activeLevelItem=new va,this.activeLevelItem.position.set(0,W.originalHeight/3-230),this.addChild(this.activeLevelItem),this.left=new Te("back_button.png","back_button.png"),this.left.position.set(-240,this.activeLevelItem.y),this.addChild(this.left),this.right=new Te("next_button.png","next_button.png"),this.right.position.set(250,this.activeLevelItem.y+5),this.addChild(this.right),this.left.scale.set(.5,.5),this.right.scale.set(.5,.5),this.left.on("pointerup",(function(){su("Menu","Prev","Click"),e.activeLevelId--,e.updateActive()})),this.right.on("pointerup",(function(){su("Menu","Next","Click"),e.activeLevelId++,e.updateActive()}))}},{key:"updateActive",value:(i=ka(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W.levels[this.activeLevelId],e.next=3,re("".concat(t.key),"");case 3:n=e.sent,r=-1,""!==n&&(t.score=parseInt(n),r=tu(t.score,t.starsConditions)),this.canPlay=0===this.activeLevelId||-1!==r,this.activeLevelItem.updateData(this.activeLevelId,r),this.updateButtons();case 9:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"onPlayClicked",value:(o=ka(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canPlay){e.next=2;break}return e.abrupt("return");case 2:if(!ee||!Z.shouldPlayFirstAds()){e.next=5;break}return e.next=5,oe(X.Interstitial);case 5:su("Menu","Play","Click",this.activeLevelId+1),F.start(Zi,this.activeLevelId);case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}])&&Oa(t.prototype,n),r&&Oa(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(de),ja=n(200);function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Da(e,t){return(Da=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ia(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fa(e);if(t){var o=Fa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Na(this,n)}}function Na(e,t){if(t&&("object"===Ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ya(e)}function Ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Da(e,t)}(u,e);var t,n,r,o,i,a=Ia(u);function u(){var e;Aa(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ua(Ya(e=a.call.apply(a,[this].concat(n))),"comics",void 0),Ua(Ya(e),"step",void 0),Ua(Ya(e),"nextBtn",void 0),Ua(Ya(e),"prevBtn",void 0),Ua(Ya(e),"okBtn",void 0),e}return t=u,(n=[{key:"create",value:function(){var e=this;this.comics=v.Sprite.from(v.Texture.from("comic_00.png")),this.comics.anchor.set(.5,.5),this.addChild(this.comics),this.nextBtn=new Te("next_button.png","next_button.png"),this.nextBtn.position.set(160,W.originalHeight/2-this.nextBtn.height/2),this.addChild(this.nextBtn),this.nextBtn.on("pointerup",(function(){su("Comics","Next","Click"),e.onNextClicked()})),this.prevBtn=new Te("back_button.png","back_button.png"),this.prevBtn.position.set(-160,this.nextBtn.y),this.addChild(this.prevBtn),this.prevBtn.on("pointerup",(function(){su("Comics","Prev","Click"),e.onPrevClicked()})),this.okBtn=new Te("ok_button.png","ok_button.png"),this.okBtn.on("pointerup",(function(){ne("skipcomics","1"),F.start(Ca)})),this.okBtn.position.y=this.nextBtn.y-50,this.addChild(this.okBtn),this.prevBtn.visible=!1,this.nextBtn.visible=!1,this.okBtn.visible=!1}},{key:"start",value:function(){su("Comics","View","Start"),this.step=0,this.prevBtn.visible=!1,this.nextBtn.visible=!0,this.okBtn.visible=!1}},{key:"close",value:(o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(su("Comics","View","Close"),t=0;t<6;t++)v.Texture.removeFromCache("comic_0".concat(t,".png"));this.removeChild(this.okBtn),this.destroy({children:!0});case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=o.apply(e,t);function a(e){La(i,n,r,a,u,"next",e)}function u(e){La(i,n,r,a,u,"throw",e)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"onNextClicked",value:function(){this.step++,this.step<5?(this.updateImage(),this.prevBtn.visible=!0,this.nextBtn.visible=!0):5===this.step&&(this.updateImage(),this.okBtn.visible=!0,this.prevBtn.visible=!1,this.nextBtn.visible=!1)}},{key:"onPrevClicked",value:function(){this.step--,this.prevBtn.visible=this.step>0,this.updateImage()}},{key:"updateImage",value:function(){this.comics.texture=v.Texture.from("comic_0".concat(this.step,".png"))}}])&&Ma(t.prototype,n),r&&Ma(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(de);function Wa(e){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ga(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Ha(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ga(i,r,o,a,u,"next",e)}function u(e){Ga(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ka(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Va(e,t){return(Va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qa(e);if(t){var o=qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ja(this,n)}}function Ja(e,t){if(t&&("object"===Wa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qa(e){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $a,Za,Qa,eu,tu=function(e,t){for(var n=0,r=0;r<t.length&&e>t[r];r++)n++;return n},nu=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];W.slowmo=e,t||g.a.globalTimeline.timeScale(W.slowmo?.4:1)},ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Va(e,t)}(f,e);var t,n,r,o,i,a,s,l=Xa(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l.call(this,720,1500)}return t=f,(n=[{key:"createStates",value:(s=Ha(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re("skipcomics","0");case 2:t=e.sent,F.add(new Ca),F.add(new Zi),"0"===t?(F.add(new za),F.start(za)):F.start(Ca);case 6:case"end":return e.stop()}}),e)}))),function(){return s.apply(this,arguments)})},{key:"initContactListener",value:function(){M.on("endContact",(function(e){e.shapeA.data&&e.shapeB.data&&F.activeState instanceof Zi&&F.activeState.endContact(e)})),M.on("beginContact",(function(e){F.activeState instanceof Zi&&F.activeState.beginContact(e)}))}},{key:"preCleanUnused",value:function(e){var t=F.activeState;return t&&t instanceof Zi?t.preCleanUnused(e):{step:e,other:void 0}}},{key:"postCleanUnused",value:function(e){var t=F.activeState;t&&t instanceof Zi&&t.postCleanUnused(e)}},{key:"load",value:(a=Ha(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){u.init("assets/sounds"),Z.startLoading();var r=new c.b;r.add("base0","assets/atlases/base0.json"),r.add("base1","assets/atlases/base1.json"),r.add("levels","assets/levels.json"),r.add("particles","assets/emitter.json"),u.add("music",{autoplay:!0,loop:!0,volume:.5}),u.add("ball hit 0",{volume:1}),u.add("ball hit 1",{volume:1}),u.add("ball hit 2",{volume:1}),u.add("ball grow",{volume:1}),u.add("ball pop 0",{volume:1}),u.add("ball pop 1",{volume:1}),u.add("ball pop 2",{volume:1}),u.add("click",{volume:1}),u.add("emoji ahh",{volume:1}),u.add("emoji argue 0",{volume:1}),u.add("emoji argue 1",{volume:1}),u.add("emoji argue 2",{volume:1}),u.add("emoji oh",{volume:1}),u.add("emoji wah",{volume:1}),u.add("emoji wow 0",{volume:1}),u.add("emoji wow 1",{volume:1}),u.add("emoji yeah",{volume:1}),u.add("startup explosion",{volume:1}),u.add("ball explosion",{volume:.6}),u.add("ball release",{volume:1}),u.add("fail ticking",{volume:1}),u.add("fail",{volume:1}),u.add("rocket launch",{volume:1}),u.add("timer freeze",{volume:1}),u.add("win",{volume:1}),u.add("window open",{volume:1}),u.add("score ticking",{volume:1,loop:!0}),r.onProgress.add((function(e){})),r.onError.add((function(e,t,r){lu({error:"loading (".concat(r.url,")")}),n()})),r.load(Ha(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.loadFonts();case 2:return W.levels=r.resources.levels.data.levels,W.particles=r.resources.particles.data,n.next=6,t.startAfterLoading();case 6:e();case 7:case"end":return n.stop()}}),n)}))))})));case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"loadFonts",value:(i=Ha(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){ja.load({custom:{families:["FontsFree-Net-AmericanTypewriterBold"],urls:["assets/fonts/font.css"]},active:function(){e()},timeout:6e4})})));case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"startAfterLoading",value:(o=Ha(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.getElementById("preloader"))&&(t.style.display="none"),e.next=4,ie();case 4:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&Ka(t.prototype,n),r&&Ka(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(G);!function(e){e[e.Undefined=0]="Undefined",e[e.Clicked=1]="Clicked",e[e.Show=2]="Show",e[e.FailedShow=3]="FailedShow",e[e.RewardReceived=4]="RewardReceived"}($a||($a={})),function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Offline=2]="Offline",e[e.NoFill=3]="NoFill",e[e.InternalError=4]="InternalError",e[e.InvalidRequest=5]="InvalidRequest",e[e.UnableToPrecache=6]="UnableToPrecache"}(Za||(Za={})),function(e){e[e.Undefined=0]="Undefined",e[e.Video=1]="Video",e[e.RewardedVideo=2]="RewardedVideo",e[e.Playable=3]="Playable",e[e.Interstitial=4]="Interstitial",e[e.OfferWall=5]="OfferWall",e[e.Banner=6]="Banner"}(Qa||(Qa={})),function(e){e[e.Undefined=0]="Undefined",e[e.Start=1]="Start",e[e.Complete=2]="Complete",e[e.Fail=3]="Fail"}(eu||(eu={})),r.GameAnalytics.setEnabledInfoLog(!1);var ou=!1,iu="en";function au(e,t){console.log("GA",e,t),r.GameAnalytics.initialize(e,t),console.log("Network: ".concat("0",", live: ").concat(ou)),su("App","Network","0",ou?1:0),su("App","Game","Start"),new ru}function uu(e,t,n,o){r.GameAnalytics.addProgressionEvent(e,"world","stage",t,n,o)}function cu(e,t,n){void 0===n?r.GameAnalytics.addAdEvent(e,t,"0","ad"):r.GameAnalytics.addAdEventWithNoAdReason(e,t,"0","ad",n);switch(t){case Qa.Interstitial:"inter";break;case Qa.RewardedVideo:"reward"}switch(e){case $a.FailedShow:"showError";break;case $a.Show:"show";break;case $a.RewardReceived:"success"}}function su(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r.GameAnalytics.addDesignEvent("".concat(e,":").concat(t,":").concat(n),o)}function lu(e){var t=JSON.stringify(e);r.GameAnalytics.addErrorEvent(r.EGAErrorSeverity.Error,t)}function fu(e){ou=e}window.onfocus=function(){Howler.mute(!1)},window.onblur=function(){Howler.mute(!0)},window.onload=function(){te().then((function(e){iu=e.language,ou=e.success,au(e.gameKey,e.secretKey)})).catch((function(e){iu="en",ou=!1,au("28b00d27d31d5bb1a89f2f95461df103","b527d253099947040f78d2b1e70f06725391e3a1")}))}}});
//# sourceMappingURL=bundle.bdf1dba028cc07b80b09.js.map