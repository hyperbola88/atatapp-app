!function(t){function e(e){for(var r,u,a=e[0],c=e[1],f=e[2],s=0,y=[];s<a.length;s++)u=a[s],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&y.push(o[u][0]),o[u]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(l&&l(e);y.length;)y.shift()();return i.push.apply(i,f||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={0:0},i=[];function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var f=0;f<a.length;f++)e(a[f]);var l=c;i.push([171,1]),n()}({171:function(t,e,n){n(172),t.exports=n(390)},390:function(t,e,n){"use strict";n.r(e),n.d(e,"SpineParser",(function(){return Zc.a})),n.d(e,"Animation",(function(){return tf.a})),n.d(e,"AnimationState",(function(){return tf.b})),n.d(e,"AnimationStateAdapter",(function(){return tf.c})),n.d(e,"AnimationStateData",(function(){return tf.d})),n.d(e,"AtlasAttachmentLoader",(function(){return tf.e})),n.d(e,"Attachment",(function(){return tf.f})),n.d(e,"AttachmentTimeline",(function(){return tf.g})),n.d(e,"Bone",(function(){return tf.h})),n.d(e,"BoneData",(function(){return tf.i})),n.d(e,"BoundingBoxAttachment",(function(){return tf.j})),n.d(e,"ClippingAttachment",(function(){return tf.k})),n.d(e,"ColorTimeline",(function(){return tf.l})),n.d(e,"ConstraintData",(function(){return tf.m})),n.d(e,"CurveTimeline",(function(){return tf.n})),n.d(e,"DeformTimeline",(function(){return tf.o})),n.d(e,"DrawOrderTimeline",(function(){return tf.p})),n.d(e,"Event",(function(){return tf.q})),n.d(e,"EventData",(function(){return tf.r})),n.d(e,"EventQueue",(function(){return tf.s})),n.d(e,"EventTimeline",(function(){return tf.t})),n.d(e,"EventType",(function(){return tf.u})),n.d(e,"IkConstraint",(function(){return tf.v})),n.d(e,"IkConstraintData",(function(){return tf.w})),n.d(e,"IkConstraintTimeline",(function(){return tf.x})),n.d(e,"JitterEffect",(function(){return tf.y})),n.d(e,"MeshAttachment",(function(){return tf.z})),n.d(e,"PathAttachment",(function(){return tf.A})),n.d(e,"PathConstraint",(function(){return tf.B})),n.d(e,"PathConstraintData",(function(){return tf.C})),n.d(e,"PathConstraintMixTimeline",(function(){return tf.D})),n.d(e,"PathConstraintPositionTimeline",(function(){return tf.E})),n.d(e,"PathConstraintSpacingTimeline",(function(){return tf.F})),n.d(e,"PointAttachment",(function(){return tf.G})),n.d(e,"RegionAttachment",(function(){return tf.H})),n.d(e,"RotateTimeline",(function(){return tf.I})),n.d(e,"ScaleTimeline",(function(){return tf.J})),n.d(e,"ShearTimeline",(function(){return tf.K})),n.d(e,"Skeleton",(function(){return tf.L})),n.d(e,"SkeletonBinary",(function(){return tf.M})),n.d(e,"SkeletonBounds",(function(){return tf.N})),n.d(e,"SkeletonData",(function(){return tf.O})),n.d(e,"SkeletonJson",(function(){return tf.P})),n.d(e,"Skin",(function(){return tf.Q})),n.d(e,"SkinEntry",(function(){return tf.R})),n.d(e,"Slot",(function(){return tf.S})),n.d(e,"SlotData",(function(){return tf.T})),n.d(e,"SpacingMode",(function(){return tf.U})),n.d(e,"Spine",(function(){return tf.V})),n.d(e,"SwirlEffect",(function(){return tf.W})),n.d(e,"TimelineType",(function(){return tf.X})),n.d(e,"TrackEntry",(function(){return tf.Y})),n.d(e,"TransformConstraint",(function(){return tf.Z})),n.d(e,"TransformConstraintData",(function(){return tf.ab})),n.d(e,"TransformConstraintTimeline",(function(){return tf.bb})),n.d(e,"TranslateTimeline",(function(){return tf.cb})),n.d(e,"TwoColorTimeline",(function(){return tf.db})),n.d(e,"VertexAttachment",(function(){return tf.eb})),n.d(e,"AttachmentType",(function(){return ef.a})),n.d(e,"BinaryInput",(function(){return ef.b})),n.d(e,"Color",(function(){return ef.c})),n.d(e,"DebugUtils",(function(){return ef.d})),n.d(e,"IntSet",(function(){return ef.e})),n.d(e,"Interpolation",(function(){return ef.f})),n.d(e,"MathUtils",(function(){return ef.g})),n.d(e,"MixBlend",(function(){return ef.h})),n.d(e,"MixDirection",(function(){return ef.i})),n.d(e,"Pool",(function(){return ef.j})),n.d(e,"PositionMode",(function(){return ef.k})),n.d(e,"Pow",(function(){return ef.l})),n.d(e,"PowOut",(function(){return ef.m})),n.d(e,"RotateMode",(function(){return ef.n})),n.d(e,"SpineBase",(function(){return ef.o})),n.d(e,"SpineMesh",(function(){return ef.p})),n.d(e,"SpineSprite",(function(){return ef.q})),n.d(e,"StringSet",(function(){return ef.r})),n.d(e,"TextureAtlas",(function(){return ef.s})),n.d(e,"TextureAtlasPage",(function(){return ef.t})),n.d(e,"TextureAtlasRegion",(function(){return ef.u})),n.d(e,"TextureFilter",(function(){return ef.v})),n.d(e,"TextureRegion",(function(){return ef.w})),n.d(e,"TextureWrap",(function(){return ef.x})),n.d(e,"TimeKeeper",(function(){return ef.y})),n.d(e,"TransformMode",(function(){return ef.z})),n.d(e,"Utils",(function(){return ef.A})),n.d(e,"Vector2",(function(){return ef.B})),n.d(e,"WindowedMean",(function(){return ef.C})),n.d(e,"filterFromString",(function(){return ef.D})),n.d(e,"settings",(function(){return ef.E})),n.d(e,"wrapFromString",(function(){return ef.F})),n.d(e,"WIDTH",(function(){return of})),n.d(e,"HEIGHT",(function(){return uf})),n.d(e,"topScore",(function(){return af})),n.d(e,"gameRunners",(function(){return cf}));var r=n(53),o=n(7),i=n(9),u=n(8),a=n(14);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,n="components",r=new Map,n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}var e,n,r;return e=t,(n=[{key:"componentAdded",value:function(t){this.isCorrectType(t)&&(this.components.set(t,null),this.onAdded(t))}},{key:"destroy",value:function(){this.clearComponents()}},{key:"onAdded",value:function(t){}},{key:"onRemoved",value:function(t){}},{key:"componentRemoved",value:function(t){this.isCorrectType(t)&&(this.components.delete(t),this.onRemoved(t))}},{key:"clearComponents",value:function(){if(this.components){var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.components);try{for(e.s();!(t=e.n()).done;){var n=c(t.value,2),r=n[0];n[1],this.componentRemoved(r)}}catch(t){e.e(t)}finally{e.f()}this.components=null}}}])&&s(e.prototype,n),r&&s(e,r),t}();function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,"_entity",void 0),h(this,"_enabled",!1),this.disable()}var e,n,r;return e=t,(n=[{key:"init",value:function(){return this.enable(),this}},{key:"setEntity",value:function(t){this._entity=t}},{key:"getEntity",value:function(){return this._entity}},{key:"enabled",get:function(){return this._enabled}},{key:"disable",value:function(){this._enabled=!1}},{key:"enable",value:function(){this._enabled=!0}},{key:"destroy",value:function(){this.disable(),this._entity=null,Kc.release(this)}}])&&p(e.prototype,n),r&&p(e,r),t}(),b=n(25);var d=[];var m=[];function w(t,e){var n=0,r=function r(){(n+=16.6)>=e&&(b.b.shared.remove(r),t())};return b.b.shared.add(r),m.push(r),r}function g(t){t&&b.b.shared.remove(t)}function O(t,e){var n=0,r=e.map((function(t){return 1e3*t})),o=r.map((function(){return!1})),i=function e(){n+=16.6;for(var i=r.length-1;i>=0;i--)!o[i]&&n>=r[i]&&(t(i),o[i]=!0);0===o.filter((function(t){return!t})).length&&b.b.shared.remove(e)};return b.b.shared.add(i),i}function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=R(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function R(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return C(t)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(i,t);var e,n,r,o=E(i);function i(){var t;S(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return A(C(t=o.call.apply(o,[this].concat(n))),"type",void 0),A(C(t),"mainComponent",void 0),A(C(t),"view",void 0),A(C(t),"timer",void 0),t}return e=i,(n=[{key:"init",value:function(t,e,n){return this.type=t,this.view=e,this.mainComponent=n,_(T(i.prototype),"init",this).call(this),this}},{key:"disableFor",value:function(t){var e=this;this.disable(),this.timer=w((function(){e.enable()}),t)}},{key:"overlapped",value:function(t){this.mainComponent.overlapTriggered(t)}},{key:"viewEnabled",get:function(){return this.view&&this.view.enabled}},{key:"shape",get:function(){return this.view,this.view.shape}},{key:"getViewBounds",value:function(){return this.view.getViewBounds()}},{key:"destroy",value:function(){this.type=void 0,this.mainComponent=null,this.view=void 0,_(T(i.prototype),"destroy",this).call(this)}}])&&P(e.prototype,n),r&&P(e,r),i}(v);n(367);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||M(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=M(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function M(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Y(t);if(e){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}function q(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return z(t)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G,J,W=n(368);!function(t){t[t.CATS=0]="CATS",t[t.ENEMIES=1]="ENEMIES",t[t.BUBBLES=2]="BUBBLES",t[t.BONUSES=3]="BONUSES",t[t.PLAYER=4]="PLAYER"}(G||(G={})),function(t){t[t.BOX=0]="BOX",t[t.CIRCLE=1]="CIRCLE"}(J||(J={}));var X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(i,t);var e,n,r,o=H(i);function i(){var t;L(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return $(z(t=o.call.apply(o,[this].concat(n))),"overlapComponents",new Map),t}return e=i,(n=[{key:"init",value:function(){}},{key:"isCorrectType",value:function(t){return t instanceof B}},{key:"onAdded",value:function(t){this.overlapComponents.get(t.type)||this.overlapComponents.set(t.type,new Map),this.overlapComponents.get(t.type).set(t,null)}},{key:"onRemoved",value:function(t){var e=this.overlapComponents.get(t.type);e&&e.delete(t)}},{key:"update",value:function(t){if(this.components)for(var e in G){var n=this.overlapComponents.get(Number(e));if(n){var r,o=V(n);try{for(o.s();!(r=o.n()).done;){var i=I(r.value,2),u=i[0];if(i[1],u.enabled&&u.viewEnabled)for(var a in G)if(a!==e||a===G.ENEMIES.toString()&&e===G.ENEMIES.toString()){var c=this.overlapComponents.get(Number(a));if(c){var f,l=V(c);try{for(l.s();!(f=l.n()).done;){var s=I(f.value,2),y=s[0];s[1],u.enabled&&u.viewEnabled&&y.enabled&&y.viewEnabled&&y!==u&&this.isIntersects(u,y)&&(u.overlapped(y),y.overlapped(u))}}catch(t){l.e(t)}finally{l.f()}}}}}catch(t){o.e(t)}finally{o.f()}}}}},{key:"isIntersects",value:function(t,e){if(t.shape===J.CIRCLE){var n=t.getViewBounds();if(e.shape===J.CIRCLE){var r=e.getViewBounds();return W.circleCircle(n.x,n.y,n.radius,r.x,r.y,r.radius)}if(e.shape===J.BOX){var o=e.getViewBounds();return W.circleBox(n.x,n.y,n.radius,o.x,o.y,o.width,o.height)}}else if(t.shape===J.BOX){var i=t.getViewBounds();if(e.shape===J.CIRCLE){var u=e.getViewBounds();return W.circleCircle(u.x,u.y,u.radius,i.x,i.y,i.width,i.height)}if(e.shape===J.BOX){var a=e.getViewBounds();return W.boxBox(i.x,i.y,i.width,i.height,a.x,a.y,a.width,a.height)}}return!1}}])&&N(e.prototype,n),r&&N(e,r),i}(y);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=tt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function tt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=it(t)););return t}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=it(t);if(e){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ot(t)}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(u,t);var e,n,r,i=nt(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),ut(ot(t=i.call(this)),"_shape",void 0),ut(ot(t),"_view",void 0),t}return e=u,(n=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J.BOX;return Z(it(u.prototype),"init",this).call(this),this._shape=t,this._view=this.createView(),this}},{key:"view",get:function(){return this._view}},{key:"shape",get:function(){return this._shape}},{key:"getViewBounds",value:function(){if(this.shape===J.CIRCLE)throw new Error("Shape is Circle but bounds are not.");return this.view.getBounds()}},{key:"destroy",value:function(){this.view.scale.set(1,1),this.view.position.set(0,0),Z(it(u.prototype),"destroy",this).call(this)}},{key:"createView",value:function(){return this.view?this.view:new o.b}}])&&Q(e.prototype,n),r&&Q(e,r),u}(v);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function st(){return(st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=yt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function yt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dt(t)););return t}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dt(t);if(e){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bt(t)}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(i,t);var e,n,r,o=ht(i);function i(){var t;ft(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return mt(bt(t=o.call.apply(o,[this].concat(n))),"_data",void 0),mt(bt(t),"mainComponent",void 0),t}return e=i,(n=[{key:"data",get:function(){return this._data}},{key:"init",value:function(t,e){return this._data=t,this.mainComponent=e,st(dt(i.prototype),"init",this).call(this),this}},{key:"getNextPosition",value:function(t){var e=this.getEntity().mainView;return{x:e.position.x+this.data.direction.x*t,y:e.position.y+this.data.direction.y*t}}},{key:"changeDirection",value:function(){var t;this._data.direction.x*=-1,this._data.direction.y*=-1,(null===(t=this.getEntity())||void 0===t?void 0:t.getComponent(at)).view.scale.set(this._data.direction.x<0?-1:1,1)}},{key:"triggered",value:function(){this.mainComponent&&this.mainComponent.moveTriggered()}},{key:"destroy",value:function(){this._data=null,this.mainComponent=void 0,st(dt(i.prototype),"destroy",this).call(this)}}])&&lt(e.prototype,n),r&&lt(e,r),i}(v);function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||jt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,e){if(t){if("string"==typeof t)return St(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(t,e):void 0}}function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e){return(Rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xt(t);if(e){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Et(this,n)}}function Et(t,e){if(e&&("object"===gt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ct=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rt(t,e)}(i,t);var e,n,r,o=kt(i);function i(){return Pt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){}},{key:"isCorrectType",value:function(t){return t instanceof wt}},{key:"update",value:function(t){if(this.components){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=jt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.components);try{for(n.s();!(e=n.n()).done;){var r,o=Ot(e.value,2),i=o[0];if(o[1],i.enabled){var u=null===(r=i.getEntity())||void 0===r?void 0:r.mainView;if(u){var a=i.getNextPosition(t);if(i.data.triggerCondition&&i.data.triggerCondition(a))u.position.copyFrom(a),i.triggered(),i.disable();else if(i.data.clearCondition&&i.data.clearCondition(a)){var c;null===(c=i.getEntity())||void 0===c||c.clear()}else u.position.copyFrom(a)}}}}catch(t){n.e(t)}finally{n.f()}}}}])&&_t(e.prototype,n),r&&_t(e,r),i}(y);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(){return(Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Dt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Dt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lt(t)););return t}function It(t,e){return(It=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lt(t);if(e){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(t,e){if(e&&("object"===Tt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ft(t)}function Ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lt(t){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&It(t,e)}(i,t);var e,n,r,o=Vt(i);function i(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),e=Ft(t),r=void 0,(n="_data")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=i,(n=[{key:"overlapTriggered",value:function(t){var e;t.type!==G.PLAYER&&t.type!==G.BONUSES&&(null===(e=this.getEntity())||void 0===e||e.clear())}},{key:"init",value:function(t){return this._data=t,Bt(Lt(i.prototype),"init",this).call(this),this}},{key:"changeDirection",value:function(){this._data*=-1}},{key:"moveAngle",get:function(){return this._data}},{key:"destroy",value:function(){this._data=void 0,Bt(Lt(i.prototype),"destroy",this).call(this)}}])&&At(e.prototype,n),r&&At(e,r),i}(v);function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zt(){return(zt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Yt(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Yt(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xt(t)););return t}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xt(t);if(e){var o=Xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jt(this,n)}}function Jt(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wt(t)}function Wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Kt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(i,t);var e,n,r,o=Gt(i);function i(){var t;Ht(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Kt(Wt(t=o.call.apply(o,[this].concat(n))),"_data",void 0),t}return e=i,(n=[{key:"data",get:function(){return this._data}},{key:"init",value:function(){return this._data=i.baseData,zt(Xt(i.prototype),"init",this).call(this),this}},{key:"destroy",value:function(){this._data=void 0,zt(Xt(i.prototype),"destroy",this).call(this)}}])&&qt(e.prototype,n),r&&qt(e,r),i}(v);function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ne(){return(ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=re(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function re(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ce(t)););return t}function oe(t,e){return(oe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ce(t);if(e){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ue(this,n)}}function ue(t,e){if(e&&("object"===Zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ae(t)}function ae(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Kt(Qt,"baseData",{x:0,y:-3});var le=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oe(t,e)}(i,t);var e,n,r,o=ie(i);function i(){var t;te(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fe(ae(t=o.call.apply(o,[this].concat(n))),"_data",void 0),t}return e=i,(n=[{key:"data",get:function(){return this._data}},{key:"init",value:function(t){return this._data=t,ne(ce(i.prototype),"init",this).call(this),this}},{key:"destroy",value:function(){this._data=null,ne(ce(i.prototype),"destroy",this).call(this)}},{key:"updatedDataAndGet",value:function(){if(0!==this._data.forceVector.x){var t=this._data.forceVector.x/Math.abs(this._data.forceVector.x);this._data.forceVector.x-=this.data.damping*t,0!==this._data.forceVector.x&&this._data.forceVector.x/Math.abs(this._data.forceVector.x)===t||(this._data.forceVector.x=0)}if(0!==this._data.forceVector.y){var e=this._data.forceVector.y/Math.abs(this._data.forceVector.y);this._data.forceVector.y-=this.data.damping*e,0!==this._data.forceVector.y&&this._data.forceVector.y/Math.abs(this._data.forceVector.y)===e||(this._data.forceVector.y=0)}return this._data}}])&&ee(e.prototype,n),r&&ee(e,r),i}(v);function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pe(){return(pe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=he(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function he(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=we(t)););return t}function ve(t,e){return(ve=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function be(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=we(t);if(e){var o=we(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return de(this,n)}}function de(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return me(t)}function me(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(t){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ve(t,e)}(i,t);var e,n,r,o=be(i);function i(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),e=me(t),r=void 0,(n="spine")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=i,(n=[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return pe(we(i.prototype),"init",this).call(this,J.CIRCLE),this.view.scale.set(t,t),this}},{key:"tint",get:function(){return this.spine.tint},set:function(t){this.spine.tint=t}},{key:"boom",value:function(){this.spine.state.setAnimation(0,"boom",!1)}},{key:"float",value:function(){this.spine.state.setAnimation(0,"float",!0)}},{key:"createView",value:function(){if(this.view)return this.view;var t=pe(we(i.prototype),"createView",this).call(this);return this.spine=new tf.V(Xc.bubble.spineData),t.addChild(this.spine),t}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x,y:t.y,radius:50*this.view.scale.x}}},{key:"destroy",value:function(){this.tint=16777215,this.spine.state.setEmptyAnimations(0),this.spine.state.clearTrack(0),this.spine.lastTime=null,this.spine.skeleton.setToSetupPose(),pe(we(i.prototype),"destroy",this).call(this)}}])&&ye(e.prototype,n),r&&ye(e,r),i}(at);function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(){return(Se="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Pe(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Pe(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xe(t)););return t}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xe(t);if(e){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ke(this,n)}}function ke(t,e){if(e&&("object"===Oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ee(t)}function Ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xe(t){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(i,t);var e,n,r,o=Re(i);function i(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),e=Ee(t),r=void 0,(n="spine")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=i,(n=[{key:"init",value:function(){return Se(xe(i.prototype),"init",this).call(this,J.CIRCLE),this}},{key:"float",value:function(){this.spine.state.setAnimation(0,"float",!0)}},{key:"sink",value:function(){this.spine.state.setAnimation(0,"sink",!0)}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x,y:t.y,radius:30}}},{key:"createView",value:function(){if(this.view)return this.sink(),this.view;var t=Se(xe(i.prototype),"createView",this).call(this);return this.spine=new tf.V(Xc.fish0.spineData),t.addChild(this.spine),this.spine.stateData.setMix("sink","float",.1),this.spine.stateData.setMix("float","sink",.1),this.sink(),t}},{key:"destroy",value:function(){this.spine.state.setEmptyAnimations(0),this.spine.state.clearTrack(0),this.spine.lastTime=null,this.spine.skeleton.setToSetupPose(),Se(xe(i.prototype),"destroy",this).call(this)}}])&&je(e.prototype,n),r&&je(e,r),i}(at);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Be(){return(Be="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=De(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function De(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Le(t)););return t}function Ie(t,e){return(Ie=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ve(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Le(t);if(e){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(t,e){if(e&&("object"===Te(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fe(t)}function Fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(t){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ue=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ie(t,e)}(i,t);var e,n,r,o=Ve(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ne(Fe(t=o.call(this)),"timer",void 0),Ne(Fe(t),"impulseData",void 0),Ne(Fe(t),"enemyTypeData",void 0),Ne(Fe(t),"bonus",void 0),t}return e=i,(n=[{key:"init",value:function(t,e){return this.enemyTypeData=t,this.bonus=e,this.impulseData={x:Math.random()<.5?-5:5,y:-7},Be(Le(i.prototype),"init",this).call(this),this}},{key:"save",value:function(){this.bonus>=0&&cf.bonusCreate.emit(this.getEntity().mainView.position.x,this.bonus)}},{key:"overlapTriggered",value:function(t){var e,n,r=t.type,o=null===(e=this.getEntity())||void 0===e?void 0:e.getComponent(wt),u=null===(n=this.getEntity())||void 0===n?void 0:n.getComponent(Qt);if(r===G.BUBBLES){if(o.enabled&&this.enemyTypeData.bubbled){var a,c,f,l;o.disable(),null===(a=this.getEntity())||void 0===a||a.addComponent(Kc.obtain(Qt).init());var s=Kc.obtain(ge);null===(c=this.getEntity())||void 0===c||c.addComponent(s.init()),s.tint=8060918,s.float(),null===(f=this.getEntity())||void 0===f||null===(l=f.getComponent(Ce))||void 0===l||l.float()}if(this.enemyTypeData.impulsed){var y,p,h=null===(y=t.getEntity())||void 0===y?void 0:y.getComponent(Nt),v={damping:.4,forceVector:{x:0,y:-10}};h&&(v.forceVector.x=10*Math.sin(h.moveAngle),v.forceVector.y=10*Math.cos(h.moveAngle)),null===(p=this.getEntity())||void 0===p||p.addComponent(Kc.obtain(le).init(v))}}else if(r===G.ENEMIES&&u&&u.enabled){var b,d,m,w,g,O,j,S;o.enable(),null===(b=this.getEntity())||void 0===b||b.removeComponent(u);var P=null===(d=this.getEntity())||void 0===d?void 0:d.getComponent(ge);cf.createFakeBubble.emit({pos:null===(m=this.getEntity())||void 0===m?void 0:m.mainView.position,scale:P.view.scale.x,tint:P.tint}),null===(w=this.getEntity())||void 0===w||null===(g=w.getComponent(Ce))||void 0===g||g.sink(),null===(O=this.getEntity())||void 0===O||O.removeComponent(P);var _=null===(j=t.getEntity())||void 0===j?void 0:j.getComponent(i),R=null===(S=t.getEntity())||void 0===S?void 0:S.getComponent(wt);R&&_.enemyTypeData.changeDirection&&R.changeDirection()}}},{key:"destroy",value:function(){this.bonus=void 0,window.clearTimeout(this.timer),Be(Le(i.prototype),"destroy",this).call(this)}}])&&Ae(e.prototype,n),r&&Ae(e,r),i}(v);function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ze(){return(ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Ye(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Ye(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Xe(t)););return t}function $e(t,e){return($e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xe(t);if(e){var o=Xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Je(this,n)}}function Je(t,e){if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return We(t)}function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$e(t,e)}(i,t);var e,n,r,o=Ge(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Ke(We(t=o.call(this)),"_lives",void 0),Ke(We(t),"timer",void 0),Ke(We(t),"catView",void 0),Ke(We(t),"bonus",void 0),t}return e=i,(n=[{key:"lives",get:function(){return this._lives}},{key:"init",value:function(t,e){return this.bonus=e,this._lives=1,this.catView=t,ze(Xe(i.prototype),"init",this).call(this),this}},{key:"save",value:function(){this.bonus>=0&&cf.bonusCreate.emit(this.catView.position.x,this.bonus),cf.catSaved.emit(this.lives)}},{key:"moveTriggered",value:function(){var t=this;this.catView.startLosing(),this.catView.showLives(this._lives),this.timer=window.setInterval((function(){var e;(null===(e=t.getEntity())||void 0===e?void 0:e.getComponent(ge))?window.clearInterval(t.timer):(t._lives--,t.catView.showLives(t._lives),t._lives<=0&&(window.clearInterval(t.timer),cf.gameOver.emit()))}),1e3)}},{key:"overlapTriggered",value:function(t){var e,n,r=t.type,o=null===(e=this.getEntity())||void 0===e?void 0:e.getComponent(wt),i=null===(n=this.getEntity())||void 0===n?void 0:n.getComponent(ge);if(r===G.BUBBLES){var u,a=null===(u=t.getEntity())||void 0===u?void 0:u.getComponent(Nt),c={damping:.4,forceVector:{x:0,y:-10}};if(a&&(c.forceVector.x=10*Math.sin(a.moveAngle),c.forceVector.y=10*Math.cos(a.moveAngle)),o.enabled&&this.catView.position.y>80||!o.enabled&&!i){var f,l,s;window.clearInterval(this.timer),o.disable(),null===(f=this.getEntity())||void 0===f||f.addComponent(Kc.obtain(Qt).init()),null===(l=this.getEntity())||void 0===l||l.addComponent(Kc.obtain(le).init(c));var y=Kc.obtain(ge).init(.8);y.view.position.y=-35,null===(s=this.getEntity())||void 0===s||s.addComponent(y),y.float(),this.catView.hideLives(),this.catView.putInBubble()}else if(!o.enabled&&i){var p;null===(p=this.getEntity())||void 0===p||p.addComponent(Kc.obtain(le).init(c))}}else if(r===G.ENEMIES&&!o.enabled&&i){var h,v,b,d=null===(h=t.getEntity())||void 0===h?void 0:h.getComponent(Ue),m=null===(v=t.getEntity())||void 0===v?void 0:v.getComponent(wt);d&&m&&m.enabled&&(this.boomBubble(o,i),(null===(b=t.getEntity())||void 0===b?void 0:b.getComponent(B)).disableFor(1),d.enemyTypeData.changeDirection&&m.changeDirection())}}},{key:"boomBubble",value:function(t,e){var n,r,o,i,u,a,c;t||(t=null===(a=this.getEntity())||void 0===a?void 0:a.getComponent(wt)),e||(e=null===(c=this.getEntity())||void 0===c?void 0:c.getComponent(ge)),t.data.direction.y=3,t.enable(),null===(n=this.getEntity())||void 0===n||n.removeComponent(null===(r=this.getEntity())||void 0===r?void 0:r.getComponent(Qt));var f={x:null===(o=this.getEntity())||void 0===o?void 0:o.mainView.position.x,y:(null===(i=this.getEntity())||void 0===i?void 0:i.mainView.position.y)-35};cf.createFakeBubble.emit({pos:f,scale:e.view.scale.x,tint:e.tint}),null===(u=this.getEntity())||void 0===u||u.removeComponent(e),this.catView.sink()}},{key:"destroy",value:function(){this.bonus=void 0,window.clearInterval(this.timer),ze(Xe(i.prototype),"destroy",this).call(this)}}])&&qe(e.prototype,n),r&&qe(e,r),i}(v);function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||en(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(t,e){if(t){if("string"==typeof t)return nn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nn(t,e):void 0}}function nn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function un(t,e){return(un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function an(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fn(t);if(e){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cn(this,n)}}function cn(t,e){if(e&&("object"===Ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fn(t){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ln=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&un(t,e)}(i,t);var e,n,r,o=an(i);function i(){return rn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){}},{key:"isCorrectType",value:function(t){return t instanceof Qt}},{key:"update",value:function(t){if(this.components){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=en(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.components);try{for(n.s();!(e=n.n()).done;){var r,o=tn(e.value,2),i=o[0];if(o[1],i.enabled){var u=null===(r=i.getEntity())||void 0===r?void 0:r.mainView;if(u&&(u.position.x+=i.data.x*t,u.position.y+=i.data.y*t,u.position.y<-50)){var a,c,f,l=null===(a=i.getEntity())||void 0===a?void 0:a.getComponent(Qe);l&&l.save();var s=null===(c=i.getEntity())||void 0===c?void 0:c.getComponent(Ue);s&&s.save(),null===(f=i.getEntity())||void 0===f||f.clear()}}}}catch(t){n.e(t)}finally{n.f()}}}}])&&on(e.prototype,n),r&&on(e,r),i}(y);function sn(t){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pn(t,e){return(pn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dn(t);if(e){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vn(this,n)}}function vn(t,e){if(e&&("object"===sn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bn(t)}function bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var mn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pn(t,e)}(i,t);var e,n,r,o=hn(i);function i(t){var e,n,r,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),n=bn(e),u=void 0,(r="gameContainer")in n?Object.defineProperty(n,r,{value:u,enumerable:!0,configurable:!0,writable:!0}):n[r]=u,e.gameContainer=t,e}return e=i,(n=[{key:"init",value:function(){}},{key:"entityAdded",value:function(t){this.gameContainer.addChild(t.mainView)}},{key:"entityRemoved",value:function(t){this.gameContainer.removeChild(t.mainView)}},{key:"onAdded",value:function(t){t.getEntity().mainView.addChild(t.view)}},{key:"onRemoved",value:function(t){t.getEntity().mainView.removeChild(t.view)}},{key:"isCorrectType",value:function(t){return t instanceof at}}])&&yn(e.prototype,n),r&&yn(e,r),i}(y);function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var On=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),gn(this,"ctor",void 0),gn(this,"objects",[])}var e,n,r;return e=t,(n=[{key:"init",value:function(t,e){this.ctor=t;for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];for(var i=0;i<e;i++)this.release(this.createNewInstance.apply(this,r));return this}},{key:"obtain",value:function(){return this.objects.pop()||this.createNewInstance.apply(this,arguments)}},{key:"release",value:function(){var t;(t=this.objects).push.apply(t,arguments)}},{key:"length",get:function(){return this.objects.length}}])&&wn(e.prototype,n),r&&wn(e,r),t}();function jn(t){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _n(){return(_n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Rn(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Rn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tn(t)););return t}function kn(t,e){return(kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function En(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tn(t);if(e){var o=Tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xn(this,n)}}function xn(t,e){if(e&&("object"===jn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Cn(t)}function Cn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function An(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kn(t,e)}(i,t);var e,n,r,o=En(i);function i(){var t;Sn(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return An(Cn(t=o.call.apply(o,[this].concat(n))),"bonusId",void 0),t}return e=i,(n=[{key:"init",value:function(t){return this.bonusId=t,_n(Tn(i.prototype),"init",this).call(this),this}},{key:"overlapTriggered",value:function(t){var e;t.type===G.PLAYER&&(cf.applyBonus.emit(this.bonusId),null===(e=this.getEntity())||void 0===e||e.clear())}}])&&Pn(e.prototype,n),r&&Pn(e,r),i}(v);function Dn(t){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function In(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vn(){return(Vn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Mn(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Mn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hn(t)););return t}function Fn(t,e){return(Fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Hn(t);if(e){var o=Hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(t,e){if(e&&("object"===Dn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Un(t)}function Un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hn(t){return(Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)}(i,t);var e,n,r,o=Ln(i);function i(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),e=Un(t),r=void 0,(n="spine")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=i,(n=[{key:"init",value:function(){return Vn(Hn(i.prototype),"init",this).call(this,J.CIRCLE),this}},{key:"float",value:function(){this.spine.state.setAnimation(0,"float",!1)}},{key:"jump",value:function(){this.spine.state.setAnimation(0,"jump",!1)}},{key:"moving",value:function(){this.spine.state.setAnimation(0,"moving",!0)}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x,y:t.y,radius:50}}},{key:"createView",value:function(){if(this.view)return this.float(),this.view;var t=Vn(Hn(i.prototype),"createView",this).call(this);return this.spine=new tf.V(Xc.jelly.spineData),t.addChild(this.spine),this.spine.state.addListener({complete:this.onAnimationComplete.bind(this)}),this.float(),t}},{key:"destroy",value:function(){this.spine.state.setEmptyAnimations(0),this.spine.state.clearTrack(0),this.spine.lastTime=null,this.spine.skeleton.setToSetupPose(),Vn(Hn(i.prototype),"destroy",this).call(this)}},{key:"onAnimationComplete",value:function(t){var e;switch(t.animation.name){case"float":(null===(e=this.getEntity())||void 0===e?void 0:e.getComponent(er)).changeDirection(),this.jump();break;case"jump":this.moving()}}}])&&In(e.prototype,n),r&&In(e,r),i}(at);function zn(t){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(){return(Gn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Jn(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Jn(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zn(t)););return t}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zn(t);if(e){var o=Zn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(t,e){if(e&&("object"===zn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Qn(t)}function Qn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var er=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(i,t);var e,n,r,o=Xn(i);function i(){var t;Yn(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return tr(Qn(t=o.call.apply(o,[this].concat(n))),"timer",void 0),tr(Qn(t),"save",void 0),t}return e=i,(n=[{key:"init",value:function(t,e){var n,r,o,u,a=this;return Gn(Zn(i.prototype),"init",this).call(this,t,e),this.save=this.data.direction,this.timer=(n=function(){a.stopMoving()},r=2e3,o=0,u=function(){(o+=16.6)>=r&&(o=0,n())},b.b.shared.add(u),d.push(u),u),this}},{key:"getNextPosition",value:function(t){var e=this.getEntity().mainView;return{x:e.position.x+this.data.direction.x*t,y:e.position.y+this.data.direction.y*t}}},{key:"stopMoving",value:function(){var t;this.save=this.data.direction,this.data.direction={x:0,y:0},(null===(t=this.getEntity())||void 0===t?void 0:t.getComponent(qn)).float()}},{key:"changeDirection",value:function(){this.data.direction=this.save}},{key:"destroy",value:function(){var t;(t=this.timer)&&b.b.shared.remove(t),Gn(Zn(i.prototype),"destroy",this).call(this)}}])&&$n(e.prototype,n),r&&$n(e,r),i}(wt);function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function or(){return(or="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ir(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ir(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fr(t)););return t}function ur(t,e){return(ur=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fr(t);if(e){var o=fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(t,e){if(e&&("object"===nr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fr(t){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var lr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ur(t,e)}(i,t);var e,n,r,o=ar(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"overlapTriggered",value:function(t){var e,n,r=t.type,o=null===(e=t.getEntity())||void 0===e?void 0:e.getComponent(Qt),i=null===(n=t.getEntity())||void 0===n?void 0:n.getComponent(Ue);r!==G.ENEMIES||!i.enemyTypeData.killPlayer||o&&o.enabled||cf.gameOver.emit()}},{key:"init",value:function(){return or(fr(i.prototype),"init",this).call(this),this}}])&&rr(e.prototype,n),r&&rr(e,r),i}(v),sr=n(3),yr=n(19);function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(){return(vr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=br(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function br(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gr(t)););return t}function dr(t,e){return(dr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gr(t);if(e){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wr(this,n)}}function wr(t,e){if(e&&("object"===pr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Or=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dr(t,e)}(i,t);var e,n,r,o=mr(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"createView",value:function(){if(this.view)return this.view;var t=vr(gr(i.prototype),"createView",this).call(this),e=yr.a.from(sr.q.from("back"));return t.addChild(e),t}}])&&hr(e.prototype,n),r&&hr(e,r),i}(at),jr=n(22);function Sr(t){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rr(){return(Rr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=kr(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function kr(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Tr(t)););return t}function Er(t,e){return(Er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Tr(t);if(e){var o=Tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cr(this,n)}}function Cr(t,e){if(e&&("object"===Sr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tr(t){return(Tr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ar=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Er(t,e)}(i,t);var e,n,r,o=xr(i);function i(){return Pr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){return Rr(Tr(i.prototype),"init",this).call(this,J.CIRCLE),this}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x,y:t.y,radius:20}}}])&&_r(e.prototype,n),r&&_r(e,r),i}(at);function Br(t){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(){return(Vr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Mr(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Mr(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ur(t)););return t}function Fr(t,e){return(Fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ur(t);if(e){var o=Ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nr(this,n)}}function Nr(t,e){if(e&&("object"===Br(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ur(t){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fr(t,e)}(i,t);var e,n,r,o=Lr(i);function i(){return Dr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"createView",value:function(){if(this.view)return this.view;var t=Vr(Ur(i.prototype),"createView",this).call(this),e=new jr.a;return e.beginFill(16711935,.5),e.drawCircle(0,0,20),e.endFill(),t.addChild(e),t}}])&&Ir(e.prototype,n),r&&Ir(e,r),i}(Ar);function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $r(){return($r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Gr(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Gr(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Kr(t)););return t}function Jr(t,e){return(Jr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kr(t);if(e){var o=Kr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xr(this,n)}}function Xr(t,e){if(e&&("object"===qr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Kr(t){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jr(t,e)}(i,t);var e,n,r,o=Wr(i);function i(){return zr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"createView",value:function(){if(this.view)return this.view;var t=$r(Kr(i.prototype),"createView",this).call(this),e=new jr.a;return e.beginFill(16711680,.6),e.drawCircle(0,0,20),e.endFill(),t.addChild(e),t}}])&&Yr(e.prototype,n),r&&Yr(e,r),i}(Ar);function Zr(t){return(Zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function to(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function no(){return(no="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ro(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ro(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=co(t)););return t}function oo(t,e){return(oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function io(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=co(t);if(e){var o=co(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uo(this,n)}}function uo(t,e){if(e&&("object"===Zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ao(t)}function ao(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function co(t){return(co=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oo(t,e)}(i,t);var e,n,r,o=io(i);function i(){var t;to(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fo(ao(t=o.call.apply(o,[this].concat(n))),"animation",void 0),fo(ao(t),"goingCrazy",void 0),fo(ao(t),"playStartAnimation",void 0),t}return e=i,(n=[{key:"position",get:function(){var t;return null===(t=this.getEntity())||void 0===t?void 0:t.mainView.position}},{key:"init",value:function(){return no(co(i.prototype),"init",this).call(this,J.CIRCLE),this}},{key:"createView",value:function(){var t=no(co(i.prototype),"createView",this).call(this);return this.createSpine(),t.addChild(this.animation),t}},{key:"destroy",value:function(){this.animation.state.setEmptyAnimations(0),this.animation.state.clearTrack(0),this.animation.lastTime=null,this.animation.skeleton.setToSetupPose(),no(co(i.prototype),"destroy",this).call(this)}},{key:"showLives",value:function(t){}},{key:"hideLives",value:function(){}},{key:"putInBubble",value:function(){this.animation.state.setAnimation(0,"in_bubble",!0)}},{key:"sink",value:function(){this.animation.state.setAnimation(0,"sink",!0)}},{key:"startLosing",value:function(){this.animation.state.setAnimation(0,"losing",!0)}},{key:"startCrazy",value:function(){this.animation.state.setAnimation(0,"crazy",!1)}},{key:"createSpine",value:function(){this.createMixes(),this.createEvents()}},{key:"createEvents",value:function(){this.animation.state.addListener({complete:this.onAnimationComplete.bind(this)})}},{key:"createMixes",value:function(){this.animation.stateData.setMix("drop","sink",.1),this.animation.stateData.setMix("sink","in_bubble",.1),this.animation.stateData.setMix("in_bubble","sink",.1),this.animation.stateData.setMix("sink","losing",.2),this.animation.stateData.setMix("losing","in_bubble",.1),this.animation.stateData.setMix("sink2","crazy",.1),this.animation.stateData.setMix("crazy","sink",.1)}},{key:"onAnimationComplete",value:function(t){var e=this;switch(t.animation.name){case"drop":this.sink();break;case"crazy":w((function(){var t,n=null===(t=e.getEntity())||void 0===t?void 0:t.getComponent(Qe);null==n||n.boomBubble()}),65)}}}])&&eo(e.prototype,n),r&&eo(e,r),i}(at);function so(t){return(so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function po(){return(po="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ho(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ho(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=wo(t)););return t}function vo(t,e){return(vo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wo(t);if(e){var o=wo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mo(this,n)}}function mo(t,e){if(e&&("object"===so(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wo(t){return(wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var go=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vo(t,e)}(i,t);var e,n,r,o=bo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"createSpine",value:function(){this.animation||(this.animation=new tf.V(Xc.cat.spineData),po(wo(i.prototype),"createSpine",this).call(this)),this.animation.scale.set(.7,.7),this.playStartAnimation?this.animation.state.setAnimation(0,"drop",!1):this.sink()}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x,y:t.y,radius:30}}}])&&yo(e.prototype,n),r&&yo(e,r),i}(lo);function Oo(t){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function So(){return(So="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Po(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Po(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=xo(t)););return t}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ro(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=xo(t);if(e){var o=xo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ko(this,n)}}function ko(t,e){if(e&&("object"===Oo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Eo(t)}function Eo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xo(t){return(xo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}(i,t);var e,n,r,o=Ro(i);function i(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),e=Eo(t),r=void 0,(n="step")in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t}return e=i,(n=[{key:"init",value:function(){return this.step=0,So(xo(i.prototype),"init",this).call(this),this}},{key:"sink",value:function(){0===this.step?this.animation.state.setAnimation(0,"sink2",!0):So(xo(i.prototype),"sink",this).call(this)}},{key:"putInBubble",value:function(){this.step++,1===this.step?this.startCrazy():So(xo(i.prototype),"putInBubble",this).call(this)}},{key:"createSpine",value:function(){this.animation||(this.animation=new tf.V(Xc.cat.spineData),So(xo(i.prototype),"createSpine",this).call(this)),this.animation.scale.set(.7,.7),this.playStartAnimation?this.animation.state.setAnimation(0,"drop",!1):this.sink()}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x,y:t.y,radius:30}}},{key:"destroy",value:function(){this.step=0,So(xo(i.prototype),"destroy",this).call(this)}}])&&jo(e.prototype,n),r&&jo(e,r),i}(lo);function To(t){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bo(){return(Bo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Do(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Do(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Fo(t)););return t}function Io(t,e){return(Io=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Vo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fo(t);if(e){var o=Fo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mo(this,n)}}function Mo(t,e){if(e&&("object"===To(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Fo(t){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Io(t,e)}(i,t);var e,n,r,o=Vo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"init",value:function(){return Bo(Fo(i.prototype),"init",this).call(this,J.BOX),this}},{key:"createView",value:function(){if(this.view)return this.view;var t=Bo(Fo(i.prototype),"createView",this).call(this),e=new tf.V(Xc.enemy0.spineData);return t.addChild(e),t}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x-5,y:t.y-15,width:10,height:30}}}])&&Ao(e.prototype,n),r&&Ao(e,r),i}(at);function No(t){return(No="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ho(){return(Ho="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=qo(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function qo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Go(t)););return t}function zo(t,e){return(zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Go(t);if(e){var o=Go(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $o(this,n)}}function $o(t,e){if(e&&("object"===No(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Go(t){return(Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jo=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zo(t,e)}(i,t);var e,n,r,o=Yo(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"createView",value:function(){if(this.view)return this.view;var t=Ho(Go(i.prototype),"createView",this).call(this),e=yr.a.from(sr.q.WHITE);e.tint=0,e.width=60,e.height=100,e.anchor.set(.5,0),t.addChild(e);var n=yr.a.from(sr.q.WHITE);return n.tint=16776960,n.width=60,n.height=10,n.anchor.set(.5,0),n.position.set(0,100),t.addChild(n),t}}])&&Uo(e.prototype,n),r&&Uo(e,r),i}(at);function Wo(t){return(Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ko(){return(Ko="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=Qo(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function Qo(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ni(t)););return t}function Zo(t,e){return(Zo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ni(t);if(e){var o=ni(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ei(this,n)}}function ei(t,e){if(e&&("object"===Wo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ni(t){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ri=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zo(t,e)}(i,t);var e,n,r,o=ti(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"init",value:function(){return Ko(ni(i.prototype),"init",this).call(this,J.CIRCLE),this}},{key:"float",value:function(){}},{key:"sink",value:function(){}},{key:"getViewBounds",value:function(){var t=this.view.toGlobal({x:0,y:0});return{x:t.x,y:t.y,radius:50}}},{key:"createView",value:function(){if(this.view)return this.sink(),this.view;var t=Ko(ni(i.prototype),"createView",this).call(this),e=yr.a.from(sr.q.WHITE);e.scale.set(.5,.5),e.anchor.set(.5,.5),t.addChild(e);var n=new jr.a;return n.beginFill(0,1),n.drawEllipse(0,0,50,60),n.endFill(),t.addChild(n),e.mask=n,this.sink(),t}},{key:"destroy",value:function(){Ko(ni(i.prototype),"destroy",this).call(this)}}])&&Xo(e.prototype,n),r&&Xo(e,r),i}(at),oi=n(17);function ii(t){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ui(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ci(){return(ci="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=fi(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function fi(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=hi(t)););return t}function li(t,e){return(li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function si(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hi(t);if(e){var o=hi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yi(this,n)}}function yi(t,e){if(e&&("object"===ii(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pi(t)}function pi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hi(t){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&li(t,e)}(i,t);var e,n,r,o=si(i);function i(){var t;ui(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return vi(pi(t=o.call.apply(o,[this].concat(n))),"txt",void 0),t}return e=i,(n=[{key:"createView",value:function(){if(this.view)return this.view;var t=ci(hi(i.prototype),"createView",this).call(this);return this.txt=new oi.b("0",{fill:"#000000",fontSize:"40px"}),this.txt.position.set(10,10),t.addChild(this.txt),t}},{key:"setScore",value:function(t){this.txt.text=t.toString()}}])&&ai(e.prototype,n),r&&ai(e,r),i}(at);function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gi(t,e){return(gi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Si(t);if(e){var o=Si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ji(this,n)}}function ji(t,e){if(e&&("object"===di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Si(t){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gi(t,e)}(i,t);var e,n,r,o=Oi(i);function i(){return mi(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"print",value:function(){console.log(this.objects.length)}},{key:"createNewInstance",value:function(){return new this.ctor}}])&&wi(e.prototype,n),r&&wi(e,r),i}(On);function _i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ri=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=void 0,(n="pools")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.pools=new Map,this.pools.set(wt,(new Pi).init(wt,10)),this.pools.set(lr,(new Pi).init(lr,1)),this.pools.set(er,(new Pi).init(er,3)),this.pools.set(le,(new Pi).init(le,10)),this.pools.set(Qt,(new Pi).init(Qt,10)),this.pools.set(Ue,(new Pi).init(Ue,10)),this.pools.set(Qe,(new Pi).init(Qe,10)),this.pools.set(Nt,(new Pi).init(Nt,10)),this.pools.set(B,(new Pi).init(B,10)),this.pools.set(Bn,(new Pi).init(Bn,4)),this.pools.set(Ce,(new Pi).init(Ce,6)),this.pools.set(Jo,(new Pi).init(Jo,1)),this.pools.set(qn,(new Pi).init(qn,10)),this.pools.set(Lo,(new Pi).init(Lo,4)),this.pools.set(ri,(new Pi).init(ri,4)),this.pools.set(go,(new Pi).init(go,10)),this.pools.set(Co,(new Pi).init(Co,10)),this.pools.set(ge,(new Pi).init(ge,20)),this.pools.set(Hr,(new Pi).init(Hr,2)),this.pools.set(Qr,(new Pi).init(Qr,2)),this.pools.set(Or,(new Pi).init(Or,1)),this.pools.set(bi,(new Pi).init(bi,1))}var e,n,r;return e=t,(n=[{key:"obtain",value:function(t){return this.getPool(t).obtain()}},{key:"release",value:function(t){this.getPool(t.constructor).release(t)}},{key:"getLength",value:function(t){return this.getPool(t).length}},{key:"getPool",value:function(t){var e=this.pools.get(t);if(!e)throw new Error("No pool for ".concat(t));return e}}])&&_i(e.prototype,n),r&&_i(e,r),t}();function ki(t){return(ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ei(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ci(t,e){return(Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bi(t);if(e){var o=Bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ai(this,n)}}function Ai(t,e){if(e&&("object"===ki(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bi(t){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Di=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(i,t);var e,n,r,o=Ti(i);function i(){return Ei(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"createNewInstance",value:function(){return new Li}}])&&xi(e.prototype,n),r&&xi(e,r),i}(On);function Ii(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Vi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function Vi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Li=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Fi(this,"mainView",void 0),Fi(this,"components",void 0),this.components=[],this.mainView=new o.b}var e,n,r;return e=t,r=[{key:"create",value:function(){var t=this.pool.obtain();return this.active.push(t),cf.entityAdded.emit(t),t}},{key:"remove",value:function(e){this.active.splice(this.active.indexOf(e),1),t.pool.release(e)}},{key:"clearAll",value:function(){for(var t=this.active.length-1;t>=0;t--)this.active[t].clear()}}],(n=[{key:"addComponent",value:function(t){t.setEntity(this),this.components.push(t),cf.componentAdded.emit(t)}},{key:"removeComponent",value:function(e){if(e){var n=this.components.indexOf(e);n>=0&&this.components.splice(n,1),cf.componentRemoved.emit(e),e.destroy(),0===this.components.length&&(cf.entityRemoved.emit(this),this.mainView.removeChildren(),this.mainView.rotation=0,this.mainView.position.set(0,0),t.remove(this))}}},{key:"getComponent",value:function(t){var e,n=Ii(this.components);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof t)return r}}catch(t){n.e(t)}finally{n.f()}}},{key:"getAllComponents",value:function(t){var e,n=[],r=Ii(this.components);try{for(r.s();!(e=r.n()).done;){var o=e.value;o instanceof t&&n.push(o)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"clear",value:function(){for(var t=this.components.length-1;t>=0;t--)this.removeComponent(this.components[t]);this.components=[]}}])&&Mi(e.prototype,n),r&&Mi(e,r),t}();function Ni(t){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ui(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||Hi(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hi(t,e){if(t){if("string"==typeof t)return qi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(t,e):void 0}}function qi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $i(t,e){return($i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Xi(t);if(e){var o=Xi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ji(this,n)}}function Ji(t,e){if(e&&("object"===Ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}function Wi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xi(t){return(Xi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ki(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Fi(Li,"pool",(new Di).init(Li,30)),Fi(Li,"active",[]);var Qi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$i(t,e)}(i,t);var e,n,r,o=Gi(i);function i(){var t;zi(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ki(Wi(t=o.call.apply(o,[this].concat(n))),"startPos",void 0),t}return e=i,(n=[{key:"init",value:function(){this.startPos={x:.5*of,y:uf-60}}},{key:"isCorrectType",value:function(t){return t instanceof Nt}},{key:"createFakeBubble",value:function(t){var e=Li.create();e.mainView.position.copyFrom(t.pos);var n=Kc.obtain(ge);e.addComponent(n.init(t.scale)),n.tint=t.tint,n.boom(),w((function(){e.clear()}),300)}},{key:"createBubble",value:function(t,e){var n=Li.create();n.mainView.position.copyFrom(t);var r=Kc.obtain(Nt),o=Kc.obtain(ge);n.addComponent(o.init(.5)),n.addComponent(r.init(e)),n.addComponent(Kc.obtain(B).init(G.BUBBLES,o,r))}},{key:"update",value:function(t){if(this.components){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Hi(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.components);try{for(n.s();!(e=n.n()).done;){var r=Ui(e.value,2),o=r[0];if(r[1],o.enabled){var i=o.getEntity().mainView,u=i.position.x+15*Math.sin(o.moveAngle)*t,a=i.position.y+15*Math.cos(o.moveAngle)*t;if(i.position.set(u,a),u<15||u>of-15)o.changeDirection();else if(a<0||u>uf){var c;null===(c=o.getEntity())||void 0===c||c.clear()}}}}catch(t){n.e(t)}finally{n.f()}}}}])&&Yi(e.prototype,n),r&&Yi(e,r),i}(y);function Zi(t){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return eu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eu(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function eu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ru(){return(ru="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=ou(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}}).apply(this,arguments)}function ou(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fu(t)););return t}function iu(t,e){return(iu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fu(t);if(e){var o=fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return au(this,n)}}function au(t,e){if(e&&("object"===Zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return cu(t)}function cu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fu(t){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var su=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&iu(t,e)}(i,t);var e,n,r,o=uu(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),lu(cu(e=o.call(this)),"gameContainer",void 0),lu(cu(e),"progress",-1),lu(cu(e),"bubbleDelay",void 0),lu(cu(e),"mouseData",void 0),lu(cu(e),"player",void 0),lu(cu(e),"currentRotation",void 0),lu(cu(e),"ready",void 0),lu(cu(e),"bonusTimer",void 0),lu(cu(e),"startingPointsID",void 0),e.startingPointsID=0,e.ready=!1,e.gameContainer=t,t.interactive=!0;var n=new jr.a;return n.beginFill(1118481,1),n.drawRect(0,0,of,uf),n.endFill(),t.addChild(n),t.on("pointerdown",e.onStagePressed,cu(e)),t.on("pointerup",e.onStageReleased,cu(e)),e}return e=i,(n=[{key:"init",value:function(){this.progress=-1,this.bubbleDelay=500}},{key:"levelStart",value:function(){this.ready=!0}},{key:"onAdded",value:function(t){this.player=t,ru(fu(i.prototype),"onAdded",this).call(this,t)}},{key:"levelCompleted",value:function(){}},{key:"applyBonus",value:function(t){var e=this;switch(t){case 0:this.startingPointsID=0,g(this.bonusTimer),this.bubbleDelay=100,this.bonusTimer=w((function(){e.bubbleDelay=500}),5e3);break;case 1:this.startingPointsID=1,g(this.bonusTimer),this.bubbleDelay=300,this.bonusTimer=w((function(){e.startingPointsID=0,e.bubbleDelay=500}),5e3)}}},{key:"update",value:function(){if(this.ready&&-1!==this.progress){if(this.mouseData){var t=this.mouseData.getLocalPosition(this.gameContainer);this.updatePlayerRotation(t)}this.progress+=b.b.shared.elapsedMS,this.progress>=this.bubbleDelay&&(this.progress=this.mouseData?0:-1,this.mouseData&&this.shoot())}}},{key:"isCorrectType",value:function(t){return t instanceof lr}},{key:"updatePlayerRotation",value:function(t){var e=this.player.getEntity().mainView,n=e.position,r=n.x,o=n.y,i=Math.atan2(t.x-r,t.y-o);i>=-2.1&&i<=2.1||(this.currentRotation=i,e.rotation=-this.currentRotation);var u=e.position.x;u+=.15*(t.x-u),e.position.x=u}},{key:"shoot",value:function(){var t,e=this.player.getEntity().mainView,n=tu(i.startPoints[this.startingPointsID]);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=e.position.clone(),u=this.currentRotation+r.r;o.x+=(120+r.x)*Math.sin(u),o.y+=(120+r.y)*Math.cos(u),cf.createBubble.emit(o,u)}}catch(t){n.e(t)}finally{n.f()}}},{key:"onStageReleased",value:function(t){this.ready&&(this.mouseData=null)}},{key:"onStagePressed",value:function(t){this.ready&&(this.mouseData=t.data,-1===this.progress&&(this.progress=1e5))}},{key:"destroy",value:function(){g(this.bonusTimer),this.bonusTimer=void 0,ru(fu(i.prototype),"destroy",this).call(this)}}])&&nu(e.prototype,n),r&&nu(e,r),i}(y);function yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}lu(su,"startPoints",[[{x:0,y:0,r:0}],[{x:-20,y:-20,r:-30*b.a},{x:0,y:0,r:0},{x:20,y:-20,r:30*b.a}]]);var hu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"reset",value:function(){this.currentLevel=0}},{key:"nextLevel",value:function(){return this.currentLevel++,this.currentLevel}},{key:"getLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.currentLevel;if(!(e<0||e>=this.levels.length))return this.currentLevel=e,this.levels[e]}}],(n=null)&&yu(e.prototype,n),r&&yu(e,r),t}();function vu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}pu(hu,"currentLevel",0),pu(hu,"levels",[{id:0,waves:[{delay:0,cats:[{spots:[5],delay:.5,types:0},{spots:[4],delay:2,types:0},{spots:[6],delay:4,types:0},{spots:[4],delay:7,types:0},{spots:[6],delay:8,types:0},{spots:[4,6],delay:12,types:0},{spots:[5],delay:13,types:0,bonuses:[0]},{spots:[2,8],delay:15,types:0},{spots:[1,9],delay:15.5,types:0},{spots:[2,8],delay:16,types:0},{spots:[1,9],delay:17,types:0},{spots:[5],delay:19,types:0},{spots:[10],delay:22,types:0,bonuses:[0]},{spots:[0],delay:24,types:0},{spots:[4,5,6],delay:27,types:0}],enemies:[{spots:[2],delay:22,types:1},{spots:[9],delay:23,types:1},{spots:[3,10],delay:27,types:1}]},{delay:30,cats:[{spots:[4,5,6],delay:0,types:0},{spots:[4,5,6],delay:1.3,types:0},{spots:[4,5,6],delay:2.6,types:0},{spots:[2,8,5],delay:6,types:0},{spots:[1],delay:13,types:0},{spots:[9],delay:16,types:0}],enemies:[{spots:[9],delay:3,types:1},{spots:[3],delay:8,types:1,bonuses:[0]},{spots:[11],delay:11,types:0},{spots:[12],delay:14,types:0},{spots:[13],delay:17,types:0}]},{delay:50,cats:[{spots:[1,5,0],delay:.5,types:0,bonuses:[,1]},{spots:[4,5,6],delay:2.5,types:0}],enemies:[{spots:[3,7],delay:0,types:1},{spots:[2,8],delay:.5,types:1},{spots:[10,0],delay:5,types:1,bonuses:[0]},{spots:[9,1],delay:5.5,types:1},{spots:[7,3],delay:6.5,types:1,bonuses:[,0]},{spots:[13],delay:7,types:0}]}]},{id:0,waves:[{delay:0,randoms:{catsAmount:20,cats:[{weight:.4,spots:[0,1,2,3,7,8,9,10],amount:{min:1,max:2},freq:{min:.5,max:3},type:0,bonuses:{0:.05,1:.02}},{weight:.6,spots:[4,5,6],amount:{min:2,max:3},freq:{min:1,max:2},type:0}],enemies:[{weight:.95,spots:[0,1,2,3,4,5,6,7,8,9,10],amount:{min:1,max:2},freq:{min:2,max:7},type:1,bonuses:{0:.1,1:.2}},{weight:.05,spots:[0,1,9,10],amount:{min:1,max:2},freq:{min:2,max:7},type:3,bonuses:{0:1}}]},cats:[],enemies:[]}]},{id:1,waves:[{delay:0,randoms:{catsAmount:5e3,cats:[{weight:.3,spots:[0,1,2,3,7,8,9,10],amount:{min:1,max:2},freq:{min:.5,max:3},type:0,bonuses:{0:.05,1:.02}},{weight:.5,spots:[4,5,6],amount:{min:2,max:3},freq:{min:1,max:2},type:0},{weight:.2,spots:[0,1,2,3,7,8,9,10],amount:{min:1,max:1},freq:{min:2,max:6},type:1,bonuses:{0:.1}}],enemies:[{weight:.3,spots:[11,12,13,14],amount:{min:1,max:1},freq:{min:3,max:8},type:0},{weight:.55,spots:[0,1,2,3,4,5,6,7,8,9,10],amount:{min:1,max:2},freq:{min:2,max:5},type:1,bonuses:{0:.1,1:.2}},{weight:.1,spots:[0,1,9,10,15,17],amount:{min:1,max:1},freq:{min:5,max:13},type:2},{weight:.05,spots:[0,1,9,10],amount:{min:1,max:2},freq:{min:2,max:7},type:3,bonuses:{0:1}}]},cats:[],enemies:[]}]}]);var du=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),bu(this,"data",void 0),bu(this,"spawnsDelayTicker",void 0),this.data=e}var e,n,r;return e=t,(n=[{key:"init",value:function(){var t,e=this;if((null===(t=this.data)||void 0===t?void 0:t.length)>0&&this.data[0].delay>=0){var n=this.data;this.spawnsDelayTicker=O((function(t){e.spawn(t)}),n.map((function(t){return t.delay})))}}},{key:"destroy",value:function(){g(this.spawnsDelayTicker),this.data=null}},{key:"getIndexRandomData",value:function(t){for(var e=Math.random(),n=0,r=0;r<t.length;r++)if(e<(n+=t[r].weight))return r;return-1}},{key:"getSpawnPosition",value:function(t){var e={x:0,y:0},n=(uf-200-100)/4,r=(of-400)/2;switch(t){case 0:e.x=0,e.y=100+3*n;break;case 1:e.x=0,e.y=100+2*n;break;case 2:e.x=-50,e.y=100+n;break;case 3:e.x=0,e.y=100;break;case 4:e.x=200,e.y=-80;break;case 5:e.x=200+r,e.y=-80;break;case 6:e.x=200+2*r,e.y=-80;break;case 7:e.x=of,e.y=100;break;case 8:e.x=of+50,e.y=100+n;break;case 9:e.x=of,e.y=100+2*n;break;case 10:e.x=of,e.y=100+3*n;break;case 11:e.x=50,e.y=-80;break;case 12:e.x=200+.5*r,e.y=-80;break;case 13:e.x=200+1.5*r,e.y=-80;break;case 14:e.x=200+2.5*r,e.y=-80;break;case 15:e.x=200,e.y=uf;break;case 16:e.x=200+r,e.y=uf;break;case 17:e.x=200+2*r,e.y=uf}return e}},{key:"getStartImpulse",value:function(t){var e={damping:0,forceVector:{x:0,y:0}};switch(t){case 0:case 1:case 2:case 3:e.damping=.2,e.forceVector.x=10;break;case 4:case 5:case 6:break;case 7:case 8:case 9:case 10:e.damping=.2,e.forceVector.x=-10}return e}}])&&vu(e.prototype,n),r&&vu(e,r),t}();function mu(t){return(mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ou(t,e){return(Ou=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ju(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Pu(t);if(e){var o=Pu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Su(this,n)}}function Su(t,e){if(e&&("object"===mu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pu(t){return(Pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ou(t,e)}(i,t);var e,n,r,o=ju(i);function i(){return wu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"spawn",value:function(t){var e=this.data;this.makeSpawn(e[t])}},{key:"makeSpawn",value:function(t){for(var e=t.spots.length,n=0;n<e;n++){var r,o=Li.create();o.mainView.position.copyFrom(this.getSpawnPosition(t.spots[n]));var i="number"!=typeof t.types?t.types[n]:t.types,u=this.getView(i),a=Kc.obtain(Qe);o.addComponent(u.init()),o.addComponent(a.init(u,null===(r=t.bonuses)||void 0===r?void 0:r.at(n)));var c=this.getMovingData(t.spots[n],i);o.addComponent(Kc.obtain(wt).init(c,a));var f=Kc.obtain(B).init(G.CATS,u,a);o.addComponent(f),0!==c.startImpulse.damping&&o.addComponent(Kc.obtain(le).init(c.startImpulse))}}},{key:"getView",value:function(t){switch(t){case 0:return Kc.obtain(go);case 1:return Kc.obtain(Co)}}},{key:"getMovingData",value:function(t,e){var n=0===e?{x:0,y:3}:{x:0,y:5};return{startImpulse:this.getStartImpulse(t),direction:n,clearCondition:function(t){return t.y<-90},triggerCondition:function(t){return t.y>1100}}}}])&&gu(e.prototype,n),r&&gu(e,r),i}(du);function Ru(t){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ku(t){return function(t){if(Array.isArray(t))return Eu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Eu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tu(t,e){return(Tu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Au(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Iu(t);if(e){var o=Iu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bu(this,n)}}function Bu(t,e){if(e&&("object"===Ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Du(t)}function Du(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iu(t){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mu,Fu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tu(t,e)}(i,t);var e,n,r,o=Au(i);function i(){var t;xu(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Vu(Du(t=o.call.apply(o,[this].concat(n))),"activeTypeIndex",void 0),Vu(Du(t),"amount",void 0),t}return e=i,(n=[{key:"init",value:function(t){this.amount=t,this.spawn()}},{key:"spawn",value:function(){var t=this.data;this.activeTypeIndex=this.getIndexRandomData(t),this.amount>0&&this.makeSpawn(this.getRandomSpotType()),this.amount>0&&this.createNextSpawn()}},{key:"getRandomSpotType",value:function(){var t=this.data[this.activeTypeIndex],e={spots:[],delay:0,types:t.type},n=Math.min(this.amount,Math.floor(Math.random()*(t.amount.max-t.amount.min)+t.amount.min));this.amount-=n;var r=ku(t.spots),o=this.calculateBonus(t.bonuses),i=-1;-1!==o&&(i=Math.floor(Math.random()*n),e.bonuses=[]);for(var u=0;u<n;u++){var a=r.splice(Math.floor(Math.random()*r.length),1)[0];e.spots.push(a),u===i&&(e.bonuses[u]=o)}return e}},{key:"calculateBonus",value:function(t){if(!t)return-1;var e=0,n=Math.random();for(var r in t)if(n<=(e+=t[r]))return+r}},{key:"createNextSpawn",value:function(){var t=this,e=this.data[this.activeTypeIndex].freq,n=e.min,r=e.max;this.spawnsDelayTicker=w((function(){t.spawn()}),1e3*(Math.random()*(r-n)+n))}}])&&Cu(e.prototype,n),r&&Cu(e,r),i}(_u);function Lu(t){return(Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hu(t,e){return(Hu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yu(t);if(e){var o=Yu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return zu(this,n)}}function zu(t,e){if(e&&("object"===Lu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Yu(t){return(Yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t[t.ANCHOR=0]="ANCHOR",t[t.FISH=1]="FISH",t[t.JELLY=2]="JELLY",t[t.FRIEND=3]="FRIEND"}(Mu||(Mu={}));var $u=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hu(t,e)}(i,t);var e,n,r,o=qu(i);function i(){return Nu(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"spawn",value:function(t){var e=this.data;this.makeSpawn(e[t])}},{key:"makeSpawn",value:function(t){for(var e=t.spots.length,n=0;n<e;n++){var r,o=Li.create();o.mainView.position.copyFrom(this.getSpawnPosition(t.spots[n]));var i="number"!=typeof t.types?t.types[n]:t.types,u=this.getView(i),a=Kc.obtain(Ue);o.addComponent(a.init(this.getTypeData(i),null===(r=t.bonuses)||void 0===r?void 0:r.at(n))),o.addComponent(u.init());var c=this.getMovingData(i,t.spots[n]);u.view.scale.set(c.direction.x<0?-1:1,1);var f=this.getSinkComponent(i);f instanceof er&&(u.view.rotation=Math.atan2(c.direction.y,c.direction.x)+.5*Math.PI),o.addComponent(f.init(c)),o.addComponent(Kc.obtain(B).init(G.ENEMIES,u,a)),0!==c.startImpulse.damping&&o.addComponent(Kc.obtain(le).init(c.startImpulse))}}},{key:"getSinkComponent",value:function(t){return t===Mu.JELLY?Kc.obtain(er):Kc.obtain(wt)}},{key:"getTypeData",value:function(t){var e={type:t,bubbled:!1,impulsed:!0,changeDirection:!1,killPlayer:!0};return t===Mu.FISH||t===Mu.FRIEND?(e.bubbled=!0,e.changeDirection=!0):t===Mu.ANCHOR?e.impulsed=!1:t===Mu.JELLY&&(e.killPlayer=!1),e}},{key:"getStartImpulse",value:function(t){var e={damping:0,forceVector:{x:0,y:0}};switch(t){case 0:case 1:case 2:case 3:e.damping=.2,e.forceVector.x=5;break;case 4:case 5:case 6:break;case 7:case 8:case 9:case 10:e.damping=.2,e.forceVector.x=-5}return e}},{key:"getMovingData",value:function(t,e){var n=this.getStartImpulse(e),r=this.getDirection(t,e);return{startImpulse:n,direction:r,clearCondition:this.getClearCondition(t,r)}}},{key:"getClearCondition",value:function(t,e){switch(t){case Mu.ANCHOR:return function(t){return e.y>0?t.y>uf:t.y<0};case Mu.FISH:case Mu.FRIEND:return function(t){return e.x<0?t.x<0:t.x>of};case Mu.JELLY:return function(t){return(e.x<0?t.x<-100:t.x>of+100)||t.y<-100}}}},{key:"getDirection",value:function(t,e){var n={x:0,y:0};switch(t){case Mu.ANCHOR:n.y=10;break;case Mu.FISH:case Mu.FRIEND:var r=e>6?-1:1;n.x=4*r;break;case Mu.JELLY:switch(n.x=0,n.y=-3,e){case 0:n.x=2,n.y=-2;break;case 1:n.x=2,n.y=-1;break;case 9:n.x=-2,n.y=-2;break;case 10:n.x=-2,n.y=-1}}return n}},{key:"getView",value:function(t){switch(t){case Mu.ANCHOR:return Kc.obtain(Lo);case Mu.FISH:return Kc.obtain(Ce);case Mu.JELLY:return Kc.obtain(qn);case Mu.FRIEND:return Kc.obtain(ri)}}}])&&Uu(e.prototype,n),r&&Uu(e,r),i}(du);function Gu(t){return(Gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ju(t){return function(t){if(Array.isArray(t))return Wu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Wu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wu(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qu(t,e){return(Qu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zu(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=na(t);if(e){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ta(this,n)}}function ta(t,e){if(e&&("object"===Gu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ea(t)}function ea(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function na(t){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ra(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var oa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qu(t,e)}(i,t);var e,n,r,o=Zu(i);function i(){var t;Xu(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ra(ea(t=o.call.apply(o,[this].concat(n))),"activeTypeIndex",void 0),t}return e=i,(n=[{key:"init",value:function(){this.spawn()}},{key:"spawn",value:function(){var t=this.data;this.activeTypeIndex=this.getIndexRandomData(t),this.makeSpawn(this.getRandomSpotType()),this.createNextSpawn()}},{key:"getRandomSpotType",value:function(){var t=this.data[this.activeTypeIndex],e={spots:[],delay:0,types:t.type},n=Math.floor(Math.random()*(t.amount.max-t.amount.min)+t.amount.min),r=Ju(t.spots),o=this.calculateBonus(t.bonuses),i=-1;-1!==o&&void 0!==o&&(i=Math.floor(Math.random()*n),e.bonuses=[]);for(var u=0;u<n;u++){var a=r.splice(Math.floor(Math.random()*r.length),1)[0];e.spots.push(a),u===i&&(console.log("this enemy has bonus!",o),e.bonuses[u]=o)}return e}},{key:"calculateBonus",value:function(t){if(!t)return-1;var e=0,n=Math.random();for(var r in t)if(n<=(e+=t[r]))return+r}},{key:"createNextSpawn",value:function(){var t=this,e=this.data[this.activeTypeIndex].freq,n=e.min,r=e.max;this.spawnsDelayTicker=w((function(){t.spawn()}),1e3*(Math.random()*(r-n)+n))}}])&&Ku(e.prototype,n),r&&Ku(e,r),i}($u);function ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ua=function(){function t(e){var n,r,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=void 0,(r="container")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,this.container=e,this.init()}var e,n,r;return e=t,(n=[{key:"destroy",value:function(){this.container=null}},{key:"init",value:function(){var t=Li.create();this.container.addChild(t.mainView);var e=Kc.obtain(bi);t.addComponent(e.init())}}])&&ia(e.prototype,n),r&&ia(e,r),t}();function aa(t){return(aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ca(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return fa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fa(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}function fa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function la(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sa(t,e){return(sa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ya(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=va(t);if(e){var o=va(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pa(this,n)}}function pa(t,e){if(e&&("object"===aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ha(t)}function ha(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function va(t){return(va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ba(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var da=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sa(t,e)}(i,t);var e,n,r,o=ya(i);function i(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ba(ha(n=o.call(this)),"data",void 0),ba(ha(n),"totalSaved",void 0),ba(ha(n),"saved",void 0),ba(ha(n),"spawners",void 0),ba(ha(n),"level",void 0),ba(ha(n),"uiContainer",void 0),ba(ha(n),"ui",void 0),ba(ha(n),"waveDelayTicker",void 0),ba(ha(n),"catsAmount",void 0),n.uiContainer=t,n.level=e,n}return e=i,(n=[{key:"init",value:function(){this.data=hu.getLevel(this.level),this.data?(this.saved=0,this.totalSaved=0,this.spawners=[],this.createBack(),this.createLevelUI(),cf.levelStart.emit()):(hu.reset(),cf.gameOver.emit())}},{key:"levelStart",value:function(){var t=this;this.catsAmount=0,this.data.waves.forEach((function(e){t.catsAmount+=e.cats.flat(1).map((function(t){return t.spots})).flat(1).length,t.catsAmount+=e.randoms?e.randoms.catsAmount:0})),console.log("need to save",this.catsAmount),cf.waveStart.emit()}},{key:"waveStart",value:function(){var t=this;this.waveDelayTicker=O((function(e){var n=t.data.waves[e];t.createCatSpawner(n),t.createEnemySpawner(n)}),this.data.waves.map((function(t){return t.delay})))}},{key:"createBack",value:function(){var t=Li.create(),e=Kc.obtain(Or);t.addComponent(e.init())}},{key:"levelCompleted",value:function(){var t=this;this.level=hu.nextLevel();var e,n=ca(this.spawners);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.destroy(),cf.update.remove(r),cf.levelCompleted.remove(r)}}catch(t){n.e(t)}finally{n.f()}this.spawners=[],window.setTimeout((function(){t.startLevel()}),1e3)}},{key:"gameOver",value:function(){this.saveHighScore(),this.clear()}},{key:"saveHighScore",value:function(){console.log(this.totalSaved>af.score),this.totalSaved>af.score&&(af.score=this.totalSaved)}},{key:"startLevel",value:function(){this.saved=0,this.data=hu.getLevel(this.level),this.data?cf.levelStart.emit():(hu.reset(),this.saveHighScore(),cf.gameOver.emit())}},{key:"clear",value:function(){var t,e=ca(this.spawners);try{for(e.s();!(t=e.n()).done;)t.value.destroy()}catch(t){e.e(t)}finally{e.f()}g(this.waveDelayTicker),this.waveDelayTicker=null,this.ui.destroy(),this.ui=null,this.spawners=null,this.data=null,hu.reset()}},{key:"createLevelUI",value:function(){this.ui=new ua(this.uiContainer)}},{key:"createCatSpawner",value:function(t){var e;t.randoms?(e=new Fu(t.randoms.cats)).init(t.randoms.catsAmount):(e=new _u(t.cats)).init(),cf.update.add(e),cf.levelCompleted.add(e),this.spawners.push(e)}},{key:"createEnemySpawner",value:function(t){var e;e=t.randoms?new oa(t.randoms.enemies):new $u(t.enemies),cf.update.add(e),cf.levelCompleted.add(e),e.init(),this.spawners.push(e)}},{key:"catSaved",value:function(){this.saved++,this.totalSaved++,this.saved===this.catsAmount&&(console.log("level completed"),cf.levelCompleted.emit())}},{key:"isCorrectType",value:function(t){return!1}}])&&la(e.prototype,n),r&&la(e,r),i}(y);function ma(t){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||ga(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ga(t,e){if(t){if("string"==typeof t)return Oa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oa(t,e):void 0}}function Oa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ja(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pa(t,e){return(Pa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ka(t);if(e){var o=ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ra(this,n)}}function Ra(t,e){if(e&&("object"===ma(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ka(t){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ea=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pa(t,e)}(i,t);var e,n,r,o=_a(i);function i(){return ja(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){}},{key:"isCorrectType",value:function(t){return t instanceof Qe}},{key:"update",value:function(t){if(this.components){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ga(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.components);try{for(n.s();!(e=n.n()).done;){var r,o=wa(e.value,2),i=o[0];if(o[1],i.enabled){var u=null===(r=i.getEntity())||void 0===r?void 0:r.mainView;u&&(u.position.x<0?(u.position.x=0,i.getEntity().addComponent(Kc.obtain(le).init({damping:.5,forceVector:{x:5,y:0}}))):u.position.x>of&&(u.position.x=of,i.getEntity().addComponent(Kc.obtain(le).init({damping:.5,forceVector:{x:-5,y:0}}))))}}}catch(t){n.e(t)}finally{n.f()}}}}])&&Sa(e.prototype,n),r&&Sa(e,r),i}(y);function xa(t){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ca(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Aa(t,e){return(Aa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ia(t);if(e){var o=Ia(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Da(this,n)}}function Da(t,e){if(e&&("object"===xa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ia(t){return(Ia=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Va=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Aa(t,e)}(i,t);var e,n,r,o=Ba(i);function i(){return Ca(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){}},{key:"isCorrectType",value:function(t){return t instanceof Ue}}])&&Ta(e.prototype,n),r&&Ta(e,r),i}(y);function Ma(t){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||La(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function La(t,e){if(t){if("string"==typeof t)return Na(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Na(t,e):void 0}}function Na(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ua(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ha(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qa(t,e){return(qa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function za(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$a(t);if(e){var o=$a(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ya(this,n)}}function Ya(t,e){if(e&&("object"===Ma(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function $a(t){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ga=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qa(t,e)}(i,t);var e,n,r,o=za(i);function i(){return Ua(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){}},{key:"isCorrectType",value:function(t){return t instanceof le}},{key:"update",value:function(t){if(this.components){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=La(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.components);try{for(n.s();!(e=n.n()).done;){var r,o=Fa(e.value,2),i=o[0];if(o[1],i.enabled){var u=null===(r=i.getEntity())||void 0===r?void 0:r.mainView;if(u){var a,c=i.updatedDataAndGet().forceVector;0===c.x&&0===c.y?null===(a=i.getEntity())||void 0===a||a.removeComponent(i):(u.position.x+=c.x*t,u.position.y+=c.y*t)}}}}catch(t){n.e(t)}finally{n.f()}}}}])&&Ha(e.prototype,n),r&&Ha(e,r),i}(y);function Ja(t){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],u=!0,a=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){a=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(a)throw o}}return i}(t,e)||Xa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(t,e){if(t){if("string"==typeof t)return Ka(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ka(t,e):void 0}}function Ka(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tc(t,e){return(tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ec(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=oc(t);if(e){var o=oc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nc(this,n)}}function nc(t,e){if(e&&("object"===Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return rc(t)}function rc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oc(t){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ic(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tc(t,e)}(i,t);var e,n,r,o=ec(i);function i(){var t;Qa(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ic(rc(t=o.call.apply(o,[this].concat(n))),"score",void 0),t}return e=i,(n=[{key:"init",value:function(){this.score=0}},{key:"catSaved",value:function(t){if(this.score+=t,this.components){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Xa(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(a)throw i}}}}(this.components);try{for(n.s();!(e=n.n()).done;){var r=Wa(e.value,2),o=r[0];r[1],o.enabled&&o.setScore(this.score)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"isCorrectType",value:function(t){return t instanceof bi}}])&&Za(e.prototype,n),r&&Za(e,r),i}(y);function ac(t){return(ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lc(t,e){return(lc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pc(t);if(e){var o=pc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yc(this,n)}}function yc(t,e){if(e&&("object"===ac(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function pc(t){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lc(t,e)}(i,t);var e,n,r,o=sc(i);function i(){return cc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"init",value:function(){}},{key:"isCorrectType",value:function(t){return t instanceof Bn}},{key:"bonusCreate",value:function(t,e){var n=Li.create();n.mainView.position.set(t,0);var r=Kc.obtain(Bn),o=this.getView(e);n.addComponent(o.init()),n.addComponent(r.init(e)),n.addComponent(Kc.obtain(B).init(G.BONUSES,o,r)),n.addComponent(Kc.obtain(wt).init(this.getMovingData()))}},{key:"getView",value:function(t){switch(t){case 0:return Kc.obtain(Hr);case 1:return Kc.obtain(Qr)}}},{key:"getMovingData",value:function(){return{startImpulse:{damping:1,forceVector:{x:0,y:0}},direction:{x:0,y:6},clearCondition:function(t){return t.y>uf}}}}])&&fc(e.prototype,n),r&&fc(e,r),i}(y);function vc(t){return(vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bc(t,e){return(bc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wc(t);if(e){var o=wc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mc(this,n)}}function mc(t,e){if(e&&("object"===vc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wc(t){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bc(t,e)}(n,t);var e=dc(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e.call(this)}return n}(o.b);function Oc(t){return(Oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sc(t,e){return(Sc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rc(t);if(e){var o=Rc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _c(this,n)}}function _c(t,e){if(e&&("object"===Oc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rc(t){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sc(t,e)}(c,t);var e,n,r,i=Pc(c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this)}return e=c,(n=[{key:"create",value:function(){cf.init=new u.a("init"),cf.levelStart=new u.a("levelStart"),cf.waveStart=new u.a("waveStart"),cf.componentAdded=new u.a("componentAdded"),cf.componentRemoved=new u.a("componentRemoved"),cf.entityAdded=new u.a("entityAdded"),cf.entityRemoved=new u.a("entityRemoved"),cf.mouseMoving=new u.a("mouseMoving"),cf.createBubble=new u.a("createBubble"),cf.catSaved=new u.a("catSaved"),cf.levelCompleted=new u.a("levelCompleted"),cf.waveCompleted=new u.a("waveCompleted"),cf.update=new u.a("update"),cf.bonusCreate=new u.a("bonusCreate"),cf.applyBonus=new u.a("applyBonus"),cf.createFakeBubble=new u.a("createFakeBubble"),cf.gameOver=new u.a("gameOver");var t=new o.b;this.addChild(t);var e=new o.b;this.addChild(e);var n=new o.b;this.addChild(n),this.addSystem(new su(t)),this.addSystem(new mn(t)),this.addSystem(new Ea),this.addSystem(new Va),this.addSystem(new Ct),this.addSystem(new ln),this.addSystem(new Qi),this.addSystem(new X),this.addSystem(new Ga),this.addSystem(new da(n)),this.addSystem(new uc),this.addSystem(new hc);var r=Li.create();r.mainView.position.set(.5*of,uf),r.mainView.rotation=Math.PI;var i=Kc.obtain(lr),a=Kc.obtain(Jo);r.addComponent(i.init()),r.addComponent(a.init()),r.addComponent(Kc.obtain(B).init(G.PLAYER,a,i)),e.addChild(r.mainView)}},{key:"start",value:function(){a.a.shared.add(this.update,this),cf.init.emit()}},{key:"close",value:function(){this.clear()}},{key:"clear",value:function(){a.a.shared.remove(this.update,this)}},{key:"update",value:function(t){cf.update.emit(t)}},{key:"addSystem",value:function(t){for(var e in cf)cf[e].add(t)}}])&&jc(e.prototype,n),r&&jc(e,r),c}(gc);function Ec(t){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Tc(t,e){return(Tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ac(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dc(t);if(e){var o=Dc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bc(this,n)}}function Bc(t,e){if(e&&("object"===Ec(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Dc(t){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ic=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tc(t,e)}(i,t);var e,n,r,o=Ac(i);function i(){return xc(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"create",value:function(){this.interactive=!0;var t=new jr.a;t.beginFill(1118481,1),t.drawRect(0,0,of,uf),t.endFill(),this.addChild(t);var e=new oi.b("Highscore: "+af.score.toString(),{fill:"#FFFFFF",fontSize:"30px"});e.position.set(.5*of,.5*uf-200),e.anchor.set(.5,.5),this.addChild(e);var n=new oi.b("Wet Cats",{fill:"#FFFFFF",fontSize:"60px"});n.position.set(.5*of,.5*uf),n.anchor.set(.5,.5),this.addChild(n);var r=new oi.b("press anywhere to start...",{fill:"#FFFFFF",fontSize:"30px"});r.position.set(.5*of,.5*uf+100),r.anchor.set(.5,.5),this.addChild(r)}},{key:"start",value:function(){this.on("pointerdown",this.onStageClicked,this)}},{key:"close",value:function(){this.off("pointerdown")}},{key:"onStageClicked",value:function(t){Wc.start(kc)}}])&&Cc(e.prototype,n),r&&Cc(e,r),i}(gc);function Vc(t){return(Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fc(t,e){return(Fc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Lc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Uc(t);if(e){var o=Uc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nc(this,n)}}function Nc(t,e){if(e&&("object"===Vc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Uc(t){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fc(t,e)}(i,t);var e,n,r,o=Lc(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this)}return e=i,(n=[{key:"create",value:function(){var t=new jr.a;t.beginFill(1118481,1),t.drawRect(0,0,of,uf),t.endFill(),this.addChild(t);var e=new oi.b("Loading...",{fill:"#FFFFFF",fontSize:"30px"});e.position.set(.5*of,.5*uf),e.anchor.set(.5,.5),this.addChild(e),this.visible=!1}},{key:"start",value:function(){this.visible=!0}},{key:"close",value:function(){this.destroy({children:!0})}}])&&Mc(e.prototype,n),r&&Mc(e,r),i}(gc);function qc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),zc(this,"states",void 0),zc(this,"currentState",void 0),zc(this,"stage",void 0),this.stage=e,this.states=new Map}var e,n,r;return e=t,(n=[{key:"add",value:function(t){this.states.set(t.constructor,t),t.create()}},{key:"start",value:function(t){var e=this.states.get(t);if(!e)throw new Error("No state ".concat(t));this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.start(r),this.currentState=e,this.stage.addChild(this.currentState)}},{key:"restart",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=this.currentState;this.currentState&&(this.currentState.close(),this.stage.removeChild(this.currentState)),window.setTimeout((function(){o.start(n),t.currentState=o,t.stage.addChild(t.currentState)}),100)}}])&&qc(e.prototype,n),r&&qc(e,r),t}();function $c(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function Gc(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){$c(i,r,o,u,a,"next",t)}function a(t){$c(i,r,o,u,a,"throw",t)}u(void 0)}))}}function Jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Wc,Xc,Kc=new Ri,Qc=function(){function t(){var e,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=void 0,(n="gameContainer")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.gameContainer=new o.b,this.createAndStart()}var e,n,r,u,a;return e=t,(n=[{key:"createAndStart",value:(a=Gc(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(Wc=new Yc(this.gameContainer)).add(new Hc),Wc.start(Hc),t.next=5,this.loadAssets();case 5:Wc.add(new Ic),Wc.add(new kc),Wc.start(Ic);case 8:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"resize",value:function(t,e){this.gameContainer.height=e,this.gameContainer.scale.x=this.gameContainer.scale.y,this.gameContainer.position.set(.5*t-.5*of*this.gameContainer.scale.x,0)}},{key:"loadAssets",value:(u=Gc(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var e=new i.b,n={crossOrigin:!0};e.baseUrl="assets/",e.add("back","images/back0.jpg",n),e.add("cat","spines/cat_skeleton.json",n),e.add("bubble","spines/bubble.json",n),e.add("enemy0","spines/enemy0.json",n),e.add("fish0","spines/fish0.json",n),e.add("jelly","spines/jelly.json",n),e.onProgress.add((function(t){})),e.load((function(e,n){Xc=n,t()}))})));case 1:case"end":return t.stop()}}),t)}))),function(){return u.apply(this,arguments)})}])&&Jc(e.prototype,n),r&&Jc(e,r),t}(),Zc=n(117),tf=n(60),ef=n(0);function nf(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function rf(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function u(t){nf(i,r,o,u,a,"next",t)}function a(t){nf(i,r,o,u,a,"throw",t)}u(void 0)}))}}Zc.a.registerLoaderPlugin(),window.onload=rf(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:lf();case 1:case"end":return t.stop()}}),t)})));var of=720,uf=1280,af={score:0},cf={},ff={width:of,height:uf,autoDensity:!0,resolution:Math.min(Math.floor(window.devicePixelRatio),3)};function lf(){var t=new r.a(ff);t.ticker.maxFPS=60,document.body.appendChild(t.view),t.view.style.left="0%",t.view.style.top="0%",t.view.style.width="100%",t.view.style.height="100%";var e=new Qc;t.stage.addChild(e.gameContainer);var n=function(){var n={width:innerWidth,height:innerHeight},r=n.width,o=n.height;t.renderer.resize(r,o),e.resize(r,o)};window.addEventListener("resize",n),n()}window.onfocus=function(){},window.onblur=function(){}}});
//# sourceMappingURL=bundle.8d562183aacf8a197317.js.map